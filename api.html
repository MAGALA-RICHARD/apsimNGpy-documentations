

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>apsimNGpy: API Reference &mdash; apsimNGpy 0.39.10.17 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d8b7f34"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=df1a032d"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
      <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Plotting and Visualizing Simulated Output" href="plotting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            apsimNGpy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting%20started.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting%20started.html#quick-guides">Quick guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting%20started.html#locating-the-apsim-binaries">Locating the APSIM Binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting%20started.html#changing-setting-the-apsim-installation-binaries-path">Changing/setting the APSIM installation binaries path</a></li>
<li class="toctree-l1"><a class="reference internal" href="instantiating.html">Instantiating <code class="docutils literal notranslate"><span class="pre">apsimNGpy</span></code> Model Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Usage.html">Running and Retrieving Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">VERSION CONTROL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="version_control.html">Version Control and APSIM Compatibility in apsimNGpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage_env.html">Managing apsimNGpy project environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage_env.html#step-1-create-env-in-your-project-root">Step 1 — Create .env in your project root</a></li>
<li class="toctree-l1"><a class="reference internal" href="manage_env.html#set-3-use-it-in-your-app">Set 3.Use it in your app:</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EDITING &amp; INSPECTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model%20inspection.html">Inspect Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="model%20inspection.html#whole-model-inspection">Whole Model inspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="inspect_model_parameters.html">Inspect Model Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="edit.html">Editing Model Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html">Quick and Simple Way to Run Factorial Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#quick-overview">Quick Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#getting-started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#adding-input-factors">Adding Input Factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#finalizing-the-experiment">Finalizing the Experiment</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#api-summary">API Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="factorial_experiments.html#further-reading">Further Reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="weather.html">Weather Data Replacement.</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DISTRIBUTED COMPUTING</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mult_core.html">Distributed Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mult_core.html#instantiating-and-running-the-simulations">Instantiating and Running the Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="mult_core.html#customization">Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="mult_core.html#running-all-jobs">Running all jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="mult_core.html#working-in-notebooks-jupyter-colab">Working in notebooks (Jupyter/Colab)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OPTIMIZATION &amp; TRADE-OFF ANALYSIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="OPT.html">Single-Objective Optimization with apsimNGpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="OPT.html#mixed-variable-optimization-in-apsimngpy">Mixed-Variable Optimization in apsimNGpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="moo.html">Multi-Objective Optimization with apsimNGpy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SUPPORT DEVELOPMENT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how_to_cite.html">Support apsimNGpy development</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to_cite.html#how-to-cite-apsimngpy">How to Cite apsimNGpy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">TUTORIALS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="comp_cultivar.html">Comparing cultivars yield</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CHEATSHEET</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cheat.html">apsimNGpy cheatsheet</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SIMULATED DATA PLOTTING &amp; VISUALIZATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting and Visualizing Simulated Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html#moving-average-plots">Moving average plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html#categorical-plots">Categorical Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html#tidy-up-the-plots-for-reporting">Tidy up the plots for reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html#passing-a-custom-dataset">Passing a custom dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html#meta-info">Meta info</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API REFERENCE</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">apsimNGpy: API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-apsim">apsimNGpy.core.apsim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.apsim.ApsimModel</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-config">apsimNGpy.core.config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.any_bin_path_from_env"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.any_bin_path_from_env()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.get_apsim_bin_path"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.get_apsim_bin_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.get_bin_use_history"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.get_bin_use_history()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.list_drives"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.list_drives()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.load_crop_from_disk"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.load_crop_from_disk()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.scan_drive_for_bin"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.scan_drive_for_bin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.set_apsim_bin_path"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.set_apsim_bin_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.config.stamp_name_with_version"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.config.stamp_name_with_version()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-experimentmanager">apsimNGpy.core.experimentmanager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id123">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.experimentmanager.ExperimentManager</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-mult-cores">apsimNGpy.core.mult_cores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id268">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.mult_cores.is_my_iterable"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.mult_cores.is_my_iterable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.mult_cores.simulation_exists"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.mult_cores.simulation_exists()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id269">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.mult_cores.MultiCoreManager</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-pythonet-config">apsimNGpy.core.pythonet_config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-attributes">Module attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.CI"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.CI</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id281">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.get_apsim_file_reader"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.get_apsim_file_reader()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.get_apsim_version"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.get_apsim_version()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.is_file_format_modified"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.is_file_format_modified()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.load_pythonnet"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.load_pythonnet()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id296">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.pythonet_config.ConfigRuntimeInfo"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.pythonet_config.ConfigRuntimeInfo</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-runner">apsimNGpy.core.runner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id297">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.collect_csv_by_model_path"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.collect_csv_by_model_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.collect_csv_from_dir"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.collect_csv_from_dir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.collect_db_from_dir"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.collect_db_from_dir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.get_apsim_version"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.get_apsim_version()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.get_matching_files"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.get_matching_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.run_from_dir"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.run_from_dir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.run_model_externally"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.run_model_externally()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.upgrade_apsim_file"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.upgrade_apsim_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id307">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core.runner.RunError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.runner.RunError</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-core-utils-database-utils">apsimNGpy.core_utils.database_utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id308">Module attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.T"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.T</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id309">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.chunker"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.chunker()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.clear_all_tables"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.clear_all_tables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.clear_table"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.clear_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.dataview_to_dataframe"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.dataview_to_dataframe()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.delete_all_tables"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.delete_all_tables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.delete_table"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.delete_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.get_db_table_names"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.get_db_table_names()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.read_db_table"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.read_db_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.read_with_query"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.read_with_query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.write_results_to_sql"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.core_utils.database_utils.write_results_to_sql()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-exceptions">apsimNGpy.exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id337">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ApsimBinPathConfigError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ApsimBinPathConfigError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ApsimNGpyError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ApsimNGpyError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ApsimNotFoundError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ApsimNotFoundError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ApsimRuntimeError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ApsimRuntimeError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.CastCompilationError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.CastCompilationError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.EmptyDateFrameError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.EmptyDateFrameError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ForgotToRunError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ForgotToRunError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.InvalidInputErrors"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.InvalidInputErrors</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.ModelNotFoundError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.ModelNotFoundError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.NodeNotFoundError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.NodeNotFoundError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.exceptions.TableNotFoundError"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.exceptions.TableNotFoundError</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-optimizer-moo">apsimNGpy.optimizer.moo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id338">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.optimizer.moo.MultiObjectiveProblem</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-optimizer-single">apsimNGpy.optimizer.single</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id345">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.optimizer.single.ContinuousVariable"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.optimizer.single.ContinuousVariable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.optimizer.single.MixedVariable"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.optimizer.single.MixedVariable</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-parallel-process">apsimNGpy.parallel.process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id356">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.parallel.process.custom_parallel"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.parallel.process.custom_parallel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.parallel.process.custom_parallel_chunks"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.parallel.process.custom_parallel_chunks()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#apsimngpy-validation-evaluator">apsimNGpy.validation.evaluator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id364">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apsimNGpy.validation.evaluator.Validate"><code class="docutils literal notranslate"><span class="pre">apsimNGpy.validation.evaluator.Validate</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">apsimNGpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">apsimNGpy: API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="apsimngpy-api-reference">
<span id="api-ref"></span><h1>apsimNGpy: API Reference<a class="headerlink" href="#apsimngpy-api-reference" title="Link to this heading"></a></h1>
<section id="apsimngpy-core-apsim">
<h2>apsimNGpy.core.apsim<a class="headerlink" href="#apsimngpy-core-apsim" title="Link to this heading"></a></h2>
<p>Interface to APSIM simulation models using Python.NET
author: Richard Magala
email: <a class="reference external" href="mailto:magalarich20&#37;&#52;&#48;gmail&#46;com">magalarich20<span>&#64;</span>gmail<span>&#46;</span>com</a></p>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.apsim.</span></span><span class="sig-name descname"><span class="pre">ApsimModel</span></span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>This class inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">CoreModel</span></code> and extends its capabilities.</p>
<p>High-level methods/attributes flow between the <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> class and its parents, and child class is illustrated below:</p>
<pre  class="mermaid">
        flowchart LR
    PlotManager[&quot;PlotManager&quot;]
    CoreModel[&quot;CoreModel&quot;]
    ApsimModel[&quot;ApsimModel&quot;]
    ExperimentManager[&quot;ExperimentManager&quot;]

    PlotManager --&gt; CoreModel
    CoreModel --&gt; ApsimModel
    ApsimModel --&gt; ExperimentManager
    </pre><ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotManager</span></code>
Produces visual outputs from model results.
(Not exposed in the public API reference.)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">CoreModel</span></code>
Provides core methods for running and manipulating APSIM models.
(Not exposed in the public API reference.)</p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a>
Extends <code class="xref py py-class docutils literal notranslate"><span class="pre">CoreModel</span></code> with higher-level functionality.</p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager" title="apsimNGpy.core.experimentmanager.ExperimentManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentManager</span></code></a>
Creates and manages multi-factor experiments from a base scenario.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>

<span class="c1"># Initialize a model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span>
    <span class="s1">&#39;Maize&#39;</span><span class="p">,</span>
    <span class="n">out_path</span><span class="o">=</span><span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;apsim_model_example.apsimx&#39;</span>
<span class="p">)</span>

<span class="c1"># Run the model</span>
<span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>  <span class="c1"># &#39;Report&#39; is the default table name; adjust if needed</span>

<span class="c1"># Get all results</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span>

<span class="c1"># Or fetch a specific report table from the APSIM database</span>
<span class="n">report_df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">(</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<section id="list-of-public-attributes">
<h4>List of Public Attributes:<a class="headerlink" href="#list-of-public-attributes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.Datastore" title="apsimNGpy.core.apsim.ApsimModel.Datastore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Datastore</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.End" title="apsimNGpy.core.apsim.ApsimModel.End"><code class="xref py py-attr docutils literal notranslate"><span class="pre">End</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.Models" title="apsimNGpy.core.apsim.ApsimModel.Models"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Models</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.Simulations" title="apsimNGpy.core.apsim.ApsimModel.Simulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Simulations</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.Start" title="apsimNGpy.core.apsim.ApsimModel.Start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Start</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.base_name" title="apsimNGpy.core.apsim.ApsimModel.base_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">base_name</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.configs" title="apsimNGpy.core.apsim.ApsimModel.configs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configs</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.copy" title="apsimNGpy.core.apsim.ApsimModel.copy"><code class="xref py py-attr docutils literal notranslate"><span class="pre">copy</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.datastore" title="apsimNGpy.core.apsim.ApsimModel.datastore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datastore</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.experiment" title="apsimNGpy.core.apsim.ApsimModel.experiment"><code class="xref py py-attr docutils literal notranslate"><span class="pre">experiment</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.experiment_created" title="apsimNGpy.core.apsim.ApsimModel.experiment_created"><code class="xref py py-attr docutils literal notranslate"><span class="pre">experiment_created</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.factor_names" title="apsimNGpy.core.apsim.ApsimModel.factor_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">factor_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.factors" title="apsimNGpy.core.apsim.ApsimModel.factors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">factors</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.model" title="apsimNGpy.core.apsim.ApsimModel.model"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.model_info" title="apsimNGpy.core.apsim.ApsimModel.model_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model_info</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.others" title="apsimNGpy.core.apsim.ApsimModel.others"><code class="xref py py-attr docutils literal notranslate"><span class="pre">others</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.out" title="apsimNGpy.core.apsim.ApsimModel.out"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.out_path" title="apsimNGpy.core.apsim.ApsimModel.out_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out_path</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.path" title="apsimNGpy.core.apsim.ApsimModel.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.permutation" title="apsimNGpy.core.apsim.ApsimModel.permutation"><code class="xref py py-attr docutils literal notranslate"><span class="pre">permutation</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.ran_ok" title="apsimNGpy.core.apsim.ApsimModel.ran_ok"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ran_ok</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.report_names" title="apsimNGpy.core.apsim.ApsimModel.report_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">report_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.results" title="apsimNGpy.core.apsim.ApsimModel.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.run_method" title="apsimNGpy.core.apsim.ApsimModel.run_method"><code class="xref py py-attr docutils literal notranslate"><span class="pre">run_method</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.set_wd" title="apsimNGpy.core.apsim.ApsimModel.set_wd"><code class="xref py py-attr docutils literal notranslate"><span class="pre">set_wd</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.simulation_names" title="apsimNGpy.core.apsim.ApsimModel.simulation_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">simulation_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.simulations" title="apsimNGpy.core.apsim.ApsimModel.simulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">simulations</span></code></a></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">str_model</span></code></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.wk_info" title="apsimNGpy.core.apsim.ApsimModel.wk_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">wk_info</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.work_space" title="apsimNGpy.core.apsim.ApsimModel.work_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">work_space</span></code></a></p></li>
</ul>
<section id="list-of-public-methods">
<h5>List of Public Methods<a class="headerlink" href="#list-of-public-methods" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_crop_replacements" title="apsimNGpy.core.apsim.ApsimModel.add_crop_replacements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_crop_replacements()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_db_table" title="apsimNGpy.core.apsim.ApsimModel.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_fac" title="apsimNGpy.core.apsim.ApsimModel.add_fac"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_fac()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_factor" title="apsimNGpy.core.apsim.ApsimModel.add_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="apsimNGpy.core.apsim.ApsimModel.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_report_variable" title="apsimNGpy.core.apsim.ApsimModel.add_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variable()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.adjust_dul" title="apsimNGpy.core.apsim.ApsimModel.adjust_dul"><code class="xref py py-meth docutils literal notranslate"><span class="pre">adjust_dul()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.boxplot" title="apsimNGpy.core.apsim.ApsimModel.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">boxplot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.cat_plot" title="apsimNGpy.core.apsim.ApsimModel.cat_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.change_report" title="apsimNGpy.core.apsim.ApsimModel.change_report"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_report()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clean_up" title="apsimNGpy.core.apsim.ApsimModel.clean_up"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean_up()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="apsimNGpy.core.apsim.ApsimModel.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.create_experiment" title="apsimNGpy.core.apsim.ApsimModel.create_experiment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_experiment()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.detect_model_type" title="apsimNGpy.core.apsim.ApsimModel.detect_model_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">detect_model_type()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.distribution" title="apsimNGpy.core.apsim.ApsimModel.distribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">distribution()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_cultivar" title="apsimNGpy.core.apsim.ApsimModel.edit_cultivar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_cultivar()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model" title="apsimNGpy.core.apsim.ApsimModel.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model_by_path" title="apsimNGpy.core.apsim.ApsimModel.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.extract_any_soil_physical" title="apsimNGpy.core.apsim.ApsimModel.extract_any_soil_physical"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_any_soil_physical()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.extract_soil_physical" title="apsimNGpy.core.apsim.ApsimModel.extract_soil_physical"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_soil_physical()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.find_model" title="apsimNGpy.core.apsim.ApsimModel.find_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_crop_replacement" title="apsimNGpy.core.apsim.ApsimModel.get_crop_replacement"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_crop_replacement()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_model_paths" title="apsimNGpy.core.apsim.ApsimModel.get_model_paths"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_model_paths()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_simulated_output" title="apsimNGpy.core.apsim.ApsimModel.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_soil_from_web" title="apsimNGpy.core.apsim.ApsimModel.get_soil_from_web"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_soil_from_web()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_weather_from_file" title="apsimNGpy.core.apsim.ApsimModel.get_weather_from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weather_from_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_weather_from_web" title="apsimNGpy.core.apsim.ApsimModel.get_weather_from_web"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weather_from_web()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="apsimNGpy.core.apsim.ApsimModel.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="apsimNGpy.core.apsim.ApsimModel.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.plot_mva" title="apsimNGpy.core.apsim.ApsimModel.plot_mva"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_mva()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.preview_simulation" title="apsimNGpy.core.apsim.ApsimModel.preview_simulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">preview_simulation()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.read_apsimx_data" title="apsimNGpy.core.apsim.ApsimModel.read_apsimx_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_apsimx_data()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.recompile_edited_model" title="apsimNGpy.core.apsim.ApsimModel.recompile_edited_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recompile_edited_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.refresh_model" title="apsimNGpy.core.apsim.ApsimModel.refresh_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.reg_plot" title="apsimNGpy.core.apsim.ApsimModel.reg_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reg_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.relplot" title="apsimNGpy.core.apsim.ApsimModel.relplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">relplot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.remove_model" title="apsimNGpy.core.apsim.ApsimModel.remove_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.remove_report_variable" title="apsimNGpy.core.apsim.ApsimModel.remove_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variable()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.rename_model" title="apsimNGpy.core.apsim.ApsimModel.rename_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replace_downloaded_soils" title="apsimNGpy.core.apsim.ApsimModel.replace_downloaded_soils"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_downloaded_soils()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replace_met_file" title="apsimNGpy.core.apsim.ApsimModel.replace_met_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_met_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replace_model_from" title="apsimNGpy.core.apsim.ApsimModel.replace_model_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_model_from()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replace_soil_property_values" title="apsimNGpy.core.apsim.ApsimModel.replace_soil_property_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_soil_property_values()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replace_soils_values_by_path" title="apsimNGpy.core.apsim.ApsimModel.replace_soils_values_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_soils_values_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.replicate_file" title="apsimNGpy.core.apsim.ApsimModel.replicate_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replicate_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.restart_model" title="apsimNGpy.core.apsim.ApsimModel.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.run" title="apsimNGpy.core.apsim.ApsimModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.save" title="apsimNGpy.core.apsim.ApsimModel.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.scatter_plot" title="apsimNGpy.core.apsim.ApsimModel.scatter_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scatter_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.series_plot" title="apsimNGpy.core.apsim.ApsimModel.series_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">series_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.set_categorical_factor" title="apsimNGpy.core.apsim.ApsimModel.set_categorical_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_categorical_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.set_continuous_factor" title="apsimNGpy.core.apsim.ApsimModel.set_continuous_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_continuous_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.show_met_file_in_simulation" title="apsimNGpy.core.apsim.ApsimModel.show_met_file_in_simulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_met_file_in_simulation()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.spin_up" title="apsimNGpy.core.apsim.ApsimModel.spin_up"><code class="xref py py-meth docutils literal notranslate"><span class="pre">spin_up()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.summarize_numeric" title="apsimNGpy.core.apsim.ApsimModel.summarize_numeric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">summarize_numeric()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.update_cultivar" title="apsimNGpy.core.apsim.ApsimModel.update_cultivar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_cultivar()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.update_mgt" title="apsimNGpy.core.apsim.ApsimModel.update_mgt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_mgt()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.update_mgt_by_path" title="apsimNGpy.core.apsim.ApsimModel.update_mgt_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_mgt_by_path()</span></code></a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.14)"><span class="pre">os.PathLike</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_wd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_soil_from_web">
<span class="sig-name descname"><span class="pre">get_soil_from_web</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">NoneType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">System.Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Double</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Double</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soil_series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_sequence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_layers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thinnest_layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_growth_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edit_sections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_missing_sections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_plants</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust_dul</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_soil_from_web" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Download SSURGO-derived soil for a given location and populate the APSIM NG
soil sections in the current model.</p>
<p>This method updates the target Simulation(s) in-place by attaching a Soil node
(if missing) and writing section properties from the downloaded profile.</p>
</section>
<section id="parameters">
<h5>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>simulation<span class="classifier">str | sequence[str] | None, default None</span></dt><dd><p>Target simulation name(s). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all simulations are updated.</p>
</dd>
<dt>lonlat<span class="classifier">tuple[float, float] | None</span></dt><dd><p>Location for SSURGO download, as <code class="docutils literal notranslate"><span class="pre">(lon,</span> <span class="pre">lat)</span></code> in decimal degrees
(e.g., <code class="docutils literal notranslate"><span class="pre">(-93.045,</span> <span class="pre">42.012)</span></code>).</p>
</dd>
<dt>soil_series<span class="classifier">str | None, optional</span></dt><dd><p>Optional component/series filter. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the dominant series
by area is used. If a non-existent series is supplied, an error is raised.</p>
</dd>
<dt>thickness_sequence<span class="classifier">sequence[float] | str | None, default “auto”</span></dt><dd><p>Explicit layer thicknesses (mm). If <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, thicknesses are generated
from the layer controls (e.g., number of layers, growth rate, thinnest layer,
and <code class="docutils literal notranslate"><span class="pre">max_depth</span></code>). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, you must provide <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> and
<code class="docutils literal notranslate"><span class="pre">max_depth</span></code> to construct a uniform sequence.</p>
</dd>
<dt>thickness_value<span class="classifier">int | None, optional</span></dt><dd><p>Uniform thickness (mm) for all layers. Ignored if <code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is
provided; used only when <code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>max_depth<span class="classifier">int, default 2400</span></dt><dd><p>Maximum soil depth (mm) to cover with the thickness sequence.</p>
</dd>
<dt>edit_sections<span class="classifier">sequence[str], optional</span></dt><dd><p>Sections to edit. Default:
<code class="docutils literal notranslate"><span class="pre">(&quot;physical&quot;,</span> <span class="pre">&quot;organic&quot;,</span> <span class="pre">&quot;chemical&quot;,</span> <span class="pre">&quot;water&quot;,</span> <span class="pre">&quot;water_balance&quot;,</span> <span class="pre">&quot;solutes&quot;,</span> <span class="pre">&quot;soil_crop&quot;,</span> <span class="pre">&quot;meta_info&quot;)</span></code>.
Note: if sections are edited with differing layer counts, APSIM may error at run time.</p>
</dd>
<dt>attach_missing_sections<span class="classifier">bool, default True</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, create and attach missing section nodes before editing.</p>
</dd>
<dt>additional_plants<span class="classifier">sequence[str] | None, optional</span></dt><dd><p>Plant names for which to create/populate <code class="docutils literal notranslate"><span class="pre">SoilCrop</span></code> entries (e.g., to set KL/XF).</p>
</dd>
<dt>adjust_dul<span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, adjust layer values where <code class="docutils literal notranslate"><span class="pre">SAT</span></code> exceeds <code class="docutils literal notranslate"><span class="pre">DUL</span></code> to prevent APSIM runtime errors.</p>
</dd>
</dl>
</section>
<section id="returns">
<h5>Returns<a class="headerlink" href="#returns" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self</dt><dd><p>The same instance, to allow method chaining.</p>
</dd>
</dl>
</section>
<section id="raises">
<h5>Raises<a class="headerlink" href="#raises" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> provided with any non-positive value(s).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> <strong>and</strong> <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>Units mismatch or inconsistency between <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> and <code class="docutils literal notranslate"><span class="pre">max_depth</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="notes">
<h5>Notes<a class="headerlink" href="#notes" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Assumes soil sections live under a <strong>Soil</strong> node; when
<code class="docutils literal notranslate"><span class="pre">attach_missing_sections=True</span></code> a Soil node is created if missing.</p></li>
<li><p>Uses the optimized SoilManager routines (vectorized assignments / .NET double[] marshaling).</p></li>
<li><dl class="simple">
<dt>Side effects (in place on the APSIM model):</dt><dd><ol class="arabic simple">
<li><p>Creates/attaches <strong>Soil</strong> when needed.</p></li>
<li><p>Creates/updates child sections (<code class="docutils literal notranslate"><span class="pre">Physical</span></code>, <code class="docutils literal notranslate"><span class="pre">Organic</span></code>, <code class="docutils literal notranslate"><span class="pre">Chemical</span></code>,
<code class="docutils literal notranslate"><span class="pre">Water</span></code>, <code class="docutils literal notranslate"><span class="pre">WaterBalance</span></code>, <code class="docutils literal notranslate"><span class="pre">SoilCrop</span></code>) as listed in <code class="docutils literal notranslate"><span class="pre">edit_sections</span></code>.</p></li>
<li><p>Overwrites section properties (e.g., layer arrays such as <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">BD</span></code>,
<code class="docutils literal notranslate"><span class="pre">LL15</span></code>, <code class="docutils literal notranslate"><span class="pre">DUL</span></code>, <code class="docutils literal notranslate"><span class="pre">SAT</span></code>; solutes; crop KL/XF) with downloaded values.</p></li>
<li><p>Add <strong>SoilCrop</strong> children for any names in <code class="docutils literal notranslate"><span class="pre">additional_plants</span></code>.</p></li>
<li><p>Performs <strong>network I/O</strong> to retrieve SSURGO tables when <code class="docutils literal notranslate"><span class="pre">lonlat</span></code> is provided.</p></li>
<li><p>Emits log messages (warnings/info) when attaching nodes, resolving thickness controls,
or skipping missing columns.</p></li>
<li><p>Caches the computed soil profile in the helper during execution; the in-memory APSIM
tree remains modified after return.</p></li>
<li><p>Does <strong>not</strong> write files; call <code class="docutils literal notranslate"><span class="pre">save()</span></code> on the model if you want to persist changes.</p></li>
<li><p>The existing soil-profile structure is completed override by the newly generated soil profile.
So, variables like soil thickness, number of soil layers, etc. might be different from the old one.</p></li>
</ol>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.adjust_dul">
<span class="sig-name descname"><span class="pre">adjust_dul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.adjust_dul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<ul class="simple">
<li><p>This method checks whether the soil <code class="docutils literal notranslate"><span class="pre">SAT</span></code> is above or below <code class="docutils literal notranslate"><span class="pre">DUL</span></code> and decreases <code class="docutils literal notranslate"><span class="pre">DUL</span></code>  values accordingly</p></li>
<li><p>Need to call this method everytime <code class="docutils literal notranslate"><span class="pre">SAT</span></code> is changed, or <code class="docutils literal notranslate"><span class="pre">DUL</span></code> is changed accordingly.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">simulations</span></code>: str, name of the simulation where we want to adjust DUL and SAT according.</p>
<p><code class="docutils literal notranslate"><span class="pre">returns</span></code>:</p>
<blockquote>
<div><p>model the object for method chaining</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replace_downloaded_soils">
<span class="sig-name descname"><span class="pre">replace_downloaded_soils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soil_tables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replace_downloaded_soils" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl>
<dt>&#64;deprecated and will be removed in the future versions</dt><dd><p>Updates soil parameters and configurations for downloaded soil data in simulation models.</p>
<p>This method adjusts soil physical and organic parameters based on provided soil tables and applies these
adjustments to specified simulation models.</p>
<p>Parameters:
<code class="docutils literal notranslate"><span class="pre">soil_tables</span></code> (list): A list containing soil data tables. Expected to contain: see the naming
convention in the for APSIM - [0]: DataFrame with physical soil parameters. - [1]: DataFrame with organic
soil parameters. - [2]: DataFrame with crop-specific soil parameters. - simulation_names (list of str): Names or identifiers for the simulations to
be updated.s</p>
<p>Returns:
- self: Returns an instance of the class for <code class="docutils literal notranslate"><span class="pre">chaining</span></code> methods.</p>
<p>This method directly modifies the simulation instances found by <code class="docutils literal notranslate"><span class="pre">find_simulations</span></code> method calls,
updating physical and organic soil properties, as well as crop-specific parameters like lower limit (<code class="docutils literal notranslate"><span class="pre">LL</span></code>),
drain upper limit (<code class="docutils literal notranslate"><span class="pre">DUL</span></code>), saturation (<code class="docutils literal notranslate"><span class="pre">SAT</span></code>), bulk density (<code class="docutils literal notranslate"><span class="pre">BD</span></code>), hydraulic conductivity at saturation (<code class="docutils literal notranslate"><span class="pre">KS</span></code>),
and more based on the provided soil tables.</p>
</dd>
</dl>
<p>-&gt;&gt; key-word argument</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">set_sw_con</span></code>: Boolean, set the drainage coefficient for each layer
<code class="docutils literal notranslate"><span class="pre">adJust_kl</span></code>:: Bollean, adjust, kl based on productivity index
<code class="docutils literal notranslate"><span class="pre">CultvarName</span></code>: cultivar name which is in the sowing module for adjusting the rue
<code class="docutils literal notranslate"><span class="pre">tillage</span></code>: specify whether you will be carried to adjust some physical parameters</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.spin_up">
<span class="sig-name descname"><span class="pre">spin_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Report'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Carbon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.spin_up" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Perform a spin-up operation on the aPSim model.</p>
<p>This method is used to simulate a spin-up operation in an aPSim model. During a spin-up, various soil properties or
_variables may be adjusted based on the simulation results.</p>
</section>
<section id="id1">
<h5>Parameters:<a class="headerlink" href="#id1" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>report_name: str, optional (default: ‘Report’)</dt><dd><p>The name of the aPSim report to be used for simulation results.</p>
</dd>
<dt>start: str, optional</dt><dd><p>The start date for the simulation (e.g., ‘01-01-2023’). If provided, it will change the simulation start date.</p>
</dd>
<dt>end: str, optional</dt><dd><p>The end date for the simulation (e.g., ‘3-12-2023’). If provided, it will change the simulation end date.</p>
</dd>
<dt>spin_var: str, optional (default: ‘Carbon’). the difference between the start and end date will determine the spin-up period</dt><dd><p>The variable representing the child of spin-up operation. Supported values are ‘Carbon’ or ‘DUL’.</p>
</dd>
</dl>
</section>
<section id="id2">
<h5>Returns:<a class="headerlink" href="#id2" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self<span class="classifier">ApsimModel</span></dt><dd><p>The modified <code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> object after the spin-up operation.
you could call <code class="docutils literal notranslate"><span class="pre">save_edited</span></code> file and save it to your specified location, but you can also proceed with the simulation</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.read_apsimx_data">
<span class="sig-name descname"><span class="pre">read_apsimx_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.read_apsimx_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Read APSIM NG datastore for the current model. Raises FileNotFoundError if the model was initialized from
default models because those need to be executed first to generate a database.</p>
<p>The rationale for this method is that you can just access the results from the previous session without
running it if the database is in the same location as the apsimx file.</p>
<p>Since apsimNGpy clones the apsimx file, the original file is kept with attribute name <code class="docutils literal notranslate"><span class="pre">_model</span></code>, that is what is
being used to access the dataset</p>
<p>table: (str) name of the database table to read if none of all tables are returned</p>
<blockquote>
<div><p>Returns: pandas.DataFrame</p>
<blockquote>
<div><p>KeyError: if table is not found in the database</p>
</div></blockquote>
</div></blockquote>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.simulations">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.simulations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Retrieve simulation nodes in the APSIMx <code class="docutils literal notranslate"><span class="pre">Model.Core.Simulations</span></code> object.</p>
<p>We search all-Models.Core.Simulation in the scope of Model.Core.Simulations. Please note the difference
Simulations is the whole json object Simulation is the child with the field zones, crops, soils and managers.</p>
<p>Any structure of apsimx file can be handled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The simulations are c# referenced objects, and their manipulation maybe for advanced users only.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.simulation_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simulation_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.simulation_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated will be removed in future releases. Please use inspect_model function instead.</p>
<p>retrieves the name of the simulations in the APSIMx file
&#64;return: list of simulation names</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.restart_model">
<span class="sig-name descname"><span class="pre">restart_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.restart_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id3">
<h5>Parameters:<a class="headerlink" href="#id3" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_info: collections.NamedTuple.</dt><dd><p>A named tuple object returned by <code class="docutils literal notranslate"><span class="pre">load_apsim_model</span></code> from the <code class="docutils literal notranslate"><span class="pre">model_loader</span></code> module.</p>
</dd>
</dl>
<p>Notes:
- This parameter is crucial whenever we need to <code class="docutils literal notranslate"><span class="pre">reinitialize</span></code> the model, especially after updating management practices or editing the file.
- In some cases, this method is executed automatically.
- If <code class="docutils literal notranslate"><span class="pre">model_info</span></code> is not specified, the simulation will be reinitialized from <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This function is called by <code class="docutils literal notranslate"><span class="pre">save_edited_file</span></code>, <code class="docutils literal notranslate"><span class="pre">save'</span> <span class="pre">and</span> <span class="pre">``update_mgt`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">None]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload=True)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.save" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Saves the current APSIM NG model (<code class="docutils literal notranslate"><span class="pre">Simulations</span></code>) to disk and refresh runtime state.</p>
<p>This method writes the model to a file, using a version-aware strategy:</p>
<p>After writing, the model is recompiled via <code class="xref py py-func docutils literal notranslate"><span class="pre">recompile(self)()</span></code> and the
in-memory instance is refreshed using <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.restart_model" title="apsimNGpy.core.apsim.ApsimModel.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a>, ensuring the
object graph reflects the just-saved state. This is now only impozed if the user specified <code class="docutils literal notranslate"><span class="pre">relaod</span> <span class="pre">=</span> <span class="pre">True</span></code>.</p>
</section>
<section id="id4">
<h5>Parameters<a class="headerlink" href="#id4" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>file_name<span class="classifier">str or pathlib.Path, optional</span></dt><dd><p>Output path for the saved model file. If omitted (<code class="docutils literal notranslate"><span class="pre">None</span></code>), the method
uses the instance’s existing <code class="docutils literal notranslate"><span class="pre">path</span></code>. The resolved path is also
written back to instance <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute for consistency if reload is True.</p>
</dd>
<dt>reload: bool Optional default is True</dt><dd><p>resets the reference path to the one provided after serializing to disk. This implies that the instance <code class="docutils literal notranslate"><span class="pre">path</span></code> will be the provided <code class="docutils literal notranslate"><span class="pre">file_name</span></code></p>
</dd>
</dl>
</section>
<section id="id5">
<h5>Returns<a class="headerlink" href="#id5" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>Self</dt><dd><p>The same model/manager instance to support method chaining.</p>
</dd>
</dl>
</section>
<section id="id6">
<h5>Raises<a class="headerlink" href="#id6" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>OSError</dt><dd><p>If the file cannot be written due to I/O errors, permissions, or invalid path.</p>
</dd>
<dt>AttributeError</dt><dd><p>If required attributes (e.g., <code class="docutils literal notranslate"><span class="pre">self.Simulations</span></code>) or methods are missing.</p>
</dd>
<dt>Exception</dt><dd><p>Any exception propagated by <code class="xref py py-func docutils literal notranslate"><span class="pre">save_model_to_file()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">recompile()</span></code>,
or <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.restart_model" title="apsimNGpy.core.apsim.ApsimModel.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a>.</p>
</dd>
</dl>
</section>
<section id="side-effects">
<h5>Side Effects<a class="headerlink" href="#side-effects" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Sets <code class="docutils literal notranslate"><span class="pre">self.path</span></code> to the resolved output path (string).</p></li>
<li><p>Writes the model file to disk (overwrites if it exists).</p></li>
<li><p>If reload is True (default), recompiles the model and restarts the in-memory instance.</p></li>
</ul>
</section>
<section id="id7">
<h5>Notes<a class="headerlink" href="#id7" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><em>Path normalization:</em> The path is stringified via <code class="docutils literal notranslate"><span class="pre">str(file_name)</span></code> just in case it is a pathlib object.</p></li>
<li><p><em>Reload semantics:</em> Post-save recompilation and restart ensure any code
generation or cached reflection is refreshed to match the serialized model.</p></li>
</ul>
</section>
<section id="examples">
<h5>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h5>
<dl>
<dt>check the current path before saving the model</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">scratch\saved_maize.apsimx</span>
</pre></div>
</div>
</dd>
<dt>Save to a new path and continue working with the refreshed instance</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;out_maize.apsimx&#39;</span><span class="p">,</span> <span class="n">reload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># check the path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;out_maize.apsimx&#39;</span>
<span class="go"># possible to run again the refreshed model.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Save to a new path without refreshing the instance path</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span>  <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;out_maize.apsimx&#39;</span><span class="p">,</span> <span class="n">reload</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go"># check the current reference path for the model.</span>
<span class="go"> &gt;&gt;&gt; model.path &#39;scratch\saved_maize.apsimx&#39;</span>
<span class="go"> # When reload is False, the original referenced path remains as shown above</span>
</pre></div>
</div>
</dd>
</dl>
<p>As shown above, everything is saved in the scratch folder; if
the path is not abolutely provided, e.g., a relative path. If the path is not provided as shown below,
the reference path is the current path for the isntance model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span>  <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;scratch\saved_maize.apsimx&#39;</span>
<span class="go"># save the model without providing the path.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">()</span><span class="c1"># uses the default, in this case the defaul path is the existing path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;scratch\saved_maize.apsimx&#39;</span>
</pre></div>
</div>
<p>In the above case, both reload = <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>, will produce the same reference path for the live
instance class.</p>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.results">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.results" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Legacy method for retrieving simulation results.</p>
<p>This method is implemented as a <code class="docutils literal notranslate"><span class="pre">property</span></code> to enable lazy loading—results are
only loaded into memory when explicitly accessed. This design helps optimize
<code class="docutils literal notranslate"><span class="pre">memory</span></code> usage, especially for <code class="docutils literal notranslate"><span class="pre">large</span></code> simulations.</p>
<p>It must be called only after invoking <code class="docutils literal notranslate"><span class="pre">run()</span></code>. If accessed before the simulation
is run, it will raise an error.</p>
</section>
<section id="id8">
<h5>Notes<a class="headerlink" href="#id8" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">run()</span></code> method should be called with a valid <code class="docutils literal notranslate"><span class="pre">report</span> <span class="pre">name</span></code> or a list of
report names.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">report_names</span></code> is not provided (i.e., <code class="docutils literal notranslate"><span class="pre">None</span></code>), the system will inspect
the model and automatically detect all available report components. These
reports will then be used to collect the data.</p></li>
<li><p>If multiple report names are used, their corresponding data tables will be
concatenated along the rows.</p></li>
</ul>
</section>
<section id="id9">
<h5>Returns<a class="headerlink" href="#id9" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A DataFrame containing the simulation output results.</p>
</dd>
</dl>
</section>
<section id="id10">
<h5>Examples<a class="headerlink" href="#id10" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="go"># create an instance of ApsimModel class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s2">&quot;my_maize_model.apsimx&quot;</span><span class="p">)</span>
<span class="go"># run the simulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="go"># get the results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go"># do something with the results e.g. get the mean of numeric columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Out[12]:</span>
<span class="go">CheckpointID                     1.000000</span>
<span class="go">SimulationID                     1.000000</span>
<span class="go">Maize.AboveGround.Wt          1225.099950</span>
<span class="go">Maize.AboveGround.N             12.381196</span>
<span class="go">Yield                         5636.529504</span>
<span class="go">Maize.Grain.Wt                 563.652950</span>
<span class="go">Maize.Grain.Size                 0.284941</span>
<span class="go">Maize.Grain.NumberFunction    1986.770519</span>
<span class="go">Maize.Grain.Total.Wt           563.652950</span>
<span class="go">Maize.Grain.N                    7.459296</span>
<span class="go">Maize.Total.Wt                1340.837427</span>
</pre></div>
</div>
<p>If there are more than one database tables or <code class="docutils literal notranslate"><span class="pre">reports</span></code> as called in APSIM,
results are concatenated along the axis 0, implying along rows.
The example below mimics this scenario.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today.Year as year&#39;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="s1">&#39;sum([Soil].Nutrient.TotalC)/1000 from 01-jan to [clock].Today as soc&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go"># inspect the reports</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;Report&#39;, &#39;soc&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go">    CheckpointID  SimulationID   Zone  ... source_table    year        soc</span>
<span class="go">0              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">1              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">2              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">3              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">4              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">5              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">6              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">7              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">8              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">9              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">10             1             1  Field  ...          soc  1990.0  77.831512</span>
<span class="go">11             1             1  Field  ...          soc  1991.0  78.501766</span>
<span class="go">12             1             1  Field  ...          soc  1992.0  78.916339</span>
<span class="go">13             1             1  Field  ...          soc  1993.0  78.707094</span>
<span class="go">14             1             1  Field  ...          soc  1994.0  78.191686</span>
<span class="go">15             1             1  Field  ...          soc  1995.0  78.573085</span>
<span class="go">16             1             1  Field  ...          soc  1996.0  78.724598</span>
<span class="go">17             1             1  Field  ...          soc  1997.0  79.043935</span>
<span class="go">18             1             1  Field  ...          soc  1998.0  78.343111</span>
<span class="go">19             1             1  Field  ...          soc  1999.0  78.872767</span>
<span class="go">20             1             1  Field  ...          soc  2000.0  79.916413</span>
<span class="go">[21 rows x 17 columns]</span>
</pre></div>
</div>
<p>By default all the tables are returned and the column <code class="docutils literal notranslate"><span class="pre">source_table</span></code> tells us
the source table for each row. Since <code class="docutils literal notranslate"><span class="pre">results</span></code> is a property attribute,
which does not take in any argument, we can only decide this when calling the
<code class="docutils literal notranslate"><span class="pre">run</span></code> method as shown below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go">    CheckpointID  SimulationID   Zone    year        soc source_table</span>
<span class="go">0              1             1  Field  1990.0  77.831512          soc</span>
<span class="go">1              1             1  Field  1991.0  78.501766          soc</span>
<span class="go">2              1             1  Field  1992.0  78.916339          soc</span>
<span class="go">3              1             1  Field  1993.0  78.707094          soc</span>
<span class="go">4              1             1  Field  1994.0  78.191686          soc</span>
<span class="go">5              1             1  Field  1995.0  78.573085          soc</span>
<span class="go">6              1             1  Field  1996.0  78.724598          soc</span>
<span class="go">7              1             1  Field  1997.0  79.043935          soc</span>
<span class="go">8              1             1  Field  1998.0  78.343111          soc</span>
<span class="go">9              1             1  Field  1999.0  78.872767          soc</span>
<span class="go">10             1             1  Field  2000.0  79.916413          soc</span>
</pre></div>
</div>
<p>The above example has dataset only from one database table specified at run time.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_simulated_output" title="apsimNGpy.core.apsim.ApsimModel.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_simulated_output">
<span class="sig-name descname"><span class="pre">get_simulated_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">list]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_simulated_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Reads report data from CSV files generated by the simulation. More Advanced table-merging arguments will be introduced soon.</p>
</section>
<section id="id11">
<h5>Parameters:<a class="headerlink" href="#id11" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>report_names: (str, iterable)</dt><dd><p>Name or list names of report tables to read. These should match the
report names in the simulation output.</p>
</dd>
<dt>axis: int, Optional. Default to 0</dt><dd><p>concatenation axis numbers for multiple reports or database tables. if axis is 0, source_table column is populated to show source of the data for each row</p>
</dd>
</dl>
</section>
<section id="id12">
<h5>Returns:<a class="headerlink" href="#id12" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code></dt><dd><p>Concatenated DataFrame containing the data from the specified reports.</p>
</dd>
</dl>
</section>
<section id="id13">
<h5>Raises:<a class="headerlink" href="#id13" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If any of the requested report names are not found in the available tables.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the simulation has not been <code class="docutils literal notranslate"><span class="pre">run</span></code> successfully before attempting to read data.</p>
</dd>
</dl>
</section>
<section id="id14">
<h5>Examples<a class="headerlink" href="#id14" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>  <span class="c1"># replace with your path to the apsim template model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># if we are going to use get_simulated_output, no need to provide the report name in ``run()`` method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">(</span><span class="n">report_names</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="go">    SimulationName  SimulationID  CheckpointID  ...  Maize.Total.Wt     Yield   Zone</span>
<span class="go">0       Simulation             1             1  ...        1728.427  8469.616  Field</span>
<span class="go">1       Simulation             1             1  ...         920.854  4668.505  Field</span>
<span class="go">2       Simulation             1             1  ...         204.118   555.047  Field</span>
<span class="go">3       Simulation             1             1  ...         869.180  3504.000  Field</span>
<span class="go">4       Simulation             1             1  ...        1665.475  7820.075  Field</span>
<span class="go">5       Simulation             1             1  ...        2124.740  8823.517  Field</span>
<span class="go">6       Simulation             1             1  ...        1235.469  3587.101  Field</span>
<span class="go">7       Simulation             1             1  ...         951.808  2939.152  Field</span>
<span class="go">8       Simulation             1             1  ...        1986.968  8379.435  Field</span>
<span class="go">9       Simulation             1             1  ...        1689.966  7370.301  Field</span>
<span class="go">[10 rows x 16 columns]</span>
</pre></div>
</div>
<p>This method also handles more than one reports as shown below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="s1">&#39;[Clock].Today.Year as year&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;sum([Soil].Nutrient.TotalC)/1000 from 01-jan to [clock].Today as soc&#39;</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span>    <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go"># inspect the reports</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;Report&#39;, &#39;soc&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">([</span><span class="s2">&quot;soc&quot;</span><span class="p">,</span> <span class="s2">&quot;Report&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    CheckpointID  SimulationID  ...  Maize.Grain.N  Maize.Total.Wt</span>
<span class="go">0              1             1  ...            NaN             NaN</span>
<span class="go">1              1             1  ...            NaN             NaN</span>
<span class="go">2              1             1  ...            NaN             NaN</span>
<span class="go">3              1             1  ...            NaN             NaN</span>
<span class="go">4              1             1  ...            NaN             NaN</span>
<span class="go">5              1             1  ...            NaN             NaN</span>
<span class="go">6              1             1  ...            NaN             NaN</span>
<span class="go">7              1             1  ...            NaN             NaN</span>
<span class="go">8              1             1  ...            NaN             NaN</span>
<span class="go">9              1             1  ...            NaN             NaN</span>
<span class="go">10             1             1  ...            NaN             NaN</span>
<span class="go">11             1             1  ...      11.178291     1728.427114</span>
<span class="go">12             1             1  ...       6.226327      922.393712</span>
<span class="go">13             1             1  ...       0.752357      204.108770</span>
<span class="go">14             1             1  ...       4.886844      869.242545</span>
<span class="go">15             1             1  ...      10.463854     1665.483701</span>
<span class="go">16             1             1  ...      11.253916     2124.739830</span>
<span class="go">17             1             1  ...       5.044417     1261.674967</span>
<span class="go">18             1             1  ...       3.955080      951.303260</span>
<span class="go">19             1             1  ...      11.080878     1987.106980</span>
<span class="go">20             1             1  ...       9.751001     1693.893386</span>
<span class="go">[21 rows x 17 columns]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">([</span><span class="s1">&#39;soc&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">    CheckpointID  SimulationID  ...  Maize.Grain.N  Maize.Total.Wt</span>
<span class="go">0              1             1  ...      11.178291     1728.427114</span>
<span class="go">1              1             1  ...       6.226327      922.393712</span>
<span class="go">2              1             1  ...       0.752357      204.108770</span>
<span class="go">3              1             1  ...       4.886844      869.242545</span>
<span class="go">4              1             1  ...      10.463854     1665.483701</span>
<span class="go">5              1             1  ...      11.253916     2124.739830</span>
<span class="go">6              1             1  ...       5.044417     1261.674967</span>
<span class="go">7              1             1  ...       3.955080      951.303260</span>
<span class="go">8              1             1  ...      11.080878     1987.106980</span>
<span class="go">9              1             1  ...       9.751001     1693.893386</span>
<span class="go">10             1             1  ...            NaN             NaN</span>
<span class="go">[11 rows x 19 columns]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.results" title="apsimNGpy.core.apsim.ApsimModel.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[tuple,</span> <span class="pre">list,</span> <span class="pre">str]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[tuple,</span> <span class="pre">list]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'int'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.run" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Run APSIM model simulations to write the results either to SQLite data base or csv file. Does not collect the</dt><dd><p>simulated output inot memory. For this purpose. Please see  related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.results" title="apsimNGpy.core.apsim.ApsimModel.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_simulated_output" title="apsimNGpy.core.apsim.ApsimModel.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</dd>
</dl>
<section id="id15">
<h6>Parameters<a class="headerlink" href="#id15" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>report_name: Union[tuple, list, str], optional</dt><dd><p>Defaults to APSIM default Report Name if not specified.
- If iterable, all report tables are read and aggregated into one DataFrame.</p>
</dd>
<dt>simulations: Union[tuple, list], optional</dt><dd><p>List of simulation names to run. If None, runs all simulations.</p>
</dd>
<dt>clean_up: bool, optional</dt><dd><p>If True, removes the existing database before running.</p>
</dd>
<dt>verbose: bool, optional</dt><dd><p>If True, enables verbose output for debugging. The method continues with debugging info anyway if the run was unsuccessful</p>
</dd>
<dt>timeout: int, defualt is 800 seconds</dt><dd><p>Enforces a timeout and returns a CompletedProcess-like object.</p>
</dd>
<dt>kwargs: <a href="#id16"><span class="problematic" id="id17">**</span></a>dict</dt><dd><p>Additional keyword arguments, e.g., to_csv=True, use this flag to correct results from
a csv file directly stored at the location of the running apsimx file.</p>
</dd>
</dl>
</section>
<section id="warning">
<h6>Warning:<a class="headerlink" href="#warning" title="Link to this heading"></a></h6>
<p>In my experience with Models.exe, CSV outputs are not always overwritten; after edits, stale results can persist. Proceed with caution.</p>
</section>
<section id="id18">
<h6>Returns<a class="headerlink" href="#id18" title="Link to this heading"></a></h6>
<blockquote>
<div><p>Instance of the respective model class e.g.,  ApsimModel, ExperimentManager.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code></dt><dd><p>Raised if the <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> run is unsuccessful. Common causes include <code class="docutils literal notranslate"><span class="pre">missing</span> <span class="pre">meteorological</span> <span class="pre">files</span></code>,
mismatched simulation <code class="docutils literal notranslate"><span class="pre">start</span></code> dates with <code class="docutils literal notranslate"><span class="pre">weather</span></code> data, or other <code class="docutils literal notranslate"><span class="pre">configuration</span> <span class="pre">issues</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<p>Instantiate an <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.apsim.ApsimModel</span></code> object and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span><span class="c1"># replace with your path to the apsim template model</span>
<span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_name</span> <span class="o">=</span> <span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="c1"># check if the run was successful</span>
<span class="n">model</span><span class="o">.</span><span class="n">ran_ok</span>
<span class="s1">&#39;True&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Updates the <code class="docutils literal notranslate"><span class="pre">ran_ok</span></code> flag to <code class="docutils literal notranslate"><span class="pre">True</span></code> if no error was encountered.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.results" title="apsimNGpy.core.apsim.ApsimModel.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.get_simulated_output" title="apsimNGpy.core.apsim.ApsimModel.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.rename_model">
<span class="sig-name descname"><span class="pre">rename_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.rename_model" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Renames a model within the APSIM simulation tree.</p>
<p>This method searches for a model of the specified type and current name,
then updates its name to the new one provided. After renaming, it saves
the updated simulation file to enforce the changes.</p>
<dl class="simple">
<dt>model_type<span class="classifier">str</span></dt><dd><p>The type of the model to rename (e.g., “Manager”, “Clock”, etc.).</p>
</dd>
<dt>old_name<span class="classifier">str</span></dt><dd><p>The current name of the model to be renamed.</p>
</dd>
<dt>new_name<span class="classifier">str</span></dt><dd><p>The new name to assign to the model.</p>
</dd>
</dl>
<dl class="simple">
<dt>self<span class="classifier">object</span></dt><dd><p>Returns the modified object to allow for method chaining.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model of the specified type and name is not found.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<blockquote>
<div><p>This method uses <code class="docutils literal notranslate"><span class="pre">get_or_check_model</span></code> with action=’get’ to locate the model,
and then updates the model’s <code class="docutils literal notranslate"><span class="pre">Name</span></code> attribute. The model is serialized using the <code class="docutils literal notranslate"><span class="pre">save()</span></code>
immediately after to apply and enfoce the change.</p>
</div></blockquote>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">rename_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s2">&quot;Models.Core.Simulation&quot;</span><span class="p">,</span> <span class="n">old_name</span> <span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="s1">&#39;my_simulation&#39;</span><span class="p">)</span>
<span class="go"># check if it has been successfully renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Core.Simulation&#39;</span><span class="p">,</span> <span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="go"> [&#39;my_simulation&#39;]</span>
<span class="go"># The alternative is to use model.inspect_file to see your changes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">()</span>
<span class="go">└── Simulations: .Simulations</span>
<span class="go"> ├── DataStore: .Simulations.DataStore</span>
<span class="go"> └── my_simulation: .Simulations.my_simulation</span>
<span class="go">     ├── Clock: .Simulations.my_simulation.Clock</span>
<span class="go">     ├── Field: .Simulations.my_simulation.Field</span>
<span class="go">     │   ├── Fertilise at sowing: .Simulations.my_simulation.Field.Fertilise at sowing</span>
<span class="go">     │   ├── Fertiliser: .Simulations.my_simulation.Field.Fertiliser</span>
<span class="go">     │   ├── Harvest: .Simulations.my_simulation.Field.Harvest</span>
<span class="go">     │   ├── Maize: .Simulations.my_simulation.Field.Maize</span>
<span class="go">     │   ├── Report: .Simulations.my_simulation.Field.Report</span>
<span class="go">     │   ├── Soil: .Simulations.my_simulation.Field.Soil</span>
<span class="go">     │   │   ├── Chemical: .Simulations.my_simulation.Field.Soil.Chemical</span>
<span class="go">     │   │   ├── NH4: .Simulations.my_simulation.Field.Soil.NH4</span>
<span class="go">     │   │   ├── NO3: .Simulations.my_simulation.Field.Soil.NO3</span>
<span class="go">     │   │   ├── Organic: .Simulations.my_simulation.Field.Soil.Organic</span>
<span class="go">     │   │   ├── Physical: .Simulations.my_simulation.Field.Soil.Physical</span>
<span class="go">     │   │   │   └── MaizeSoil: .Simulations.my_simulation.Field.Soil.Physical.MaizeSoil</span>
<span class="go">     │   │   ├── Urea: .Simulations.my_simulation.Field.Soil.Urea</span>
<span class="go">     │   │   └── Water: .Simulations.my_simulation.Field.Soil.Water</span>
<span class="go">     │   ├── Sow using a variable rule: .Simulations.my_simulation.Field.Sow using a variable rule</span>
<span class="go">     │   └── SurfaceOrganicMatter: .Simulations.my_simulation.Field.SurfaceOrganicMatter</span>
<span class="go">     ├── Graph: .Simulations.my_simulation.Graph</span>
<span class="go">     │   └── Series: .Simulations.my_simulation.Graph.Series</span>
<span class="go">     ├── MicroClimate: .Simulations.my_simulation.MicroClimate</span>
<span class="go">     ├── SoilArbitrator: .Simulations.my_simulation.SoilArbitrator</span>
<span class="go">     ├── Summary: .Simulations.my_simulation.Summary</span>
<span class="go">     └── Weather: .Simulations.my_simulation.Weather</span>
</pre></div>
</div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="apsimNGpy.core.apsim.ApsimModel.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="apsimNGpy.core.apsim.ApsimModel.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a>, and
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="apsimNGpy.core.apsim.ApsimModel.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.clone_model">
<span class="sig-name descname"><span class="pre">clone_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clone an existing <code class="docutils literal notranslate"><span class="pre">model</span></code> and move it to a specified parent within the simulation structure.
The function modifies the simulation structure by adding the cloned model to the designated parent.</p>
<p>This function is useful when a model instance needs to be duplicated and repositioned in the <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> simulation
hierarchy without manually redefining its structure.</p>
</section>
<section id="id19">
<h5>Parameters:<a class="headerlink" href="#id19" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: Models</dt><dd><p>The type of the model to be cloned, e.g., <code class="docutils literal notranslate"><span class="pre">Models.Simulation</span></code> or <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code>.</p>
</dd>
<dt>model_name: str</dt><dd><p>The unique identification name of the model instance to be cloned, e.g., <code class="docutils literal notranslate"><span class="pre">&quot;clock1&quot;</span></code>.</p>
</dd>
<dt>adoptive_parent_type: Models</dt><dd><p>The type of the new parent model where the cloned model will be placed.</p>
</dd>
<dt>rename: str, optional</dt><dd><p>The new name for the cloned model. If not provided, the clone will be renamed using
the original name with a <code class="docutils literal notranslate"><span class="pre">_clone</span></code> suffix.</p>
</dd>
<dt>adoptive_parent_name: str, optional</dt><dd><p>The name of the parent model where the cloned model should be moved. If not provided,
the model will be placed under the default parent of the specified type.</p>
</dd>
<dt>in_place: bool, optional</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the cloned model remains in the same location but is duplicated. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</section>
<section id="id20">
<h5>Returns:<a class="headerlink" href="#id20" title="Link to this heading"></a></h5>
<p>None</p>
</section>
<section id="example">
<h5>Example:<a class="headerlink" href="#example" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Create a cloned version of <code class="docutils literal notranslate"><span class="pre">&quot;clock1&quot;</span></code> and place it under <code class="docutils literal notranslate"><span class="pre">&quot;Simulation&quot;</span></code> with the new name <code class="docutils literal notranslate"><span class="pre">&quot;new_clock</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">clone_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Core.Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Simulation&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">rename</span><span class="o">=</span><span class="s2">&quot;Sim2&quot;</span><span class="p">,</span> <span class="n">adoptive_parent_type</span> <span class="o">=</span> <span class="s1">&#39;Models.Core.Simulations&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">adoptive_parent_name</span><span class="o">=</span><span class="s1">&#39;Simulations&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">()</span>
<span class="go">└── Simulations: .Simulations</span>
<span class="go">    ├── DataStore: .Simulations.DataStore</span>
<span class="go">    ├── Sim2: .Simulations.Sim2</span>
<span class="go">    │   ├── Clock: .Simulations.Sim2.Clock</span>
<span class="go">    │   ├── Field: .Simulations.Sim2.Field</span>
<span class="go">    │   │   ├── Fertilise at sowing: .Simulations.Sim2.Field.Fertilise at sowing</span>
<span class="go">    │   │   ├── Fertiliser: .Simulations.Sim2.Field.Fertiliser</span>
<span class="go">    │   │   ├── Harvest: .Simulations.Sim2.Field.Harvest</span>
<span class="go">    │   │   ├── Maize: .Simulations.Sim2.Field.Maize</span>
<span class="go">    │   │   ├── Report: .Simulations.Sim2.Field.Report</span>
<span class="go">    │   │   ├── Soil: .Simulations.Sim2.Field.Soil</span>
<span class="go">    │   │   │   ├── Chemical: .Simulations.Sim2.Field.Soil.Chemical</span>
<span class="go">    │   │   │   ├── NH4: .Simulations.Sim2.Field.Soil.NH4</span>
<span class="go">    │   │   │   ├── NO3: .Simulations.Sim2.Field.Soil.NO3</span>
<span class="go">    │   │   │   ├── Organic: .Simulations.Sim2.Field.Soil.Organic</span>
<span class="go">    │   │   │   ├── Physical: .Simulations.Sim2.Field.Soil.Physical</span>
<span class="go">    │   │   │   │   └── MaizeSoil: .Simulations.Sim2.Field.Soil.Physical.MaizeSoil</span>
<span class="go">    │   │   │   ├── Urea: .Simulations.Sim2.Field.Soil.Urea</span>
<span class="go">    │   │   │   └── Water: .Simulations.Sim2.Field.Soil.Water</span>
<span class="go">    │   │   ├── Sow using a variable rule: .Simulations.Sim2.Field.Sow using a variable rule</span>
<span class="go">    │   │   ├── SurfaceOrganicMatter: .Simulations.Sim2.Field.SurfaceOrganicMatter</span>
<span class="go">    │   │   └── soc_table: .Simulations.Sim2.Field.soc_table</span>
<span class="go">    │   ├── Graph: .Simulations.Sim2.Graph</span>
<span class="go">    │   │   └── Series: .Simulations.Sim2.Graph.Series</span>
<span class="go">    │   ├── MicroClimate: .Simulations.Sim2.MicroClimate</span>
<span class="go">    │   ├── SoilArbitrator: .Simulations.Sim2.SoilArbitrator</span>
<span class="go">    │   ├── Summary: .Simulations.Sim2.Summary</span>
<span class="go">    │   └── Weather: .Simulations.Sim2.Weather</span>
<span class="go">    └── Simulation: .Simulations.Simulation</span>
<span class="go">        ├── Clock: .Simulations.Simulation.Clock</span>
<span class="go">        ├── Field: .Simulations.Simulation.Field</span>
<span class="go">        │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing</span>
<span class="go">        │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser</span>
<span class="go">        │   ├── Harvest: .Simulations.Simulation.Field.Harvest</span>
<span class="go">        │   ├── Maize: .Simulations.Simulation.Field.Maize</span>
<span class="go">        │   ├── Report: .Simulations.Simulation.Field.Report</span>
<span class="go">        │   ├── Soil: .Simulations.Simulation.Field.Soil</span>
<span class="go">        │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical</span>
<span class="go">        │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4</span>
<span class="go">        │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3</span>
<span class="go">        │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic</span>
<span class="go">        │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical</span>
<span class="go">        │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil</span>
<span class="go">        │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea</span>
<span class="go">        │   │   └── Water: .Simulations.Simulation.Field.Soil.Water</span>
<span class="go">        │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule</span>
<span class="go">        │   ├── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter</span>
<span class="go">        │   └── soc_table: .Simulations.Simulation.Field.soc_table</span>
<span class="go">        ├── Graph: .Simulations.Simulation.Graph</span>
<span class="go">        │   └── Series: .Simulations.Simulation.Graph.Series</span>
<span class="go">        ├── MicroClimate: .Simulations.Simulation.MicroClimate</span>
<span class="go">        ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator</span>
<span class="go">        ├── Summary: .Simulations.Simulation.Summary</span>
<span class="go">        └── Weather: .Simulations.Simulation.Weather</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="apsimNGpy.core.apsim.ApsimModel.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="apsimNGpy.core.apsim.ApsimModel.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.find_model">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.find_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Find a model from the Models namespace and return its path.</p>
</section>
<section id="id21">
<h5>Parameters:<a class="headerlink" href="#id21" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_name: (str)</dt><dd><p>The name of the model to find.</p>
</dd>
<dt>model_namespace: (object, optional):</dt><dd><p>The root namespace (defaults to Models).</p>
</dd>
<dt>path: (str, optional)</dt><dd><p>The accumulated path to the model.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The full path to the model if found, otherwise None.</p>
</dd>
</dl>
</section>
<section id="id22">
<h5>Example:<a class="headerlink" href="#id22" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>  <span class="c1"># doctest:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span><span class="n">core</span><span class="o">.</span><span class="n">apsim</span><span class="o">.</span><span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span> <span class="o">=</span> <span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span> <span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_model</span><span class="p">(</span><span class="s2">&quot;Weather&quot;</span><span class="p">)</span>
<span class="go">&#39;Models.Climate.Weather&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_model</span><span class="p">(</span><span class="s2">&quot;Clock&quot;</span><span class="p">)</span>
<span class="go">&#39;Models.Clock&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_model">
<span class="sig-name descname"><span class="pre">add_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source='Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_model_name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a model to the Models Simulations namespace.</p>
<p>Some models are restricted to specific parent models, meaning they can only be added to compatible models.
For example, a Clock model cannot be added to a Soil model.</p>
</section>
<section id="id23">
<h5>Parameters:<a class="headerlink" href="#id23" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: (str or Models object)</dt><dd><p>The type of model to add, e.g., <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code> or just <code class="docutils literal notranslate"><span class="pre">&quot;Clock&quot;</span></code>. if the APSIM Models namespace is exposed to the current script, then model_class can be Models.Clock without strings quotes</p>
</dd>
<dt>rename (str):</dt><dd><p>The new name for the model.</p>
</dd>
<dt>adoptive_parent: (Models object)</dt><dd><p>The target parent where the model will be added or moved e.g <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code> or <code class="docutils literal notranslate"><span class="pre">Clock</span></code> as string all are valid</p>
</dd>
<dt>adoptive_parent_name: (Models object, optional)</dt><dd><p>Specifies the parent name for precise location. e.g., <code class="docutils literal notranslate"><span class="pre">Models.Core.Simulation</span></code> or <code class="docutils literal notranslate"><span class="pre">Simulations</span></code> all are valid</p>
</dd>
<dt>source: Models, str, CoreModel, ApsimModel object: defaults to Models namespace.</dt><dd><p>The source can be an existing Models or string name to point to one of the
default model examples, which we can extract the model from</p>
</dd>
<dt>override: bool, optional defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">True</span></code> (recommended), it deletes
any model with the same name and type at the suggested parent location before adding the new model
if <code class="docutils literal notranslate"><span class="pre">False</span></code> and proposed model to be added exists at the parent location;
<code class="docutils literal notranslate"><span class="pre">APSIM</span></code> automatically generates a new name for the newly added model. This is not recommended.</p>
</dd>
<dt>Returns:</dt><dd><p>None:</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">Models</span></code> are modified in place, so models retains the same reference.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Added models from <code class="docutils literal notranslate"><span class="pre">Models</span> <span class="pre">namespace</span></code> are initially empty. Additional configuration is required to set parameters.
For example, after adding a Clock module, you must set the start and end dates.</p>
</div>
</section>
<section id="id24">
<h5>Example<a class="headerlink" href="#id24" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">apsim</span><span class="o">.</span><span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span>  <span class="c1"># first delete the model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">,</span> <span class="n">adoptive_parent</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;Clock_replaced&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">model_class</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span> <span class="n">adoptive_parent</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulations</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;Iowa&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span>
<span class="gp">... </span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span>
<span class="gp">... </span><span class="n">adoptive_parent</span><span class="o">=</span><span class="s1">&#39;Simulations&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soybean_replaced&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;Soybean&#39;</span><span class="p">)</span>  <span class="c1"># basically adding another simulation from soybean to the maize simulation</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="apsimNGpy.core.apsim.ApsimModel.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="apsimNGpy.core.apsim.ApsimModel.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.detect_model_type">
<span class="sig-name descname"><span class="pre">detect_model_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_instance:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Models]')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.detect_model_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Detects the model type from a given APSIM model instance or path string.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.edit_model_by_path">
<span class="sig-name descname"><span class="pre">edit_model_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.edit_model_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Edit a model component located by an APSIM path, dispatching to type-specific editors.</p>
<p>This method resolves a node under <code class="docutils literal notranslate"><span class="pre">instance.Simulations</span></code> using an APSIM path, then
edits that node by delegating to an editor based on the node’s runtime type.
It supports common APSIM NG components (e.g., Weather, Manager, Cultivar, Clock,
Soil subcomponents, Report, SurfaceOrganicMatter). Unsupported types raise
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>.</p>
</section>
<section id="id25">
<h5>Parameters<a class="headerlink" href="#id25" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>path<span class="classifier">str</span></dt><dd><p>APSIM path to a target node under <code class="docutils literal notranslate"><span class="pre">self.Simulations</span></code> (e.g.,
‘.Simulations.Simulations.Weather’ or a similar canonical path).</p>
</dd>
</dl>
</section>
<section id="kwargs">
<h5>kwargs<a class="headerlink" href="#kwargs" title="Link to this heading"></a></h5>
<p>Additional keyword arguments specific to the model type. Atleast one key word argument is required. These vary by component:</p>
<dl>
<dt>Models.Climate.Weather:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">weather_file</span></code> (str): Path to the weather <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
</dd>
<dt>Models.Clock:</dt><dd><p>Date properties such as <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> in ISO format (e.g., ‘2021-01-01’).</p>
</dd>
<dt>Models.Manager:</dt><dd><p>Variables to update in the Manager script using <code class="docutils literal notranslate"><span class="pre">update_mgt_by_path</span></code>.</p>
</dd>
<dt>Soils.Physical | Soils.Chemical | Soils.Organic | Soils.Water:</dt><dd><p>Variables to replace using <code class="docutils literal notranslate"><span class="pre">replace_soils_values_by_path</span></code>.</p>
<p>Valid <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are shown below;</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Soil Model Type</p></th>
<th class="head"><p><strong>Supported key word arguments</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Physical</p></td>
<td><p>AirDry, BD, DUL, DULmm, Depth, DepthMidPoints, KS, LL15, LL15mm, PAWC, PAWCmm, SAT, SATmm, SW, SWmm, Thickness, ThicknessCumulative</p></td>
</tr>
<tr class="row-odd"><td><p>Organic</p></td>
<td><p>CNR, Carbon, Depth, FBiom, FInert, FOM, Nitrogen, SoilCNRatio, Thickness</p></td>
</tr>
<tr class="row-even"><td><p>Chemical</p></td>
<td><p>Depth, PH, Thickness</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Models.Report:</dt><dd><dl class="simple">
<dt>report_name (str):</dt><dd><p>Name of the report model (optional depending on structure).</p>
</dd>
<dt>variable_spec`   (list[str] or str):</dt><dd><p>Variables to include in the report.</p>
</dd>
<dt>set_event_names` (list[str], optional):</dt><dd><p>Events that trigger the report.</p>
</dd>
</dl>
</dd>
<dt>Models.PMF.Cultivar:</dt><dd><dl class="simple">
<dt>commands (str):</dt><dd><p>APSIM path to the cultivar parameter to update.</p>
</dd>
<dt>values: (Any)</dt><dd><p>Value to assign.</p>
</dd>
<dt>cultivar_manager: (str)</dt><dd><p>Name of the Manager script managing the cultivar, which must contain the <code class="docutils literal notranslate"><span class="pre">CultivarName</span></code> parameter. Required to propagate updated cultivar values, as APSIM treats cultivars as read-only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model instance is not found, required kwargs are missing, or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is empty.</p>
</dd>
<dt>NotImplementedError</dt><dd><p>If the logic for the specified <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is not implemented.</p>
</dd>
</dl>
</div>
</section>
<section id="id26">
<h5>Examples<a class="headerlink" href="#id26" title="Link to this heading"></a></h5>
<p>Edit a Manager script parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Sow using a variable rule&quot;</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">Population</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Point a Weather component to a new <code class="docutils literal notranslate"><span class="pre">.met</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;.Simulations.Simulation.Weather&quot;</span><span class="p">,</span>
    <span class="n">FileName</span><span class="o">=</span><span class="s2">&quot;data/weather/Ames_2020.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Change Clock dates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Clock&quot;</span><span class="p">,</span>
    <span class="n">StartDate</span><span class="o">=</span><span class="s2">&quot;2020-01-01&quot;</span><span class="p">,</span>
    <span class="n">EndDate</span><span class="o">=</span><span class="s2">&quot;2020-12-31&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update soil water properties at a specific path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Soil.Physical&quot;</span><span class="p">,</span>
    <span class="n">LL15</span><span class="o">=</span><span class="s2">&quot;[0.26, 0.18, 0.10, 0.12]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply cultivar edits across selected simulations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Maize.CultivarFolder.mh18&quot;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Sim_A&quot;</span><span class="p">,</span> <span class="s2">&quot;Sim_B&quot;</span><span class="p">),</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="p">{</span><span class="s2">&quot;Phenology.EmergencePhase.Photoperiod&quot;</span><span class="p">:</span> <span class="s2">&quot;Short&quot;</span><span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model" title="apsimNGpy.core.apsim.ApsimModel.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.edit_model">
<span class="sig-name descname"><span class="pre">edit_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.edit_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Modify various APSIM model components by specifying the model type and name across given simulations.</p>
</section>
<section id="id27">
<h5>Parameters<a class="headerlink" href="#id27" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: str, required</dt><dd><p>Type of the model component to modify (e.g., ‘Clock’, ‘Manager’, ‘Soils.Physical’, etc.).</p>
</dd>
<dt>simulations: Union[str, list], optional</dt><dd><p>A simulation name or list of simulation names in which to search. Defaults to all simulations in the model.</p>
</dd>
<dt>model_name: str, required</dt><dd><p>Name of the model instance to modify.</p>
</dd>
<dt>verbose: bool, optional</dt><dd><p>print the status of the editting activities</p>
</dd>
</dl>
</section>
<section id="id28">
<h5>kwargs<a class="headerlink" href="#id28" title="Link to this heading"></a></h5>
<p>Additional keyword arguments specific to the model type. Atleast one key word argument is required. These vary by component:</p>
<dl>
<dt>Models.Climate.Weather:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">weather_file</span></code> (str): Path to the weather <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
</dd>
<dt>Models.Clock:</dt><dd><p>Date properties such as <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> in ISO format (e.g., ‘2021-01-01’).</p>
</dd>
<dt>Models.Manager:</dt><dd><p>Variables to update in the Manager script using <code class="docutils literal notranslate"><span class="pre">update_mgt_by_path</span></code>.</p>
</dd>
<dt>Soils.Physical | Soils.Chemical | Soils.Organic | Soils.Water:</dt><dd><p>Variables to replace using <code class="docutils literal notranslate"><span class="pre">replace_soils_values_by_path</span></code>.</p>
<p>Valid <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are shown below;</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Soil Model Type</p></th>
<th class="head"><p><strong>Supported key word arguments</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Physical</p></td>
<td><p>AirDry, BD, DUL, DULmm, Depth, DepthMidPoints, KS, LL15, LL15mm, PAWC, PAWCmm, SAT, SATmm, SW, SWmm, Thickness, ThicknessCumulative</p></td>
</tr>
<tr class="row-odd"><td><p>Organic</p></td>
<td><p>CNR, Carbon, Depth, FBiom, FInert, FOM, Nitrogen, SoilCNRatio, Thickness</p></td>
</tr>
<tr class="row-even"><td><p>Chemical</p></td>
<td><p>Depth, PH, Thickness</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Models.Report:</dt><dd><dl class="simple">
<dt>report_name (str):</dt><dd><p>Name of the report model (optional depending on structure).</p>
</dd>
<dt>variable_spec`   (list[str] or str):</dt><dd><p>Variables to include in the report.</p>
</dd>
<dt>set_event_names` (list[str], optional):</dt><dd><p>Events that trigger the report.</p>
</dd>
</dl>
</dd>
<dt>Models.PMF.Cultivar:</dt><dd><dl class="simple">
<dt>commands (str):</dt><dd><p>APSIM path to the cultivar parameter to update.</p>
</dd>
<dt>values: (Any)</dt><dd><p>Value to assign.</p>
</dd>
<dt>cultivar_manager: (str)</dt><dd><p>Name of the Manager script managing the cultivar, which must contain the <code class="docutils literal notranslate"><span class="pre">CultivarName</span></code> parameter. Required to propagate updated cultivar values, as APSIM treats cultivars as read-only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model instance is not found, required kwargs are missing, or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is empty.</p>
</dd>
<dt>NotImplementedError</dt><dd><p>If the logic for the specified <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is not implemented.</p>
</dd>
</dl>
</div>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Example of how to edit a cultivar model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">commands</span><span class="o">=</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">,</span>
     <span class="n">values</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">,</span>
     <span class="n">new_cultivar_name</span><span class="o">=</span><span class="s1">&#39;B_110_edited&#39;</span><span class="p">,</span>
     <span class="n">cultivar_manager</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit a soil organic matter module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">Carbon</span><span class="o">=</span><span class="mf">1.23</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit multiple soil layers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">Carbon</span><span class="o">=</span><span class="p">[</span><span class="mf">1.23</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<p>Example of how to edit solute models:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
      <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span>
      <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
      <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;NH4&#39;</span><span class="p">,</span>
      <span class="n">InitialValues</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_class</span><span class="o">=</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Urea&#39;</span><span class="p">,</span>
     <span class="n">InitialValues</span><span class="o">=</span><span class="mf">0.002</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit a manager script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">,</span>
     <span class="n">population</span><span class="o">=</span><span class="mf">8.4</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit surface organic matter parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">InitialResidueMass</span><span class="o">=</span><span class="mi">2500</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">InitialCNR</span><span class="o">=</span><span class="mi">85</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit Clock start and end dates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span>
    <span class="n">Start</span><span class="o">=</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">,</span>
    <span class="n">End</span><span class="o">=</span><span class="s1">&#39;2021-01-12&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit report _variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Maize].AboveGround.Wt as abw&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Multiple report _variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;[Maize].AboveGround.Wt as abw&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[Maize].Grain.Total.Wt as grain_weight&#39;</span><span class="p">])</span>
    <span class="nd">@param</span> <span class="n">simulations</span><span class="p">:</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model_by_path" title="apsimNGpy.core.apsim.ApsimModel.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_report_variable">
<span class="sig-name descname"><span class="pre">add_report_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_event_names:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_report_variable" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>This adds a report variable to the end of other _variables, if you want to change the whole report use change_report</p>
</section>
<section id="id29">
<h5>Parameters<a class="headerlink" href="#id29" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>variable_spec: str, required.</dt><dd><p>list of text commands for the report _variables e.g., ‘[Clock].Today as Date’</p>
</dd>
<dt>param report_name: str, optional.</dt><dd><p>Name of the report variable if not specified, the first accessed report object will be altered</p>
</dd>
<dt>set_event_names: list or str, optional.</dt><dd><p>A list of APSIM events that trigger the recording of _variables.
Defaults to [‘[Clock].EndOfYear’] if not provided.</p>
</dd>
</dl>
</section>
</section>
<section id="id30">
<h4>Returns<a class="headerlink" href="#id30" title="Link to this heading"></a></h4>
<p>returns instance of apsimNGpy.core.core.apsim.ApsimModel or apsimNGpy.core.core.apsim.CoreModel</p>
<section id="raise">
<h5>Raise<a class="headerlink" href="#raise" title="Link to this heading"></a></h5>
<blockquote>
<div><p>raises an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if a report is not found</p>
</div></blockquote>
</section>
<section id="id31">
<h5>Examples<a class="headerlink" href="#id31" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_report_variable</span><span class="p">(</span><span class="n">variable_spec</span> <span class="o">=</span> <span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span> <span class="o">=</span> <span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go"># isnepct the report</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go">{&#39;EventNames&#39;: [&#39;[Maize].Harvesting&#39;],</span>
<span class="go">     &#39;VariableNames&#39;: [&#39;[Clock].Today&#39;,</span>
<span class="go">      &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go">      &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go">      &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Size&#39;,</span>
<span class="go">      &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go">      &#39;[Maize].Grain.N&#39;,</span>
<span class="go">      &#39;[Maize].Total.Wt&#39;,</span>
<span class="go">      &#39;[Clock].Today as Date&#39;]}</span>
<span class="go">The new report variable is appended at the end of the existing ones</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.remove_report_variable" title="apsimNGpy.core.apsim.ApsimModel.remove_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variable()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_db_table" title="apsimNGpy.core.apsim.ApsimModel.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.remove_report_variable">
<span class="sig-name descname"><span class="pre">remove_report_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.remove_report_variable" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Remove one or more variable expressions from an APSIM Report component.</p>
</section>
<section id="id32">
<h5>Parameters<a class="headerlink" href="#id32" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>variable_spec<span class="classifier">str | list[str] | tuple[str, …]</span></dt><dd><p>Variable expression(s) to remove, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;[Clock].Today&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;[Clock].Today</span> <span class="pre">as</span> <span class="pre">Date&quot;</span></code>. You may pass a single string or a list/tuple.
Matching is done by exact text <strong>after whitespace normalization</strong>
(consecutive spaces collapsed), so minor spacing differences are tolerated.</p>
</dd>
<dt>report_name<span class="classifier">str, optional</span></dt><dd><p>Name of the Report component to modify. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
resolver (<code class="docutils literal notranslate"><span class="pre">self._get_report</span></code>) is used to locate the target report.</p>
</dd>
</dl>
</section>
<section id="id33">
<h5>Returns<a class="headerlink" href="#id33" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>list[str]</dt><dd><p>The updated list of variable expressions remaining in the report
(in original order, without duplicates).</p>
</dd>
</dl>
</section>
<section id="id34">
<h5>Notes<a class="headerlink" href="#id34" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Variables not present are ignored (no error raised).</p></li>
<li><p>Order is preserved; duplicates are removed.</p></li>
<li><p>The model is saved at the end of this call.</p></li>
</ul>
</section>
<section id="id35">
<h5>Examples<a class="headerlink" href="#id35" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">=</span> <span class="n">CoreModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_report_variable</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">)[</span><span class="s1">&#39;VariableNames&#39;</span><span class="p">]</span>
<span class="go">[&#39;[Clock].Today&#39;,</span>
<span class="go"> &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Size&#39;,</span>
<span class="go"> &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.N&#39;,</span>
<span class="go"> &#39;[Maize].Total.Wt&#39;,</span>
<span class="go"> &#39;[Clock].Today as Date&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">remove_report_variable</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">)[</span><span class="s1">&#39;VariableNames&#39;</span><span class="p">]</span>
<span class="go">[&#39;[Clock].Today&#39;,</span>
<span class="go"> &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Size&#39;,</span>
<span class="go"> &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.N&#39;,</span>
<span class="go"> &#39;[Maize].Total.Wt&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_report_variable" title="apsimNGpy.core.apsim.ApsimModel.add_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variable()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_db_table" title="apsimNGpy.core.apsim.ApsimModel.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.remove_model">
<span class="sig-name descname"><span class="pre">remove_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.remove_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Removes a model from the APSIM Models.Simulations namespace.</p>
<blockquote>
<div><dl class="simple">
<dt>model_type: Models</dt><dd><p>The type of the model to remove (e.g., <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code>). This parameter is required.</p>
</dd>
<dt>model_name: str, optional</dt><dd><p>The name of the specific model instance to remove (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;Clock&quot;</span></code>). If not provided, all models of the
specified type may be removed.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span> <span class="c1">#deletes the clock node</span>
<span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Climate</span><span class="o">.</span><span class="n">Weather</span><span class="p">)</span> <span class="c1">#deletes the weather node</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="apsimNGpy.core.apsim.ApsimModel.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="apsimNGpy.core.apsim.ApsimModel.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a>.</p>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.move_model">
<span class="sig-name descname"><span class="pre">move_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_parent_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_parent_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="args">
<h5>Args:<a class="headerlink" href="#args" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type:  Models</dt><dd><p>type of model tied to Models Namespace</p>
</dd>
<dt>new_parent_type: Models.</dt><dd><p>New model parent type (Models)</p>
</dd>
<dt>model_name: str</dt><dd><p>Name of the model e.g., Clock, or Clock2, whatever name that was given to the model</p>
</dd>
<dt>new_parent_name``:  str</dt><dd><p>The new parent names =Field2, this field is optional but important if you have nested simulations</p>
</dd>
</dl>
</section>
<section id="id36">
<h5>Returns:<a class="headerlink" href="#id36" title="Link to this heading"></a></h5>
<blockquote>
<div><p>returns instance of apsimNGpy.core.core.apsim.ApsimModel or apsimNGpy.core.core.apsim.CoreModel</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replicate_file">
<span class="sig-name descname"><span class="pre">replicate_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'os.PathLike'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'replica')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replicate_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Replicates a file <code class="docutils literal notranslate"><span class="pre">k</span></code> times.
Parameters
———-
path:str default is None</p>
<blockquote>
<div><p>If specified, the copies will be placed in that dir_path with incremented filenames.
If no path is specified, copies are created in the same dir_path as the original file, also with incremented filenames.</p>
</div></blockquote>
<dl class="simple">
<dt>k int:</dt><dd><p>The number of copies to create.</p>
</dd>
</dl>
<ul class="simple">
<li><dl class="simple">
<dt>suffix: str, optional</dt><dd><p>a suffix to attach with the copies. Default to “replicate”</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id37">
<h5>Returns:<a class="headerlink" href="#id37" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>A  generator(str) is returned.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_crop_replacement">
<span class="sig-name descname"><span class="pre">get_crop_replacement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Crop)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_crop_replacement" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">param Crop<span class="colon">:</span></dt>
<dd class="field-odd"><p>crop to get the replacement</p>
</dd>
<dt class="field-even">return<span class="colon">:</span></dt>
<dd class="field-even"><p>System.Collections.Generic.IEnumerable APSIM plant object</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters">
<span class="sig-name descname"><span class="pre">inspect_model_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Union[Models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspect the input parameters of a specific <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> model type instance within selected simulations.</p>
<p>This method consolidates functionality previously spread across <code class="docutils literal notranslate"><span class="pre">examine_management_info</span></code>, <code class="docutils literal notranslate"><span class="pre">read_cultivar_params</span></code>, and other inspectors,
allowing a unified interface for querying parameters of interest across a wide range of APSIM models.</p>
</section>
<section id="id38">
<h5>Parameters<a class="headerlink" href="#id38" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: str required</dt><dd><p>The name of the model class to inspect (e.g., ‘Clock’, ‘Manager’, ‘Physical’, ‘Chemical’, ‘Water’, ‘Solute’).
Shorthand names are accepted (e.g., ‘Clock’, ‘Weather’) as well as fully qualified names (e.g., ‘Models.Clock’, ‘Models.Climate.Weather’).</p>
</dd>
<dt>simulations: Union[str, list]</dt><dd><p>A single simulation name or a list of simulation names within the APSIM context to inspect.</p>
</dd>
<dt>model_name: str</dt><dd><p>The name of the specific model instance within each simulation. For example, if <code class="docutils literal notranslate"><span class="pre">model_class='Solute'</span></code>,
<code class="docutils literal notranslate"><span class="pre">model_name</span></code> might be ‘NH4’, ‘Urea’, or another solute name.</p>
</dd>
<dt>parameters: Union[str, set, list, tuple], optional</dt><dd><p>A specific parameter or a collection of parameters to inspect. Defaults to <code class="docutils literal notranslate"><span class="pre">'all'</span></code>, in which case all accessible attributes are returned.
For layered models like Solute, valid parameters include <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">InitialValues</span></code>, <code class="docutils literal notranslate"><span class="pre">SoluteBD</span></code>, <code class="docutils literal notranslate"><span class="pre">Thickness</span></code>, etc.</p>
</dd>
<dt>kwargs:</dt><dd><p>Reserved for future compatibility; currently unused.</p>
</dd>
</dl>
</section>
<section id="id39">
<h5>Returns<a class="headerlink" href="#id39" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Union[dict, list, pd.DataFrame, Any]
The format depends on the model type as shown below:</p>
</div></blockquote>
<dl class="simple">
<dt>Weather:</dt><dd><p>file path(s) as string(s)</p>
</dd>
<dt>Clock:</dt><dd><p>dictionary with start and end datetime objects (or a single datetime if only one is requested).</p>
</dd>
<dt>Manager:</dt><dd><p>dictionary of script parameters.</p>
</dd>
<dt>Soil-related:</dt><dd><p>pandas DataFrame of layered values.</p>
</dd>
<dt>Report:</dt><dd><p>A dictionary with <code class="docutils literal notranslate"><span class="pre">VariableNames</span></code> and <code class="docutils literal notranslate"><span class="pre">EventNames</span></code>.</p>
</dd>
</dl>
<p>Cultivar:
dictionary of parameter strings.</p>
</section>
<section id="id40">
<h5>Raises<a class="headerlink" href="#id40" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the specified model or simulation is not found or arguments are invalid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code></dt><dd><p>If the model type is unsupported by the current interface.</p>
</dd>
</dl>
</section>
<section id="requirements">
<h5>Requirements<a class="headerlink" href="#requirements" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>APSIM Next Generation Python bindings (<code class="docutils literal notranslate"><span class="pre">apsimNGpy</span></code>)</p></li>
<li><p>Python 3.10+</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model_instance</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Inspect full soil <code class="docutils literal notranslate"><span class="pre">Organic</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">)</span>
   <span class="n">CNR</span>  <span class="n">Carbon</span>      <span class="n">Depth</span>  <span class="n">FBiom</span>  <span class="o">...</span>         <span class="n">FOM</span>  <span class="n">Nitrogen</span>  <span class="n">SoilCNRatio</span>  <span class="n">Thickness</span>
<span class="mi">0</span>  <span class="mf">12.0</span>    <span class="mf">1.20</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>   <span class="mf">0.04</span>  <span class="o">...</span>  <span class="mf">347.129032</span>     <span class="mf">0.100</span>         <span class="mf">12.0</span>      <span class="mf">150.0</span>
<span class="mi">1</span>  <span class="mf">12.0</span>    <span class="mf">0.96</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>   <span class="mf">0.02</span>  <span class="o">...</span>  <span class="mf">270.344362</span>     <span class="mf">0.080</span>         <span class="mf">12.0</span>      <span class="mf">150.0</span>
<span class="mi">2</span>  <span class="mf">12.0</span>    <span class="mf">0.60</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>   <span class="mf">0.02</span>  <span class="o">...</span>  <span class="mf">163.972144</span>     <span class="mf">0.050</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">3</span>  <span class="mf">12.0</span>    <span class="mf">0.30</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>   <span class="mf">0.02</span>  <span class="o">...</span>   <span class="mf">99.454133</span>     <span class="mf">0.025</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">4</span>  <span class="mf">12.0</span>    <span class="mf">0.18</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">60.321981</span>     <span class="mf">0.015</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mf">12.0</span>    <span class="mf">0.12</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">36.587131</span>     <span class="mf">0.010</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mf">12.0</span>    <span class="mf">0.12</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">22.191217</span>     <span class="mf">0.010</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="p">[</span><span class="mi">7</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">9</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect soil <code class="docutils literal notranslate"><span class="pre">Physical</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Physical&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Physical&#39;</span><span class="p">)</span>
    <span class="n">AirDry</span>        <span class="n">BD</span>       <span class="n">DUL</span>  <span class="o">...</span>        <span class="n">SWmm</span> <span class="n">Thickness</span>  <span class="n">ThicknessCumulative</span>
<span class="mi">0</span>  <span class="mf">0.130250</span>  <span class="mf">1.010565</span>  <span class="mf">0.521000</span>  <span class="o">...</span>   <span class="mf">78.150033</span>     <span class="mf">150.0</span>                <span class="mf">150.0</span>
<span class="mi">1</span>  <span class="mf">0.198689</span>  <span class="mf">1.071456</span>  <span class="mf">0.496723</span>  <span class="o">...</span>   <span class="mf">74.508522</span>     <span class="mf">150.0</span>                <span class="mf">300.0</span>
<span class="mi">2</span>  <span class="mf">0.280000</span>  <span class="mf">1.093939</span>  <span class="mf">0.488438</span>  <span class="o">...</span>  <span class="mf">146.531282</span>     <span class="mf">300.0</span>                <span class="mf">600.0</span>
<span class="mi">3</span>  <span class="mf">0.280000</span>  <span class="mf">1.158613</span>  <span class="mf">0.480297</span>  <span class="o">...</span>  <span class="mf">144.089091</span>     <span class="mf">300.0</span>                <span class="mf">900.0</span>
<span class="mi">4</span>  <span class="mf">0.280000</span>  <span class="mf">1.173012</span>  <span class="mf">0.471584</span>  <span class="o">...</span>  <span class="mf">141.475079</span>     <span class="mf">300.0</span>               <span class="mf">1200.0</span>
<span class="mi">5</span>  <span class="mf">0.280000</span>  <span class="mf">1.162873</span>  <span class="mf">0.457071</span>  <span class="o">...</span>  <span class="mf">137.121171</span>     <span class="mf">300.0</span>               <span class="mf">1500.0</span>
<span class="mi">6</span>  <span class="mf">0.280000</span>  <span class="mf">1.187495</span>  <span class="mf">0.452332</span>  <span class="o">...</span>  <span class="mf">135.699528</span>     <span class="mf">300.0</span>               <span class="mf">1800.0</span>
<span class="p">[</span><span class="mi">7</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">17</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect soil <code class="docutils literal notranslate"><span class="pre">Chemical</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Chemical&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Chemical&#39;</span><span class="p">)</span>
   <span class="n">Depth</span>   <span class="n">PH</span>  <span class="n">Thickness</span>
<span class="mi">0</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>  <span class="mf">8.0</span>      <span class="mf">150.0</span>
<span class="mi">1</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>  <span class="mf">8.0</span>      <span class="mf">150.0</span>
<span class="mi">2</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">3</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">4</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
</pre></div>
</div>
<p>Inspect one or more specific parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Carbon&#39;</span><span class="p">)</span>
  <span class="n">Carbon</span>
<span class="mi">0</span>    <span class="mf">1.20</span>
<span class="mi">1</span>    <span class="mf">0.96</span>
<span class="mi">2</span>    <span class="mf">0.60</span>
<span class="mi">3</span>    <span class="mf">0.30</span>
<span class="mi">4</span>    <span class="mf">0.18</span>
<span class="mi">5</span>    <span class="mf">0.12</span>
<span class="mi">6</span>    <span class="mf">0.12</span>
</pre></div>
</div>
<p>Inspect more than one specific properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Carbon&#39;</span><span class="p">,</span> <span class="s1">&#39;CNR&#39;</span><span class="p">])</span>
   <span class="n">Carbon</span>   <span class="n">CNR</span>
<span class="mi">0</span>    <span class="mf">1.20</span>  <span class="mf">12.0</span>
<span class="mi">1</span>    <span class="mf">0.96</span>  <span class="mf">12.0</span>
<span class="mi">2</span>    <span class="mf">0.60</span>  <span class="mf">12.0</span>
<span class="mi">3</span>    <span class="mf">0.30</span>  <span class="mf">12.0</span>
<span class="mi">4</span>    <span class="mf">0.18</span>  <span class="mf">12.0</span>
<span class="mi">5</span>    <span class="mf">0.12</span>  <span class="mf">12.0</span>
<span class="mi">6</span>    <span class="mf">0.12</span>  <span class="mf">12.0</span>
</pre></div>
</div>
<p>Inspect Report module attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
 <span class="p">{</span><span class="s1">&#39;EventNames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[Maize].Harvesting&#39;</span><span class="p">],</span>
<span class="s1">&#39;VariableNames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Phenology.CurrentStageName&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].AboveGround.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].AboveGround.N&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Total.Wt*10 as Yield&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Size&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.NumberFunction&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Total.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.N&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Total.Wt&#39;</span><span class="p">]}</span>
</pre></div>
</div>
<p>Specify only EventNames:</p>
<blockquote>
<div><p>model_instance.inspect_model_parameters(‘Report’, simulations=’Simulation’, model_name=’Report’, parameters=’EventNames’)
{‘EventNames’: [‘[Maize].Harvesting’]}</p>
</div></blockquote>
<p>Inspect a weather file path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Weather&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Weather&#39;</span><span class="p">)</span>
<span class="s1">&#39;</span><span class="si">%r</span><span class="s1">oot%/Examples/WeatherFiles/AU_Dalby.met&#39;</span>
</pre></div>
</div>
<p>Inspect manager script parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Crop&#39;</span><span class="p">:</span> <span class="s1">&#39;Maize&#39;</span><span class="p">,</span>
<span class="s1">&#39;StartDate&#39;</span><span class="p">:</span> <span class="s1">&#39;1-nov&#39;</span><span class="p">,</span>
<span class="s1">&#39;EndDate&#39;</span><span class="p">:</span> <span class="s1">&#39;10-jan&#39;</span><span class="p">,</span>
<span class="s1">&#39;MinESW&#39;</span><span class="p">:</span> <span class="s1">&#39;100.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;MinRain&#39;</span><span class="p">:</span> <span class="s1">&#39;25.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;RainDays&#39;</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span>
<span class="s1">&#39;CultivarName&#39;</span><span class="p">:</span> <span class="s1">&#39;Dekalb_XL82&#39;</span><span class="p">,</span>
<span class="s1">&#39;SowingDepth&#39;</span><span class="p">:</span> <span class="s1">&#39;30.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;RowSpacing&#39;</span><span class="p">:</span> <span class="s1">&#39;750.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect manager script by specifying one or more parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">,</span>
<span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect cultivar parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">)</span> <span class="c1"># lists all path specifications for B_110 parameters abd their values</span>
<span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">:</span> <span class="s1">&#39;210&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect surface organic matter module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Surface.SurfaceOrganicMatter&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;NH4&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">:</span> <span class="mf">500.0</span><span class="p">,</span>
 <span class="s1">&#39;StandingWt&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;Cover&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;LabileP&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;LyingWt&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialCNR&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
 <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialCPR&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;SurfOM&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">System</span><span class="o">.</span><span class="n">Collections</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">SurfOrganicMatterType</span><span class="p">]</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x000001DABDBB58C0</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;NO3&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect a few parameters as needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Surface.SurfaceOrganicMatter&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="o">...</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;InitialCNR&#39;</span><span class="p">,</span> <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">})</span>
<span class="p">{</span><span class="s1">&#39;InitialCNR&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span> <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">:</span> <span class="mf">500.0</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect a clock:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;End&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="s1">&#39;Start&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
</pre></div>
</div>
<p>Inspect a few Clock parameters as needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;End&#39;</span><span class="p">)</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Access specific components of the datetime object e.g., year, month, day, hour, minute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">year</span> <span class="c1"># gets the start year only</span>
<span class="mi">1990</span>
</pre></div>
</div>
<p>Inspect solute models:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Urea&#39;</span><span class="p">)</span>
       <span class="n">Depth</span>  <span class="n">InitialValues</span>  <span class="n">SoluteBD</span>  <span class="n">Thickness</span>
<span class="mi">0</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>            <span class="mf">0.0</span>  <span class="mf">1.010565</span>      <span class="mf">150.0</span>
<span class="mi">1</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>            <span class="mf">0.0</span>  <span class="mf">1.071456</span>      <span class="mf">150.0</span>
<span class="mi">2</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>            <span class="mf">0.0</span>  <span class="mf">1.093939</span>      <span class="mf">300.0</span>
<span class="mi">3</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>            <span class="mf">0.0</span>  <span class="mf">1.158613</span>      <span class="mf">300.0</span>
<span class="mi">4</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>            <span class="mf">0.0</span>  <span class="mf">1.173012</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>            <span class="mf">0.0</span>  <span class="mf">1.162873</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>            <span class="mf">0.0</span>  <span class="mf">1.187495</span>      <span class="mf">300.0</span>

<span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;NH4&#39;</span><span class="p">,</span>
<span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;InitialValues&#39;</span><span class="p">)</span>
    <span class="n">InitialValues</span>
<span class="mi">0</span> <span class="mf">0.1</span>
<span class="mi">1</span> <span class="mf">0.1</span>
<span class="mi">2</span> <span class="mf">0.1</span>
<span class="mi">3</span> <span class="mf">0.1</span>
<span class="mi">4</span> <span class="mf">0.1</span>
<span class="mi">5</span> <span class="mf">0.1</span>
<span class="mi">6</span> <span class="mf">0.1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path">
<span class="sig-name descname"><span class="pre">inspect_model_parameters_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path" title="Link to this definition"></a></dt>
<dd><p>Inspect and extract parameters from a model component specified by its path.</p>
<section id="id41">
<h6>Parameters:<a class="headerlink" href="#id41" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>path: str required</dt><dd><p>The path relative to the Models.Core.Simulations Node</p>
</dd>
<dt>parameters: Union[str, set, list, tuple], optional</dt><dd><p>A specific parameter or a collection of parameters to inspect. Defaults to <code class="docutils literal notranslate"><span class="pre">'all'</span></code>, in which case all accessible attributes are returned.
For layered models like Solute, valid parameters include <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">InitialValues</span></code>, <code class="docutils literal notranslate"><span class="pre">SoluteBD</span></code>, <code class="docutils literal notranslate"><span class="pre">Thickness</span></code>, etc.</p>
</dd>
<dt>kwargs:</dt><dd><p>Reserved for future compatibility; currently unused.</p>
</dd>
</dl>
</section>
<section id="id42">
<h6>Returns<a class="headerlink" href="#id42" title="Link to this heading"></a></h6>
<blockquote>
<div><p>Union[dict, list, pd.DataFrame, Any]
The format depends on the model type as shown below:</p>
</div></blockquote>
<dl class="simple">
<dt>Weather:</dt><dd><p>file path(s) as string(s)</p>
</dd>
<dt>Clock:</dt><dd><p>dictionary with start and end datetime objects (or a single datetime if only one is requested).</p>
</dd>
<dt>Manager:</dt><dd><p>dictionary of script parameters.</p>
</dd>
<dt>Soil-related:</dt><dd><p>pandas DataFrame of layered values.</p>
</dd>
<dt>Report:</dt><dd><p>A dictionary with <code class="docutils literal notranslate"><span class="pre">VariableNames</span></code> and <code class="docutils literal notranslate"><span class="pre">EventNames</span></code>.</p>
</dd>
</dl>
<p>Cultivar:
dictionary of parameter strings.</p>
</section>
<section id="id43">
<h6>Raises<a class="headerlink" href="#id43" title="Link to this heading"></a></h6>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the specified model or simulation is not found or arguments are invalid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code></dt><dd><p>If the model type is unsupported by the current interface.</p>
</dd>
</dl>
</section>
<section id="id44">
<h6>Requirements<a class="headerlink" href="#id44" title="Link to this heading"></a></h6>
<ul class="simple">
<li><p>APSIM Next Generation Python bindings (<code class="docutils literal notranslate"><span class="pre">apsimNGpy</span></code>)</p></li>
<li><p>Python 3.10+</p></li>
</ul>
</section>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a>
Others: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a>, <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="apsimNGpy.core.apsim.ApsimModel.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.edit_cultivar">
<span class="sig-name descname"><span class="pre">edit_cultivar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CultivarName:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commands:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values:</span> <span class="pre">'Any'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.edit_cultivar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated
Edits the parameters of a given cultivar. we don’t need a simulation name for this unless if you are defining it in the
manager section, if that it is the case, see update_mgt.</p>
<dl class="simple">
<dt>Requires:</dt><dd><p>required a replacement for the crops</p>
</dd>
</dl>
<p>Args:</p>
<blockquote>
<div><ul class="simple">
<li><p>CultivarName (str, required): Name of the cultivar (e.g., ‘laila’).</p></li>
<li><p>variable_spec (str, required): A strings representing the parameter paths to be edited.</p></li>
</ul>
</div></blockquote>
<p>Returns: instance of the class CoreModel or ApsimModel</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="p">(</span><span class="s1">&#39;[Grain].MaximumGrainsPerCob.FixedValue&#39;</span><span class="p">,</span> <span class="s1">&#39;[Phenology].GrainFilling.Target.FixedValue&#39;</span><span class="p">)</span>

<span class="o">-</span> <span class="n">values</span><span class="p">:</span> <span class="n">values</span> <span class="k">for</span> <span class="n">each</span> <span class="n">command</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="p">(</span><span class="mi">721</span><span class="p">,</span> <span class="mi">760</span><span class="p">))</span><span class="o">.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.update_cultivar">
<span class="sig-name descname"><span class="pre">update_cultivar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'dict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.update_cultivar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Update cultivar parameters</p>
<blockquote>
<div></div></blockquote>
<dl class="simple">
<dt>parameters:  (dict, required)</dt><dd><p>dictionary of cultivar parameters to update.</p>
</dd>
<dt>simulations<span class="classifier">str optional</span></dt><dd><p>List or tuples of simulation names to update if <code class="docutils literal notranslate"><span class="pre">None</span></code> update all simulations.</p>
</dd>
<dt>clear (bool, optional)</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> remove all existing parameters, by default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.recompile_edited_model">
<span class="sig-name descname"><span class="pre">recompile_edited_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path:</span> <span class="pre">'os.PathLike')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.recompile_edited_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
<section id="id45">
<h4>Args:<a class="headerlink" href="#id45" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">out_path</span></code>: os.PathLike object this method is called to convert the simulation object from ConverterReturnType to model like object</p>
<p><code class="docutils literal notranslate"><span class="pre">return:</span></code> self</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.update_mgt_by_path">
<span class="sig-name descname"><span class="pre">update_mgt_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt='.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.update_mgt_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id46">
<h4>Parameters<a class="headerlink" href="#id46" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>path: str</dt><dd><p>A complete node path to the script manager e.g. ‘.Simulations.Simulation.Field.Sow using a variable rule’</p>
</dd>
<dt>fmt: str</dt><dd><p>seperator for formatting the path e.g., “.”. Other characters can be used with
caution, e.g., / and clearly declared in fmt argument. If you want to use the forward slash, it will be ‘/Simulations/Simulation/Field/Sow using a variable rule’, fmt = ‘/’</p>
</dd>
<dt><a href="#id47"><span class="problematic" id="id48">**</span></a>kwargs:</dt><dd><p>Corresponding keyword arguments representing the paramters in the script manager and their values. Values is what you want
to change to; Example here <code class="docutils literal notranslate"><span class="pre">Population</span></code> =8.2, values should be entered with their corresponding data types e.g.,
int, float, bool,str etc.</p>
</dd>
</dl>
<section id="id49">
<h5>Returns:<a class="headerlink" href="#id49" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Instance of apsimNgpy.core.ApsimModel or apsimNgpy.core.experimentmanager.ExperimentManager</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replace_model_from">
<span class="sig-name descname"><span class="pre">replace_model_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replace_model_from" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated and will be removed
function has not been maintained for a long time, use it at your own risk</p>
<p>Replace a model, e.g., a soil model with another soil model from another APSIM model.
The method assumes that the model to replace is already loaded in the current model and the same class as a source model.
e.g., a soil node to soil node, clock node to clock node, et.c</p>
</section>
<section id="id50">
<h5>Parameters:<a class="headerlink" href="#id50" title="Link to this heading"></a></h5>
<blockquote>
<div><p>model: Path to the APSIM model file or a CoreModel instance.</p>
<dl class="simple">
<dt>model_type: (str):</dt><dd><p>Class name (as string) of the model to replace (e.g., “Soil”).</p>
</dd>
<dt>model_name: (str, optional)</dt><dd><p>Name of the model instance to copy from the source model.
If not provided, the first match is used.</p>
</dd>
<dt>target_model_name: (str, optional)</dt><dd><p>Specific simulation name to target for replacement.
Only used when replacing Simulation-level objects.</p>
</dd>
<dt>simulations (str, optional):</dt><dd><p>Simulation(s) to operate on. If None, applies to all.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>self: To allow method chaining.</p>
</dd>
<dt>Raises:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code>: If <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is “Simulations” which is not allowed for replacement.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.update_mgt">
<span class="sig-name descname"><span class="pre">update_mgt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">management:</span> <span class="pre">'Union[dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out:</span> <span class="pre">'[Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.update_mgt" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Update management settings in the model. This method handles one management parameter at a time.</p>
</section>
<section id="id51">
<h5>Parameters<a class="headerlink" href="#id51" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>management: dict or tuple</dt><dd><p>A dictionary or tuple of management parameters to update. The dictionary should have ‘Name’ as the key
for the management script’s name and corresponding values to update. Lists are not allowed as they are mutable
and may cause issues with parallel processing. If a tuple is provided, it should be in the form (param_name, param_value).</p>
</dd>
<dt>simulations: list of str, optional</dt><dd><p>List of simulation names to update. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, updates all simulations. This is not recommended for large
numbers of simulations as it may result in a high computational load.</p>
</dd>
<dt>out: str or pathlike, optional</dt><dd><p>Path to save the edited model. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, uses the default output path specified in <code class="docutils literal notranslate"><span class="pre">self.out_path</span></code> or
<code class="docutils literal notranslate"><span class="pre">self.model_info.path</span></code>. No need to call <code class="docutils literal notranslate"><span class="pre">save_edited_file</span></code> after updating, as this method handles saving.</p>
</dd>
</dl>
</section>
<section id="id52">
<h5>Returns<a class="headerlink" href="#id52" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Returns the instance of the respective model class for method chaining.</p>
</div></blockquote>
<p>..note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Ensure that the `management` parameter is provided in the correct format to avoid errors. -
This method does not perform `validation` on the provided `management` dictionary beyond checking for key
existence. - If the specified management script or parameters do not exist, they will be ignored.
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.preview_simulation">
<span class="sig-name descname"><span class="pre">preview_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">watch=False)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.preview_simulation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Open the current simulation in the APSIM Next Gen GUI.</p>
<p>This first saves the in-memory simulation to <code class="docutils literal notranslate"><span class="pre">out_path</span></code> and then launches
the APSIM Next Gen GUI (via <code class="xref py py-func docutils literal notranslate"><span class="pre">get_apsim_bin_path()</span></code>) so you can inspect
the model tree and make quick edits side by side.</p>
</section>
<section id="id53">
<h5>Parameters<a class="headerlink" href="#id53" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>watch<span class="classifier">bool, default False</span></dt><dd><p>If True, Python will listen for GUI edits and sync them back into the
model instance in (near) real time. This feature is experimental.</p>
</dd>
</dl>
</section>
<section id="id54">
<h5>Returns<a class="headerlink" href="#id54" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>None</dt><dd><p>This function performs a side effect (opening the GUI) and does not
return a value.</p>
</dd>
</dl>
</section>
<section id="id55">
<h5>Raises<a class="headerlink" href="#id55" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If the file does not exist after <code class="docutils literal notranslate"><span class="pre">save()</span></code>.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the APSIM Next Gen executable cannot be located or the GUI fails to start.</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The file opened in the GUI is a <em>saved copy</em> of this Python object.
Changes made in the GUI are <strong>not</strong> propagated back to the
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> instance unless you set
<code class="docutils literal notranslate"><span class="pre">watch=True</span></code>.
Otherwise, to continue working in Python with GUI edits, save the file in APSIM
and re-load it, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;gui_edited_file_path.apsimx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="id56">
<h5>Examples<a class="headerlink" href="#id56" title="Link to this heading"></a></h5>
<p><strong>1. Preview only</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s2">&quot;test_.apsimx&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/gui.png" id="gui-tree-structure-model"><img alt="Tree structure of the APSIM model" class="align-center" id="gui-tree-structure-model" src="_images/gui.png" style="width: 98%;" />
</a>
<p><strong>2. Preview and edit simultaneously</strong></p>
<p>After opening the APSIMX file in the GUI via the watching mode (<code class="docutils literal notranslate"><span class="pre">watch=True</span></code>), you can modify any parameters using GUI interface. The Example given below involved changing parameters such as
<strong>Plant population (/m²)</strong>, <strong>Cultivar to be sown</strong>, and <strong>Row spacing (mm)</strong>
in the <em>Sow using a variable rule</em> script and finally, checked whether the changes were successful by inspecting the model.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">(</span><span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/gui_watch_changes.png" id="gui-tree-structure-model-watch"><img alt="Tree structure of the APSIM model (watch mode)" class="align-center" id="gui-tree-structure-model-watch" src="_images/gui_watch_changes.png" style="width: 98%;" />
</a>
<p><strong>Example console output when</strong> <code class="docutils literal notranslate"><span class="pre">watch=True</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2025-10-24 13:05:08,480 - INFO - Watching for GUI edits...
Save in APSIM to sync back.
2025-10-24 13:05:08,490 - INFO - Press Ctrl+C in this cell to stop.
APSIM GUI saved. Syncing model...
2025-10-24 13:05:24,112 - INFO - Watching terminated successfully.
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">watch=True</span></code>, follow the console instructions.
One critical step is that you <strong>must press</strong> <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> to stop watching.</p>
<p><strong>Checking if changes were successfully propagated back</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s2">&quot;Models.Manager&quot;</span><span class="p">,</span> <span class="s2">&quot;Sow using a variable rule&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;Crop&#39;: &#39;[Maize]&#39;,
 &#39;StartDate&#39;: &#39;1-nov&#39;,
 &#39;EndDate&#39;: &#39;10-jan&#39;,
 &#39;MinESW&#39;: &#39;100&#39;,
 &#39;MinRain&#39;: &#39;25&#39;,
 &#39;RainDays&#39;: &#39;7&#39;,
 &#39;CultivarName&#39;: &#39;B_95&#39;,
 &#39;SowingDepth&#39;: &#39;25&#39;,
 &#39;RowSpacing&#39;: &#39;700&#39;,
 &#39;Population&#39;: &#39;4&#39;}
</pre></div>
</div>
<p>Depending on your environment, you may need to close the GUI window to continue
or follow the prompts shown after termination.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replace_met_file">
<span class="sig-name descname"><span class="pre">replace_met_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weather_file:</span> <span class="pre">'Union[Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">&quot;'Self'&quot;</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replace_met_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.**x**: </span>This helper will be removed in a future release. Prefer newer weather
configuration utilities or set the <code class="docutils literal notranslate"><span class="pre">FileName</span></code> property on weather nodes
directly.</p>
</div>
<p>Replace the <code class="docutils literal notranslate"><span class="pre">FileName</span></code> of every <code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node under one
or more simulations so they point to a new <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
<p>This method traverses the APSIM NG model tree under each selected simulation and
updates the weather component(s) in-place. Version-aware traversal is used:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">APSIM_VERSION_NO</span> <span class="pre">&gt;</span> <span class="pre">BASE_RELEASE_NO</span></code> <strong>or</strong>
<code class="docutils literal notranslate"><span class="pre">APSIM_VERSION_NO</span> <span class="pre">==</span> <span class="pre">GITHUB_RELEASE_NO</span></code>: use
<code class="xref py py-func docutils literal notranslate"><span class="pre">ModelTools.find_all_in_scope()</span></code> to find
<code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> nodes.</p></li>
<li><p>Otherwise: fall back to <code class="docutils literal notranslate"><span class="pre">sim.FindAllDescendants[Models.Climate.Weather]()</span></code>.</p></li>
</ul>
</section>
<section id="id57">
<h5>Parameters<a class="headerlink" href="#id57" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>weather_file<span class="classifier">Union[pathlib.Path, str]</span></dt><dd><p>Path to the <code class="docutils literal notranslate"><span class="pre">.met</span></code> file. May be absolute or relative to the current
working directory. The path must exist at call time; otherwise a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileNotFoundError</span></code></a> is raised.</p>
</dd>
<dt>simulations<span class="classifier">Any, optional</span></dt><dd><p>Simulation selector forwarded to <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code>. If left as
<code class="docutils literal notranslate"><span class="pre">MissingOption</span></code> (default) (or if your implementation accepts <code class="docutils literal notranslate"><span class="pre">None</span></code>),
all simulations yielded by <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> are updated.
Acceptable types depend on your <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> contract
(e.g., iterable of names, single name, or sentinel).</p>
</dd>
<dt><a href="#id58"><span class="problematic" id="id59">**</span></a>kwargs</dt><dd><p>Ignored. Reserved for backward compatibility and future extensions.</p>
</dd>
</dl>
</section>
<section id="id60">
<h5>Returns<a class="headerlink" href="#id60" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>Self</dt><dd><p>The current model/manager instance to support method chaining.</p>
</dd>
</dl>
</section>
<section id="id61">
<h5>Raises<a class="headerlink" href="#id61" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">weather_file</span></code> does not exist.</p>
</dd>
<dt>Exception</dt><dd><p>Any exception raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> or underlying APSIM
traversal utilities is propagated unchanged.</p>
</dd>
</dl>
</section>
<section id="id62">
<h5>Side Effects<a class="headerlink" href="#id62" title="Link to this heading"></a></h5>
<p>Mutates the model by setting <code class="docutils literal notranslate"><span class="pre">met.FileName</span> <span class="pre">=</span> <span class="pre">os.path.realpath(weather_file)</span></code>
for each matched <code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node.</p>
</section>
<section id="id63">
<h5>Notes<a class="headerlink" href="#id63" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>No-op safety:</strong> If a simulation has no Weather nodes, that simulation
is silently skipped.</p></li>
<li><p><strong>Path normalization:</strong> The stored path is the canonical real path
(<code class="docutils literal notranslate"><span class="pre">os.path.realpath</span></code>).</p></li>
<li><p><strong>Thread/process safety:</strong> This operation mutates in-memory model state
and is not inherently thread-safe. Coordinate external synchronization if
calling concurrently.</p></li>
</ul>
</section>
<section id="id64">
<h5>Examples<a class="headerlink" href="#id64" title="Link to this heading"></a></h5>
<p>Update all simulations to use a local <code class="docutils literal notranslate"><span class="pre">Ames.met</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">replace_met_file</span><span class="p">(</span><span class="n">weather_file</span><span class="o">=</span><span class="s2">&quot;data/weather/Ames.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update only selected simulations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">replace_met_file</span><span class="p">(</span>
    <span class="n">weather_file</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;~/wx/Boone.met&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(),</span>
    <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Sim_A&quot;</span><span class="p">,</span> <span class="s2">&quot;Sim_B&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="see-also">
<h5>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h5>
<p>find_simulations : Resolve and yield simulation objects by name/selector.
ModelTools.find_all_in_scope : Scope-aware traversal utility.
Models.Climate.Weather : APSIM NG weather component.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_weather_from_file">
<span class="sig-name descname"><span class="pre">get_weather_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weather_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_weather_from_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Point targeted APSIM Weather nodes to a local <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
<p>The function name mirrors the semantics of <code class="docutils literal notranslate"><span class="pre">get_weather_from_web</span></code> but sources the weather
from disk. If the provided path lacks the <code class="docutils literal notranslate"><span class="pre">.met</span></code> suffix, it is appended.
The file <strong>must</strong> exist on disk.</p>
</section>
<section id="id65">
<h5>Parameters<a class="headerlink" href="#id65" title="Link to this heading"></a></h5>
<dl>
<dt>weather_file: str | Path</dt><dd><p>Path (absolute or relative) to a <code class="docutils literal notranslate"><span class="pre">.met</span></code> file. If the suffix is missing,
<code class="docutils literal notranslate"><span class="pre">.met</span></code> is appended. A <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> is raised if the final path
does not exist. The path is resolved to an absolute path to avoid ambiguity.</p>
</dd>
<dt>simulations: None | str | Iterable[str], optional</dt><dd><p>Which simulations to update:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> (default): update <em>all</em> Weather nodes found under <code class="docutils literal notranslate"><span class="pre">Simulations</span></code>.
- <code class="docutils literal notranslate"><span class="pre">str</span></code> or iterable of names: only update Weather nodes within the named</p>
<blockquote>
<div><p>simulation(s). A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised if a requested simulation has
no Weather nodes.</p>
</div></blockquote>
</dd>
</dl>
</section>
<section id="id66">
<h5>Returns<a class="headerlink" href="#id66" title="Link to this heading"></a></h5>
<p>Instance of the model for method chaining</p>
</section>
<section id="id67">
<h5>Raises<a class="headerlink" href="#id67" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If the resolved <code class="docutils literal notranslate"><span class="pre">.met</span></code> file does not exist.</p>
</dd>
<dt>ValueError</dt><dd><p>If any requested simulation exists but contains no Weather nodes.</p>
</dd>
</dl>
</section>
<section id="id68">
<h5>Side Effects<a class="headerlink" href="#id68" title="Link to this heading"></a></h5>
<p>Sets <code class="docutils literal notranslate"><span class="pre">w.FileName</span></code> for each targeted <code class="docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node to the
resolved path of <code class="docutils literal notranslate"><span class="pre">weather_file</span></code>. The file is <em>not</em> copied; only the path
inside the APSIM document is changed.</p>
</section>
<section id="id69">
<h5>Notes<a class="headerlink" href="#id69" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>APSIM resolves relative paths relative to the <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file. Using an
absolute path (the default here) reduces surprises across working directories.</p></li>
<li><p>Replacement folders that contain Weather nodes are also updated when
<code class="docutils literal notranslate"><span class="pre">simulations</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (i.e., “update everything in scope”).</p></li>
</ul>
</section>
<section id="id70">
<h5>Examples<a class="headerlink" href="#id70" title="Link to this heading"></a></h5>
<p>Update all Weather nodes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_file</span><span class="p">(</span><span class="s2">&quot;data/ames_2020.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update only two simulations (suffix added automatically):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_file</span><span class="p">(</span><span class="s2">&quot;data/ames_2020&quot;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Simulation&quot;</span><span class="p">,))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model" title="apsimNGpy.core.apsim.ApsimModel.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.edit_model_by_path" title="apsimNGpy.core.apsim.ApsimModel.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_weather_from_web">
<span class="sig-name descname"><span class="pre">get_weather_from_web</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlat:</span> <span class="pre">'tuple'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source='nasa'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_weather_from_web" title="Link to this definition"></a></dt>
<dd><p>Replaces the weather (met) file in the model using weather data fetched from an online source. Internally, calls get_weather_from_file after downloading the weather</p>
</dd></dl>

</section>
<section id="id71">
<h5>Parameters:<a class="headerlink" href="#id71" title="Link to this heading"></a></h5>
<blockquote>
<div><dl class="simple">
<dt>lonlat: tuple</dt><dd><p>A tuple containing the longitude and latitude coordinates.</p>
</dd>
<dt>start: int</dt><dd><p>Start date for the weather data retrieval.</p>
</dd>
<dt>end: int</dt><dd><p>End date for the weather data retrieval.</p>
</dd>
<dt>simulations: str | list[str] default is all or None list of simulations or a singular simulation</dt><dd><p>name, where to place the weather data, defaults to None, implying <code class="docutils literal notranslate"><span class="pre">all</span></code> the available simulations</p>
</dd>
<dt>source: str default is ‘nasa’</dt><dd><p>Source of the weather data.</p>
</dd>
<dt>filename: str default is generated using the base name of the apsimx file in use, and the start and</dt><dd><p>end years Name of the file to save the retrieved data. If None, a default name is generated.</p>
</dd>
<dt>Returns:</dt><dd><p>model object with the corresponding file replaced with the fetched weather data.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id72">
<h5>Examples<a class="headerlink" href="#id72" title="Link to this heading"></a></h5>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_web</span><span class="p">(</span><span class="n">lonlat</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">93.885490</span><span class="p">,</span> <span class="mf">42.060650</span><span class="p">),</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">1990</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2001</span><span class="p">)</span>
</pre></div>
</div>
<p>Changing weather data with non-matching start and end dates in the simulation will lead to RuntimeErrors.
To avoid this, first check the start and end date before proceeding as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="n">model_class</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">dt</span><span class="p">[</span><span class="s1">&#39;Start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">dt</span><span class="p">[</span><span class="s1">&#39;End&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">year</span>
<span class="go"># output: 1990, 2000</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.show_met_file_in_simulation">
<span class="sig-name descname"><span class="pre">show_met_file_in_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.show_met_file_in_simulation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Show weather file for all simulations</p>
<p>&#64;deprecated: use inspect_model_parameters() instead</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.change_report">
<span class="sig-name descname"><span class="pre">change_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name='Report'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_DayAfterLastOutput=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.change_report" title="Link to this definition"></a></dt>
<dd><p>Set APSIM report _variables for specified simulations.</p>
</dd></dl>

<p>This function allows you to set the variable names for an APSIM report
in one or more simulations.</p>
</section>
<section id="id73">
<h5>Parameters<a class="headerlink" href="#id73" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>command: str</dt><dd><p>The new report string that contains variable names.</p>
</dd>
<dt>report_name: str</dt><dd><p>The name of the APSIM report to update defaults to Report.</p>
</dd>
<dt>simulations: list of str, optional</dt><dd><p>A list of simulation names to update. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the function will
update the report for all simulations.</p>
</dd>
</dl>
</section>
<section id="id74">
<h5>Returns<a class="headerlink" href="#id74" title="Link to this heading"></a></h5>
<p>None</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.extract_soil_physical">
<span class="sig-name descname"><span class="pre">extract_soil_physical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.extract_soil_physical" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Find physical soil</p>
</section>
<section id="id75">
<h5>Parameters<a class="headerlink" href="#id75" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">simulation</span></code>, optional</dt><dd><p>Simulation name, if <code class="docutils literal notranslate"><span class="pre">None</span></code> use the first simulation.</p>
</dd>
</dl>
</section>
<section id="id76">
<h5>Returns<a class="headerlink" href="#id76" title="Link to this heading"></a></h5>
<blockquote>
<div><p>APSIM Models.Soils.Physical object</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.extract_any_soil_physical">
<span class="sig-name descname"><span class="pre">extract_any_soil_physical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.extract_any_soil_physical" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Extracts soil physical parameters in the simulation</p>
<dl class="simple">
<dt>Args::</dt><dd><p><code class="docutils literal notranslate"><span class="pre">parameter</span></code> (_string_): string e.g. DUL, SAT
<code class="docutils literal notranslate"><span class="pre">simulations</span></code> (string, optional): Targeted simulation name. Defaults to None.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.inspect_model">
<span class="sig-name descname"><span class="pre">inspect_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Models]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspect the model types and returns the model paths or names.</p>
</section>
<section id="when-is-it-needed">
<h5>When is it needed?<a class="headerlink" href="#when-is-it-needed" title="Link to this heading"></a></h5>
<blockquote>
<div><p>useful if you want to identify the paths or name of the model for further editing the model e.g., with the <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">edit_model</span></code> method.</p>
</div></blockquote>
</section>
<section id="id77">
<h5>Parameters<a class="headerlink" href="#id77" title="Link to this heading"></a></h5>
<dl>
<dt>model_class<span class="classifier">type | str</span></dt><dd><p>The APSIM model type to search for. You may pass either a class (e.g.,
Models.Clock, Models.Manager) or a string. Strings can be short names
(e.g., “Clock”, “Manager”) or fully qualified (e.g., “Models.Core.Simulation”,
“Models.Climate.Weather”, “Models.Core.IPlant”). Please see from The list of classes
or model types from the <strong>Models</strong> Namespace below. Red represents the modules, and this method</p>
<blockquote>
<div><p>will throw an error if only a module is supplied. The list constitutes the classes or
model types under each module</p>
</div></blockquote>
<dl class="simple">
<dt>Models:</dt><dd><ul class="simple">
<li><p>Models.Clock</p></li>
<li><p>Models.Fertiliser</p></li>
<li><p>Models.Irrigation</p></li>
<li><p>Models.Manager</p></li>
<li><p>Models.Memo</p></li>
<li><p>Models.MicroClimate</p></li>
<li><p>Models.Operations</p></li>
<li><p>Models.Report</p></li>
<li><p>Models.Summary</p></li>
</ul>
</dd>
<dt>Models.Climate:</dt><dd><ul class="simple">
<li><p>Models.Climate.Weather</p></li>
</ul>
</dd>
<dt>Models.Core:</dt><dd><ul class="simple">
<li><p>Models.Core.Folder</p></li>
<li><p>Models.Core.Simulation</p></li>
<li><p>Models.Core.Simulations</p></li>
<li><p>Models.Core.Zone</p></li>
</ul>
</dd>
<dt>Models.Factorial:</dt><dd><ul class="simple">
<li><p>Models.Factorial.Experiment</p></li>
<li><p>Models.Factorial.Factors</p></li>
<li><p>Models.Factorial.Permutation</p></li>
</ul>
</dd>
<dt>Models.PMF:</dt><dd><ul class="simple">
<li><p>Models.PMF.Cultivar</p></li>
<li><p>Models.PMF.Plant</p></li>
</ul>
</dd>
<dt>Models.Soils:</dt><dd><ul class="simple">
<li><p>Models.Soils.Arbitrator.SoilArbitrator</p></li>
<li><p>Models.Soils.CERESSoilTemperature</p></li>
<li><p>Models.Soils.Chemical</p></li>
<li><p>Models.Soils.Nutrients.Nutrient</p></li>
<li><p>Models.Soils.Organic</p></li>
<li><p>Models.Soils.Physical</p></li>
<li><p>Models.Soils.Sample</p></li>
<li><p>Models.Soils.Soil</p></li>
<li><p>Models.Soils.SoilCrop</p></li>
<li><p>Models.Soils.Solute</p></li>
<li><p>Models.Soils.Water</p></li>
</ul>
</dd>
<dt>Models.Storage:</dt><dd><ul class="simple">
<li><p>Models.Storage.DataStore</p></li>
</ul>
</dd>
<dt>Models.Surface:</dt><dd><ul class="simple">
<li><p>Models.Surface.SurfaceOrganicMatter</p></li>
</ul>
</dd>
<dt>Models.WaterModel:</dt><dd><ul class="simple">
<li><p>Models.WaterModel.WaterBalance</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>fullpath<span class="classifier">bool, optional (default: False)</span></dt><dd><p>If False, return the model <em>name</em> only.
If True, return the model’s <em>full path</em> relative to the Simulations root.</p>
</dd>
</dl>
</section>
<section id="id78">
<h5>Returns<a class="headerlink" href="#id78" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>list[str]</dt><dd><p>A list of model names or full paths, depending on <code class="docutils literal notranslate"><span class="pre">fullpath</span></code>.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
</pre></div>
</div>
<p>load default <code class="docutils literal notranslate"><span class="pre">maize</span></code> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the path to all the manager scripts in the simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">[</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Sow</span> <span class="n">using</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">rule</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Fertilise</span> <span class="n">at</span>
<span class="n">sowing</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Harvest</span><span class="s1">&#39;]</span>
</pre></div>
</div>
<p>Inspect the full path of the Clock Model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span> <span class="c1"># gets the path to the Clock models</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect the full path to the crop plants in the simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">IPlant</span><span class="p">)</span> <span class="c1"># gets the path to the crop model</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or use the full string path as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">IPlant</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># gets you the name of the crop Models</span>
<span class="p">[</span><span class="s1">&#39;Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Get the full path to the fertilizer model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Fertiliser</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Fertiliser&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The models from APSIM Models namespace are abstracted to use strings. All you need is to specify the name or the full path to the model enclosed in a stirng as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">)</span> <span class="c1"># get the path to the clock model</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Alternatively, you can do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Clock&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Repeat inspection of the plant model while using a <code class="docutils literal notranslate"><span class="pre">string</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;IPlant&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect using the full model namespace path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Core.IPlant&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>What about the weather model?:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Weather&#39;</span><span class="p">)</span> <span class="c1"># inspects the weather module</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Weather&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Alternative:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># or inspect using full model namespace path</span>
<span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Climate.Weather&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Weather&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Try finding the path to the cultivar model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># list all available cultivar names</span>
<span class="p">[</span><span class="s1">&#39;Hycorn_53&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_33M54&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_38H20&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_34K77&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_39V43&#39;</span><span class="p">,</span><span class="s1">&#39;Atrium&#39;</span><span class="p">,</span> <span class="s1">&#39;Laila&#39;</span><span class="p">,</span> <span class="s1">&#39;GH_5019WX&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p># we can get only the names of the cultivar models using the full string path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.PMF.Cultivar&#39;</span><span class="p">,</span> <span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;Hycorn_53&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_33M54&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_38H20&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_34K77&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_39V43&#39;</span><span class="p">,</span><span class="s1">&#39;Atrium&#39;</span><span class="p">,</span> <span class="s1">&#39;Laila&#39;</span><span class="p">,</span> <span class="s1">&#39;GH_5019WX&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<dl class="simple">
<dt>Models can be inspected either by importing the Models namespace or by using string paths. The most reliable</dt><dd><p>approach is to provide the full model path—either as a string or as the <code class="docutils literal notranslate"><span class="pre">Models</span></code> object.</p>
</dd>
<dt>However, remembering full paths can be tedious, so allowing partial model names or references can significantly</dt><dd><p>save time during development and exploration.</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>You do not need to import <code class="docutils literal notranslate"><span class="pre">Models</span></code> if you pass a string; both short and
fully qualified names are supported.</p></li>
<li><p>“Full path” is the APSIM tree path <strong>relative to the Simulations node</strong>
(be mindful of the difference between <em>Simulations</em> (root) and an individual
<em>Simulation</em>).</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs:
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="apsimNGpy.core.apsim.ApsimModel.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.configs">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.configs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>records activities or modifications to the model including changes to the file</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replace_soils_values_by_path">
<span class="sig-name descname"><span class="pre">replace_soils_values_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replace_soils_values_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>set the new values of the specified soil object by path. only layers parameters are supported.</p>
<p>Unfortunately, it handles one soil child at a time e.g., <code class="docutils literal notranslate"><span class="pre">Physical</span></code> at a go</p>
</section>
<section id="id79">
<h5>Parameters:<a class="headerlink" href="#id79" title="Link to this heading"></a></h5>
<dl>
<dt>node_path: (str, required):</dt><dd><p>complete path to the soil child of the Simulations e.g.,Simulations.Simulation.Field.Soil.Organic.
Use`copy path to node function in the GUI to get the real path of the soil node.</p>
</dd>
<dt>indices: (list, optional)</dt><dd><p>defaults to none but could be the position of the replacement values for arrays</p>
</dd>
<dt><a href="#id80"><span class="problematic" id="id81">**</span></a>kwargs: (key word arguments)</dt><dd><blockquote>
<div><p>This carries the parameter and the values e.g., BD = 1.23 or BD = [1.23, 1.75]
if the child is <code class="docutils literal notranslate"><span class="pre">Physical</span></code>, or <code class="docutils literal notranslate"><span class="pre">Carbon</span></code> if the child is <code class="docutils literal notranslate"><span class="pre">Organic</span></code></p>
</div></blockquote>
<p>raises:
<a href="#id82"><span class="problematic" id="id83">`</span></a>ValueError if none of the key word arguments, representing the paramters are specified</p>
<dl class="simple">
<dt>returns:</dt><dd><ul class="simple">
<li><p>Instance of the model object</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.base_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_default_simulations</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">simulations_object</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># initiate model.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">CoreModel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span> <span class="c1"># ``replace`` with your intended file path</span>
<span class="n">model</span><span class="o">.</span><span class="n">replace_soils_values_by_path</span><span class="p">(</span><span class="n">node_path</span><span class="o">=</span><span class="s1">&#39;.Simulations.Simulation.Field.Soil.Organic&#39;</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Carbon</span> <span class="o">=</span><span class="mf">1.3</span><span class="p">)</span>
<span class="n">sv</span><span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_soil_values_by_path</span><span class="p">(</span><span class="s1">&#39;.Simulations.Simulation.Field.Soil.Organic&#39;</span><span class="p">,</span> <span class="s1">&#39;Carbon&#39;</span><span class="p">)</span>
<span class="n">output</span> <span class="c1"># {&#39;Carbon&#39;: [1.3, 0.96, 0.6, 0.3, 0.18, 0.12, 0.12]}</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.replace_soil_property_values">
<span class="sig-name descname"><span class="pre">replace_soil_property_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_values:</span> <span class="pre">'list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soil_child:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.replace_soil_property_values" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Replaces values in any soil property array. The soil property array.</p>
<p><code class="docutils literal notranslate"><span class="pre">parameter</span></code>: str: parameter name e.g., NO3, ‘BD’</p>
<p><code class="docutils literal notranslate"><span class="pre">param_values</span></code>: list or tuple: values of the specified soil property name to replace</p>
<p><code class="docutils literal notranslate"><span class="pre">soil_child</span></code>: str: sub child of the soil component e.g., organic, physical etc.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">simulations</span></code>: list: list of simulations to where the child is found if</dt><dd><p>not found, all current simulations will receive the new values, thus defaults to None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">indices</span></code>: list. Positions in the array which will be replaced. Please note that unlike C#, python satrt counting from 0</p>
<p><code class="docutils literal notranslate"><span class="pre">crop</span></code> (str, optional): string for soil water replacement. Default is None</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.clean_up">
<span class="sig-name descname"><span class="pre">clean_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coerce=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv=True)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.clean_up" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clears the file cloned the datastore and associated csv files are not deleted if db is set to False defaults to True.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>&gt;&gt;None: This method does not return a value.</p>
</dd>
</dl>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please proceed with caution, we assume that if you want to clear the model objects, then you don’t need them,
but by making copy compulsory, then, we are clearing the edited files</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.create_experiment">
<span class="sig-name descname"><span class="pre">create_experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permutation:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.create_experiment" title="Link to this definition"></a></dt>
<dd><p>&#64;deprecated and will be removed in future versions for this class.</p>
</dd></dl>

<p>Initialize an <code class="docutils literal notranslate"><span class="pre">ExperimentManager</span></code> instance, adding the necessary models and factors.</p>
<p>Args:</p>
<blockquote>
<div><blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code>: Additional parameters for CoreModel.</p>
<p><code class="docutils literal notranslate"><span class="pre">permutation</span></code> (bool). If True, the experiment uses a permutation node to run unique combinations of the specified
factors for the simulation. For example, if planting population and nitrogen fertilizers are provided,
each combination of planting population level and fertilizer amount is run as an individual treatment.</p>
</div></blockquote>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base_name</span></code> (str, optional): The name of the base simulation to be moved into the experiment setup. if not</dt><dd><p>provided, it is expected to be Simulation as the default.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">base_name</span></code> is optional but the experiment may not be created if there are more than one base simulations. Therefore, an error is likely.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.refresh_model">
<span class="sig-name descname"><span class="pre">refresh_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.refresh_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>for methods that will alter the simulation objects and need refreshing the second time we call
&#64;return: self for method chaining</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_factor">
<span class="sig-name descname"><span class="pre">add_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specification:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a factor to the created experiment. Thus, this method only works on factorial experiments</p>
<p>It could raise a value error if the experiment is not yet created.</p>
<p>Under some circumstances, experiment will be created automatically as a permutation experiment.</p>
</section>
<section id="id84">
<h5>Parameters:<a class="headerlink" href="#id84" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>specification``: (str), required*</dt><dd><dl class="simple">
<dt>A specification can be:</dt><dd><ul class="simple">
<li><ol class="arabic simple">
<li><p>multiple values or categories e.g., “[Sow using a variable rule].Script.Population =4, 66, 9, 10”</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="2">
<li><p>Range of values e.g, “[Fertilise at sowing].Script.Amount = 0 to 200 step 20”,</p></li>
</ol>
</li>
</ul>
</dd>
</dl>
</dd>
<dt>factor_name: (str), required</dt><dd><p>expected to be the user-desired name of the factor being specified e.g., population</p>
</dd>
</dl>
<p>This method is overwritten in <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager" title="apsimNGpy.core.experimentmanager.ExperimentManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentManager</span></code></a> class.</p>
<p>&#64;deprecated and will be removed in future versions for this class.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">base_data</span>
<span class="n">apsim</span> <span class="o">=</span> <span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span><span class="n">specification</span><span class="o">=</span><span class="s2">&quot;[Fertilise at sowing].Script.Amount = 0 to 200 step 20&quot;</span><span class="p">,</span> <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;Nitrogen&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span><span class="n">specification</span><span class="o">=</span><span class="s2">&quot;[Sow using a variable rule].Script.Population =4 to 8 step 2&quot;</span><span class="p">,</span> <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="c1"># doctest: +SKIP</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_fac">
<span class="sig-name descname"><span class="pre">add_fac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_fac" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Add a factor to the initiated experiment. This should replace add_factor. which has less abstractionn &#64;param
model_type: model_class from APSIM Models namespace &#64;param parameter: name of the parameter to fill e.g CNR
&#64;param model_name: name of the model &#64;param values: values of the parameter, could be an iterable for case of
categorical variables or a string e.g, ‘0 to 100 step 10 same as [0, 10, 20, 30, …].
&#64;param factor_name: name to identify the factor in question
&#64;return:</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.set_continuous_factor">
<span class="sig-name descname"><span class="pre">set_continuous_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.set_continuous_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Wraps around <code class="docutils literal notranslate"><span class="pre">add_factor</span></code> to add a continuous factor, just for clarity</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">factor_path</span></code>: (str): The path of the factor definition relative to its child node,</dt><dd><p>e.g., <code class="docutils literal notranslate"><span class="pre">&quot;[Fertilise</span> <span class="pre">at</span> <span class="pre">sowing].Script.Amount&quot;</span></code>.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">factor_name</span></code>: (str): The name of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">lower_bound</span></code>: (int or float): The lower bound of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>: (int or float): The upper bound of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">interval</span></code>: (int or float): The distance between the factor levels.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Returns</span></code>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">base_data</span>
<span class="n">apsim</span> <span class="o">=</span> <span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">set_continuous_factor</span><span class="p">(</span><span class="n">factor_path</span> <span class="o">=</span> <span class="s2">&quot;[Fertilise at sowing].Script.Amount&quot;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.set_categorical_factor">
<span class="sig-name descname"><span class="pre">set_categorical_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.set_categorical_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>wraps around <code class="docutils literal notranslate"><span class="pre">add_factor()</span></code> to add a continuous factor, just for clarity.</p>
<blockquote>
<div></div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">factor_path</span></code>: (str, required): path of the factor definition relative to its child node “[Fertilise at sowing].Script.Amount”</p>
<p><code class="docutils literal notranslate"><span class="pre">factor_name</span></code>: (str) name of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">categories</span></code>: (tuple, list, required): multiple values of a factor</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">returns</span></code>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">base_data</span>
<span class="n">apsim</span> <span class="o">=</span> <span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">set_continuous_factor</span><span class="p">(</span><span class="n">factor_path</span> <span class="o">=</span> <span class="s2">&quot;[Fertilise at sowing].Script.Amount&quot;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_crop_replacements">
<span class="sig-name descname"><span class="pre">add_crop_replacements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_crop:</span> <span class="pre">'str')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_crop_replacements" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a replacement folder as a child of the simulations.</p>
<p>Useful when you intend to edit cultivar <strong>parameters</strong>.</p>
<dl class="simple">
<dt><strong>Args:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">_crop</span></code> (<em>str</em>): Name of the crop to be added to the replacement folder.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Returns:</span></code></dt><dd><ul class="simple">
<li><p><em>ApsimModel</em>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Raises:</span></code></dt><dd><ul class="simple">
<li><p><em>ValueError</em>: If the specified crop is not found.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.get_model_paths">
<span class="sig-name descname"><span class="pre">get_model_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultivar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.get_model_paths" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Select out a few model types to use for building the APSIM file inspections</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.inspect_file">
<span class="sig-name descname"><span class="pre">inspect_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultivar=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">console=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspects the file by traversing the entire simulation tree, using <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a> under the hood</p>
<p>This method is important in inspecting the <code class="docutils literal notranslate"><span class="pre">whole</span> <span class="pre">file</span></code> and also getting the <code class="docutils literal notranslate"><span class="pre">scripts</span> <span class="pre">paths</span></code>.</p>
</section>
<section id="id85">
<h5>Parameters<a class="headerlink" href="#id85" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>cultivar: (bool)</dt><dd><p>To include cultivar paths.</p>
</dd>
<dt>console: (bool)</dt><dd><p>Prints to the console if True</p>
</dd>
</dl>
</section>
<section id="id86">
<h5>Examples<a class="headerlink" href="#id86" title="Link to this heading"></a></h5>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">(</span><span class="n">cultivar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p># output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>── Simulations: .Simulations
├── DataStore: .Simulations.DataStore
└── Simulation: .Simulations.Simulation
    ├── Clock: .Simulations.Simulation.Clock
    ├── Field: .Simulations.Simulation.Field
    │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing
    │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser
    │   ├── Harvest: .Simulations.Simulation.Field.Harvest
    │   ├── Maize: .Simulations.Simulation.Field.Maize
    │   ├── Report: .Simulations.Simulation.Field.Report
    │   ├── Soil: .Simulations.Simulation.Field.Soil
    │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical
    │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4
    │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3
    │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic
    │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical
    │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil
    │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea
    │   │   └── Water: .Simulations.Simulation.Field.Soil.Water
    │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule
    │   └── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter
    ├── Graph: .Simulations.Simulation.Graph
    │   └── Series: .Simulations.Simulation.Graph.Series
    ├── MicroClimate: .Simulations.Simulation.MicroClimate
    ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator
    ├── Summary: .Simulations.Simulation.Summary
    └── Weather: .Simulations.Simulation.Weather
</pre></div>
</div>
<p>Turn cultivar paths on as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">(</span><span class="n">cultivar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p># output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>└── Simulations: .Simulations
├── DataStore: .Simulations.DataStore
└── Simulation: .Simulations.Simulation
    ├── Clock: .Simulations.Simulation.Clock
    ├── Field: .Simulations.Simulation.Field
    │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing
    │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser
    │   ├── Harvest: .Simulations.Simulation.Field.Harvest
    │   ├── Maize: .Simulations.Simulation.Field.Maize
    │   │   └── CultivarFolder: .Simulations.Simulation.Field.Maize.CultivarFolder
    │   │       ├── Atrium: .Simulations.Simulation.Field.Maize.CultivarFolder.Atrium
    │   │       ├── CG4141: .Simulations.Simulation.Field.Maize.CultivarFolder.CG4141
    │   │       ├── Dekalb_XL82: .Simulations.Simulation.Field.Maize.CultivarFolder.Dekalb_XL82
    │   │       ├── GH_5009: .Simulations.Simulation.Field.Maize.CultivarFolder.GH_5009
    │   │       ├── GH_5019WX: .Simulations.Simulation.Field.Maize.CultivarFolder.GH_5019WX
    │   │       ├── Generic: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic
    │   │       │   ├── A_100: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_100
    │   │       │   ├── A_103: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_103
    │   │       │   ├── A_105: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_105
    │   │       │   ├── A_108: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_108
    │   │       │   ├── A_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_110
    │   │       │   ├── A_112: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_112
    │   │       │   ├── A_115: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_115
    │   │       │   ├── A_120: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_120
    │   │       │   ├── A_130: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_130
    │   │       │   ├── A_80: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_80
    │   │       │   ├── A_90: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_90
    │   │       │   ├── A_95: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_95
    │   │       │   ├── B_100: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_100
    │   │       │   ├── B_103: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_103
    │   │       │   ├── B_105: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_105
    │   │       │   ├── B_108: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_108
    │   │       │   ├── B_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_110
    │   │       │   ├── B_112: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_112
    │   │       │   ├── B_115: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_115
    │   │       │   ├── B_120: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_120
    │   │       │   ├── B_130: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_130
    │   │       │   ├── B_80: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_80
    │   │       │   ├── B_90: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_90
    │   │       │   ├── B_95: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_95
    │   │       │   ├── HY_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.HY_110
    │   │       │   ├── LY_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.LY_110
    │   │       │   └── P1197: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.P1197
    │   │       ├── Hycorn_40: .Simulations.Simulation.Field.Maize.CultivarFolder.Hycorn_40
    │   │       ├── Hycorn_53: .Simulations.Simulation.Field.Maize.CultivarFolder.Hycorn_53
    │   │       ├── Katumani: .Simulations.Simulation.Field.Maize.CultivarFolder.Katumani
    │   │       ├── Laila: .Simulations.Simulation.Field.Maize.CultivarFolder.Laila
    │   │       ├── Makueni: .Simulations.Simulation.Field.Maize.CultivarFolder.Makueni
    │   │       ├── Melkassa: .Simulations.Simulation.Field.Maize.CultivarFolder.Melkassa
    │   │       ├── NSCM_41: .Simulations.Simulation.Field.Maize.CultivarFolder.NSCM_41
    │   │       ├── Pioneer_3153: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_3153
    │   │       ├── Pioneer_33M54: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_33M54
    │   │       ├── Pioneer_34K77: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_34K77
    │   │       ├── Pioneer_38H20: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_38H20
    │   │       ├── Pioneer_39G12: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_39G12
    │   │       ├── Pioneer_39V43: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_39V43
    │   │       ├── malawi_local: .Simulations.Simulation.Field.Maize.CultivarFolder.malawi_local
    │   │       ├── mh12: .Simulations.Simulation.Field.Maize.CultivarFolder.mh12
    │   │       ├── mh16: .Simulations.Simulation.Field.Maize.CultivarFolder.mh16
    │   │       ├── mh17: .Simulations.Simulation.Field.Maize.CultivarFolder.mh17
    │   │       ├── mh18: .Simulations.Simulation.Field.Maize.CultivarFolder.mh18
    │   │       ├── mh19: .Simulations.Simulation.Field.Maize.CultivarFolder.mh19
    │   │       ├── r201: .Simulations.Simulation.Field.Maize.CultivarFolder.r201
    │   │       ├── r215: .Simulations.Simulation.Field.Maize.CultivarFolder.r215
    │   │       ├── sc401: .Simulations.Simulation.Field.Maize.CultivarFolder.sc401
    │   │       ├── sc501: .Simulations.Simulation.Field.Maize.CultivarFolder.sc501
    │   │       ├── sc601: .Simulations.Simulation.Field.Maize.CultivarFolder.sc601
    │   │       ├── sc623: .Simulations.Simulation.Field.Maize.CultivarFolder.sc623
    │   │       ├── sc625: .Simulations.Simulation.Field.Maize.CultivarFolder.sc625
    │   │       └── sr52: .Simulations.Simulation.Field.Maize.CultivarFolder.sr52
    │   ├── Report: .Simulations.Simulation.Field.Report
    │   ├── Soil: .Simulations.Simulation.Field.Soil
    │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical
    │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4
    │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3
    │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic
    │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical
    │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil
    │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea
    │   │   └── Water: .Simulations.Simulation.Field.Soil.Water
    │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule
    │   └── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter
    ├── Graph: .Simulations.Simulation.Graph
    │   └── Series: .Simulations.Simulation.Graph.Series
    ├── MicroClimate: .Simulations.Simulation.MicroClimate
    ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator
    ├── Summary: .Simulations.Simulation.Summary
    └── Weather: .Simulations.Simulation.Weather
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a>, <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a></p></li>
<li><p><a class="reference internal" href="model%20inspection.html#plain-inspect"><span class="std std-ref">Model inspections</span></a></p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.summarize_numeric">
<span class="sig-name descname"><span class="pre">summarize_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">tuple,</span> <span class="pre">list]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'list'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.25,</span> <span class="pre">0.5,</span> <span class="pre">0.75)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.summarize_numeric" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Summarize numeric columns in a simulated pandas DataFrame. Useful when you want to quickly look at the simulated data</p>
<p>Parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>data_table (list, tuple, str): The names of the data table attached to the simulations. defaults to all data tables.</p></li>
<li><p>specific (list) columns to summarize.</p></li>
<li><p>percentiles (tuple): Optional percentiles to include in the summary.</p></li>
<li><p>round (int): number of decimal places for rounding off.</p></li>
</ul>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>pd.DataFrame: A summary DataFrame with statistics for each numeric column.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.add_db_table">
<span class="sig-name descname"><span class="pre">add_db_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_event_names:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.add_db_table" title="Link to this definition"></a></dt>
<dd><p>Adds a new database table, which <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> calls <code class="docutils literal notranslate"><span class="pre">Report</span></code> (Models.Report) to the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> under a Simulation Zone.</p>
<p>This is different from <code class="docutils literal notranslate"><span class="pre">add_report_variable</span></code> in that it creates a new, named report
table that collects data based on a given list of _variables and events. actu</p>
<section id="id87">
<h6>Parameters:<a class="headerlink" href="#id87" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>variable_spec: (list or str)</dt><dd><p>A list of APSIM variable paths to include in the report table.
If a string is passed, it will be converted to a list.</p>
</dd>
<dt>set_event_names: (list or str, optional):</dt><dd><dl class="simple">
<dt>A list of APSIM events that trigger the recording of _variables.</dt><dd><p>Defaults to [‘[Clock].EndOfYear’] if not provided. other examples include ‘[Clock].StartOfYear’, ‘[Clock].EndOfsimulation’,
‘[crop_name].Harvesting’ etc.</p>
</dd>
</dl>
</dd>
</dl>
<p>rename: (str): The name of the report table to be added. Defaults to ‘my_table’.</p>
<dl class="simple">
<dt>simulation_name: (str,tuple, or list, Optional)</dt><dd><p>if specified, the name of the simulation will be searched and will become the parent candidate for the report table.
If it is none, all Simulations in the file will be updated with the new db_table</p>
</dd>
</dl>
<section id="id88">
<h6 aria-level="7">Raises:<a class="headerlink" href="#id88" title="Link to this heading"></a></h6>
<p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code>: If no variable_spec is provided.
<code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>: If no Zone is found in the current simulation scope.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span> <span class="s1">&#39;[Soil].Nutrient.TotalC[1]/1000 as SOC1&#39;</span><span class="p">],</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;report2&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span> <span class="s1">&#39;[Soil].Nutrient.TotalC[1]/1000 as SOC1&#39;</span><span class="p">,</span> <span class="s1">&#39;[Maize].Grain.Total.Wt*10 as Yield&#39;</span><span class="p">],</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;report2&#39;</span><span class="p">,</span> <span class="n">set_event_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Maize].Harvesting&#39;</span><span class="p">,</span><span class="s1">&#39;[Clock].EndOfYear&#39;</span> <span class="p">])</span>
</pre></div>
</div>
</section>
</section>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variables()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variables()</span></code>.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.Datastore">
<span class="sig-name descname"><span class="pre">Datastore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.Datastore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Datastore'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.End">
<span class="sig-name descname"><span class="pre">End</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.End" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'End'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.Models">
<span class="sig-name descname"><span class="pre">Models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.Models" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Models'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.Simulations">
<span class="sig-name descname"><span class="pre">Simulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.Simulations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Simulations'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.Start">
<span class="sig-name descname"><span class="pre">Start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.Start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Start'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.base_name">
<span class="sig-name descname"><span class="pre">base_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.base_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'base_name'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.copy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'copy'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.datastore">
<span class="sig-name descname"><span class="pre">datastore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.datastore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'datastore'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.experiment">
<span class="sig-name descname"><span class="pre">experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.experiment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'experiment'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.experiment_created">
<span class="sig-name descname"><span class="pre">experiment_created</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.experiment_created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'experiment_created'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.factor_names">
<span class="sig-name descname"><span class="pre">factor_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.factor_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'factor_names'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.factors">
<span class="sig-name descname"><span class="pre">factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.factors" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'factors'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.model">
<span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'model'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.model_info">
<span class="sig-name descname"><span class="pre">model_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.model_info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'model_info'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.others">
<span class="sig-name descname"><span class="pre">others</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.others" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'others'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.out">
<span class="sig-name descname"><span class="pre">out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.out" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'out'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.out_path">
<span class="sig-name descname"><span class="pre">out_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.out_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'out_path'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'path'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.permutation">
<span class="sig-name descname"><span class="pre">permutation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.permutation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'permutation'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.ran_ok">
<span class="sig-name descname"><span class="pre">ran_ok</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.ran_ok" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'ran_ok'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.report_names">
<span class="sig-name descname"><span class="pre">report_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.report_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'report_names'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.run_method">
<span class="sig-name descname"><span class="pre">run_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.run_method" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'run_method'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.set_wd">
<span class="sig-name descname"><span class="pre">set_wd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.set_wd" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'set_wd'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.wk_info">
<span class="sig-name descname"><span class="pre">wk_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.wk_info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'wk_info'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.work_space">
<span class="sig-name descname"><span class="pre">work_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.work_space" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'work_space'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.plot_mva">
<span class="sig-name descname"><span class="pre">plot_mva</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.14)"><span class="pre">collections.abc.Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Hashable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">NoneType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_linewidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_datetime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.plot_mva" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a centered moving-average (MVA) of a response using <code class="docutils literal notranslate"><span class="pre">seaborn.relplot</span></code>.</p>
<p>Enhancements over a direct <code class="docutils literal notranslate"><span class="pre">relplot</span></code> call:
- Computes and plots a smoothed series via <code class="xref py py-func docutils literal notranslate"><span class="pre">apsimNGpy.stats.data_insights.mva()</span></code>.
- Supports multi-column grouping; will auto-construct a composite hue if needed.
- Optional overlay of the raw (unsmoothed) series for comparison.
- Stable (mergesort) time ordering.</p>
</section>
<section id="id89">
<h5>Parameters<a class="headerlink" href="#id89" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>table<span class="classifier">pandas.DataFrame or str</span></dt><dd><p>Data source or table name; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use <a href="#id90"><span class="problematic" id="id91">:pyattr:`results`</span></a>.</p>
</dd>
<dt>time_col<span class="classifier">hashable</span></dt><dd><p>Time (x-axis) column.</p>
</dd>
<dt>response<span class="classifier">hashable</span></dt><dd><p>Response (y) column to smooth.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt>window<span class="classifier">int, default=5</span></dt><dd><p>MVA window size.</p>
</dd>
<dt>min_period<span class="classifier">int, default=1</span></dt><dd><p>Minimum periods for the rolling mean.</p>
</dd>
<dt>grouping<span class="classifier">hashable or sequence of hashable, optional</span></dt><dd><p>One or more grouping columns.</p>
</dd>
<dt>preserve_start<span class="classifier">bool, default=True</span></dt><dd><p>Preserve initial values when centering.</p>
</dd>
<dt>kind<span class="classifier">{“line”,”scatter”}, default=”line”</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">sns.relplot</span></code>.</p>
</dd>
<dt>estimator<span class="classifier">str or None, default=”mean”</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">sns.relplot</span></code> (set to <code class="docutils literal notranslate"><span class="pre">None</span></code> to plot raw observations).</p>
</dd>
<dt>plot_raw<span class="classifier">bool, default=False</span></dt><dd><p>Overlay the raw series on each facet.</p>
</dd>
<dt>raw_alpha<span class="classifier">float, default=0.35</span></dt><dd><p>Alpha for the raw overlay.</p>
</dd>
<dt>raw_linewidth<span class="classifier">float, default=1.0</span></dt><dd><p>Line width for the raw overlay.</p>
</dd>
<dt>auto_datetime<span class="classifier">bool, default=False</span></dt><dd><p>Attempt to convert <code class="docutils literal notranslate"><span class="pre">time_col</span></code> to datetime.</p>
</dd>
<dt>ylabel<span class="classifier">str, optional</span></dt><dd><p>Custom y-axis label; default is generated from window/response.</p>
</dd>
<dt>return_data<span class="classifier">bool, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, return <code class="docutils literal notranslate"><span class="pre">(FacetGrid,</span> <span class="pre">smoothed_df)</span></code>.</p>
</dd>
</dl>
</section>
<section id="id92">
<h5>Returns<a class="headerlink" href="#id92" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>seaborn.FacetGrid</dt><dd><p>The relplot grid, or <code class="docutils literal notranslate"><span class="pre">(grid,</span> <span class="pre">smoothed_df)</span></code> if <code class="docutils literal notranslate"><span class="pre">return_data=True</span></code>.</p>
</dd>
</dl>
</section>
<section id="id93">
<h5>Notes<a class="headerlink" href="#id93" title="Link to this heading"></a></h5>
<blockquote>
<div><p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.relplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for details:</p>
</div></blockquote>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/relplot.html">https://seaborn.pydata.org/generated/seaborn/relplot.html</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.boxplot">
<span class="sig-name descname"><span class="pre">boxplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize=(10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.boxplot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a boxplot from simulation results using <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.boxplot</span></code>.</p>
</section>
<section id="id94">
<h5>Parameters<a class="headerlink" href="#id94" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>column<span class="classifier">str</span></dt><dd><p>Column to plot.</p>
</dd>
<dt>table<span class="classifier">str or pandas.DataFrame, optional</span></dt><dd><p>Table name or DataFrame; if omitted, use <a href="#id95"><span class="problematic" id="id96">:pyattr:`results`</span></a>.</p>
</dd>
<dt>by<span class="classifier">str, optional</span></dt><dd><p>Grouping column.</p>
</dd>
</dl>
<p>figsize : tuple, default=(10, 8)
grid : bool, default=False
<a href="#id97"><span class="problematic" id="id98">**</span></a>kwargs</p>
<blockquote>
<div><p>Forwarded to <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.boxplot()</span></code>.</p>
</div></blockquote>
</section>
<section id="id99">
<h5>Returns<a class="headerlink" href="#id99" title="Link to this heading"></a></h5>
<p>matplotlib.axes.Axes</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.cat_plot" title="apsimNGpy.core.apsim.ApsimModel.cat_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat_plot()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.distribution">
<span class="sig-name descname"><span class="pre">distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.distribution" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a uni-variate distribution/histogram using <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code>.</p>
</section>
<section id="id100">
<h5>Parameters<a class="headerlink" href="#id100" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>x<span class="classifier">str</span></dt><dd><p>Numeric column to plot.</p>
</dd>
<dt>table<span class="classifier">str or pandas.DataFrame, optional</span></dt><dd><p>Table name or DataFrame; if omitted, use <a href="#id101"><span class="problematic" id="id102">:pyattr:`results`</span></a>.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt><a href="#id103"><span class="problematic" id="id104">**</span></a>kwargs</dt><dd><p>Forwarded to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code>.</p>
</dd>
</dl>
</section>
<section id="id105">
<h5>Raises<a class="headerlink" href="#id105" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> is a string-typed column.</p>
</dd>
</dl>
</section>
<section id="id106">
<h5>Notes<a class="headerlink" href="#id106" title="Link to this heading"></a></h5>
<p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for details:</p>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/histplot.html">https://seaborn.pydata.org/generated/seaborn/histplot.html</a></p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.series_plot">
<span class="sig-name descname"><span class="pre">series_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y:</span> <span class="pre">Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dashes=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator='mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorbar=('ci'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">95)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot=1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orient='x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_style='band'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_kws=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ci='deprecated'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.series_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Just a wrapper for seaborn.lineplot that supports multiple y columns that could be provided as a list</p>
<blockquote>
<div><dl>
<dt>table<span class="classifier">str | [str] <a href="#id365"><span class="problematic" id="id366">|None | None|</span></a> pandas.DataFrame, optional. Default is None</span></dt><dd><p>If the table names are provided, results are collected from the simulated data, using that table names.
If None, results will be all the table names inside concatenated along the axis 0 (not recommended).</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>expression: str default is None</dt><dd><blockquote>
<div><p>simple mathematical expression to create new columns from existing columns</p>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">y</span></code> is a list of columns, the data are melted into long form and</p>
</dd>
</dl>
<p>the different series are colored by variable name.</p>
<dl class="simple">
<dt><a href="#id107"><span class="problematic" id="id108">**</span></a>Kwargs</dt><dd><p>Additional keyword args and all other arguments are for Seaborn.lineplot.
See the reference below for all the kwargs.</p>
</dd>
</dl>
<p>reference; <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.lineplot.html">https://seaborn.pydata.org/generated/seaborn.lineplot.html</a></p>
</section>
<section id="id109">
<h5>Examples<a class="headerlink" href="#id109" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">series_plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Yield&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">series_plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SOC1&#39;</span><span class="p">,</span> <span class="s1">&#39;SOC2&#39;</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id110">
<h5>Examples:<a class="headerlink" href="#id110" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="go"># run the results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_names</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;model.series_plot(x=&#39;Maize.Grain.Size&#39;, y=&#39;Yield&#39;, table=&#39;Report&#39;)</span>
<span class="go">&gt;&gt;&gt;model.render_plot(show=True, ylabel = &#39;Maize yield&#39;, xlabel =&#39;Maize grain size&#39;)</span>
</pre></div>
</div>
<p>Plot two variables:</p>
<blockquote>
<div><p>&gt;&gt;&gt;model.series_plot(x=’Yield’, y=[‘Maize.Grain.N’, ‘Maize.Grain.Size’], table= ‘Report’)</p>
</div></blockquote>
</section>
<section id="id111">
<h5>Notes<a class="headerlink" href="#id111" title="Link to this heading"></a></h5>
<p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.lineplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for detailed explanations:</p>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/lineplot.html">https://seaborn.pydata.org/generated/seaborn/lineplot.html</a></p>
<hr class="docutils" />
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.plot_mva" title="apsimNGpy.core.apsim.ApsimModel.plot_mva"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_mva()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.scatter_plot">
<span class="sig-name descname"><span class="pre">scatter_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.scatter_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Scatter plot using <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.scatterplot()</span></code> with flexible aesthetic mappings.</p>
</section>
<section id="id112">
<h5>Parameters<a class="headerlink" href="#id112" title="Link to this heading"></a></h5>
<dl>
<dt>table<span class="classifier">str | [str] <a href="#id367"><span class="problematic" id="id368">|None | None|</span></a> pandas.DataFrame, optional. Default is None</span></dt><dd><p>If the table names are provided, results are collected from the simulated data, using that table names.
If None, results will be all the table names inside concatenated along the axis 0 (not recommended).</p>
</dd>
<dt>x, y, hue, size, style, palette, hue_order, hue_norm, sizes, size_order, size_norm, markers, style_order, legend, ax</dt><dd><p>Passed through to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.scatterplot()</span></code>.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt>** Kwargs</dt><dd><p>Additional keyword args for Seaborn.</p>
</dd>
</dl>
<p>See the reference below for all the kwargs.
reference; <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.scatterplot.html">https://seaborn.pydata.org/generated/seaborn.scatterplot.html</a></p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.cat_plot">
<span class="sig-name descname"><span class="pre">cat_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind='strip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator='mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorbar=('ci'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">95)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot=1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_wrap=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height=5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_scale=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">native_scale=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orient=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_out=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharex=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharey=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin_titles=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_kws=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.cat_plot" title="Link to this definition"></a></dt>
<dd><p>Categorical plot wrapper over <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.catplot()</span></code>.</p>
</dd></dl>

</section>
<section id="id113">
<h5>Parameters<a class="headerlink" href="#id113" title="Link to this heading"></a></h5>
<p>table : str or pandas.DataFrame, optional</p>
<dl class="simple">
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
</dl>
<p>x, y, hue, row, col, kind, estimator, errorbar, n_boot, seed, units, weights, order,
hue_order, row_order, col_order, col_wrap, height, aspect, log_scale, native_scale, formatter,
orient, color, palette, hue_norm, legend, legend_out, sharex, sharey, margin_titles, facet_kws</p>
<blockquote>
<div><p>Passed through to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.catplot()</span></code>.</p>
</div></blockquote>
<dl class="simple">
<dt><a href="#id114"><span class="problematic" id="id115">**</span></a>kwargs</dt><dd><p>Additional keyword args for Seaborn.</p>
</dd>
</dl>
</section>
<section id="id116">
<h5>Returns<a class="headerlink" href="#id116" title="Link to this heading"></a></h5>
<p>seaborn.axisgrid.FacetGrid</p>
<p>reference <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.catplot.html">https://seaborn.pydata.org/generated/seaborn.catplot.html</a></p>
<blockquote>
<div><p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.distribution" title="apsimNGpy.core.apsim.ApsimModel.distribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">distribution()</span></code></a>.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.reg_plot">
<span class="sig-name descname"><span class="pre">reg_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.reg_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Wrapper around seaborn.lmplot. V 0.39.10.19+</p>
</section>
<section id="kwargs-passed-to-seaborn-lmplot">
<h5>Kwargs passed to seaborn.lmplot<a class="headerlink" href="#kwargs-passed-to-seaborn-lmplot" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>x<span class="classifier">str or None, optional</span></dt><dd><p>Name of column in <code class="docutils literal notranslate"><span class="pre">data</span></code> to plot on the x-axis.</p>
</dd>
<dt>y<span class="classifier">str or None, optional</span></dt><dd><p>Name of column in <code class="docutils literal notranslate"><span class="pre">data</span></code> to plot on the y-axis.</p>
</dd>
<dt>hue<span class="classifier">str or None, optional</span></dt><dd><p>Grouping variable that will produce elements with different colors.</p>
</dd>
<dt>col<span class="classifier">str or None, optional</span></dt><dd><p>Variable that defines columns of the facet grid.</p>
</dd>
<dt>row<span class="classifier">str or None, optional</span></dt><dd><p>Variable that defines rows of the facet grid.</p>
</dd>
<dt>palette<span class="classifier">str, list, dict, or None, optional</span></dt><dd><p>Color palette for different <code class="docutils literal notranslate"><span class="pre">hue</span></code> levels.</p>
</dd>
<dt>col_wrap<span class="classifier">int or None, optional</span></dt><dd><p>Wrap the column facets after this many columns.</p>
</dd>
<dt>height<span class="classifier">float, default=5</span></dt><dd><p>Height (in inches) of each facet.</p>
</dd>
<dt>aspect<span class="classifier">float, default=1</span></dt><dd><p>Aspect ratio of each facet, so width = aspect * height.</p>
</dd>
<dt>markers<span class="classifier">str or list, default=’o’</span></dt><dd><p>Marker(s) used for the scatter plot points.</p>
</dd>
<dt>sharex<span class="classifier">bool or None, optional</span></dt><dd><p>If True, share x-axis limits across facets.</p>
</dd>
<dt>sharey<span class="classifier">bool or None, optional</span></dt><dd><p>If True, share y-axis limits across facets.</p>
</dd>
<dt>hue_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
</dd>
<dt>col_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">col</span></code>.</p>
</dd>
<dt>row_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">row</span></code>.</p>
</dd>
<dt>legend<span class="classifier">bool, default=True</span></dt><dd><p>If True, add a legend for the <code class="docutils literal notranslate"><span class="pre">hue</span></code> variable.</p>
</dd>
<dt>legend_out<span class="classifier">bool or None, optional</span></dt><dd><p>If True, place the legend outside the grid.</p>
</dd>
<dt>x_estimator<span class="classifier">callable or None, optional</span></dt><dd><p>Function to compute a central tendency of <code class="docutils literal notranslate"><span class="pre">y</span></code> for each unique <code class="docutils literal notranslate"><span class="pre">x</span></code>
(e.g. <code class="docutils literal notranslate"><span class="pre">np.mean</span></code>). Plot points at that value instead of raw data.</p>
</dd>
<dt>x_bins<span class="classifier">int or None, optional</span></dt><dd><p>Bin the <code class="docutils literal notranslate"><span class="pre">x</span></code> variable into discrete bins before plotting.</p>
</dd>
<dt>x_ci<span class="classifier">‘ci’, ‘sd’, float, or None, default=’ci’</span></dt><dd><p>Size/definition of the confidence band around the estimator in <code class="docutils literal notranslate"><span class="pre">x_estimator</span></code>.</p>
</dd>
<dt>scatter<span class="classifier">bool, default=True</span></dt><dd><p>If True, draw the scatter points.</p>
</dd>
<dt>fit_reg<span class="classifier">bool, default=True</span></dt><dd><p>If True, fit and plot a regression line.</p>
</dd>
<dt>ci<span class="classifier">int or None, default=95</span></dt><dd><p>Size of the bootstrap confidence interval for the regression estimate.</p>
</dd>
<dt>n_boot<span class="classifier">int, default=1000</span></dt><dd><p>Number of bootstrap samples to compute <code class="docutils literal notranslate"><span class="pre">ci</span></code>.</p>
</dd>
<dt>units<span class="classifier">str or None, optional</span></dt><dd><p>Column in <code class="docutils literal notranslate"><span class="pre">data</span></code> identifying sampling units. Used for clustered bootstrap.</p>
</dd>
<dt>seed<span class="classifier">int, RandomState, or None, optional</span></dt><dd><p>Random seed for reproducible bootstrapping.</p>
</dd>
<dt>order<span class="classifier">int, default=1</span></dt><dd><p>Polynomial order of the regression (1 = linear).</p>
</dd>
<dt>logistic<span class="classifier">bool, default=False</span></dt><dd><p>If True, fit a logistic regression.</p>
</dd>
<dt>lowess<span class="classifier">bool, default=False</span></dt><dd><p>If True, fit a locally weighted regression (LOWESS).</p>
</dd>
<dt>robust<span class="classifier">bool, default=False</span></dt><dd><p>If True, use a robust regression estimator.</p>
</dd>
<dt>logx<span class="classifier">bool, default=False</span></dt><dd><p>If True, estimate the model in log10(x) space.</p>
</dd>
<dt>x_partial<span class="classifier">str, list of str, or None, optional</span></dt><dd><p>Columns in <code class="docutils literal notranslate"><span class="pre">data</span></code> to regress out of <code class="docutils literal notranslate"><span class="pre">x</span></code> before plotting.</p>
</dd>
<dt>y_partial<span class="classifier">str, list of str, or None, optional</span></dt><dd><p>Columns in <code class="docutils literal notranslate"><span class="pre">data</span></code> to regress out of <code class="docutils literal notranslate"><span class="pre">y</span></code> before plotting.</p>
</dd>
<dt>truncate<span class="classifier">bool, default=True</span></dt><dd><p>If True, limit the regression line to the data range.</p>
</dd>
<dt>x_jitter<span class="classifier">float or None, optional</span></dt><dd><p>Amount of horizontal jitter to add to scatter points.</p>
</dd>
<dt>y_jitter<span class="classifier">float or None, optional</span></dt><dd><p>Amount of vertical jitter to add to scatter points.</p>
</dd>
<dt>scatter_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to the scatter plot (e.g. alpha, s).</p>
</dd>
<dt>line_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to the regression line plot.</p>
</dd>
<dt>facet_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to seaborn.FacetGrid.</p>
</dd>
</dl>
</section>
<section id="id117">
<h5>See Also<a class="headerlink" href="#id117" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>seaborn.lmplot<span class="classifier">High-level interface for plotting linear models with faceting.</span></dt><dd><p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.lmplot.html">https://seaborn.pydata.org/generated/seaborn.lmplot.html</a></p>
</dd>
</dl>
<p>Tutorial: <a class="reference external" href="https://seaborn.pydata.org/tutorial/regression.html#regression-tutorial">https://seaborn.pydata.org/tutorial/regression.html#regression-tutorial</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.apsim.ApsimModel.relplot">
<span class="sig-name descname"><span class="pre">relplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.apsim.ApsimModel.relplot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plots a relation plot</p>
</section>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-config">
<h2>apsimNGpy.core.config<a class="headerlink" href="#apsimngpy-core-config" title="Link to this heading"></a></h2>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.any_bin_path_from_env">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">any_bin_path_from_env</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.config.any_bin_path_from_env" title="Link to this definition"></a></dt>
<dd><p>Finalize resolving the real APSIM bin path or raise a clear error.</p>
<p>APSIM bin path expected in environment variables:keys include:</p>
<blockquote>
<div><p>APSIM_BIN_PATH / APSIM_PATH / APSIM/ Models</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.get_apsim_bin_path">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">get_apsim_bin_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.get_apsim_bin_path" title="Link to this definition"></a></dt>
<dd><p>Returns the path to the apsim bin folder from either auto-detection or from the path already supplied by the user
through the apsimNGpy config.ini file in the user home directory.</p>
<p>This function is silent does not raise any exception but return empty string in all
cases if bin_path is empty or was not found.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bin_path</span> <span class="o">=</span> <span class="n">get_apsim_bin_path</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.core.config.set_apsim_bin_path" title="apsimNGpy.core.config.set_apsim_bin_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_apsim_bin_path()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.get_bin_use_history">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">get_bin_use_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.get_bin_use_history" title="Link to this definition"></a></dt>
<dd><p>shows the bins that have been used only those still available on the computer as valid paths are shown.</p>
<p>&#64;return: list[paths]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.list_drives">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">list_drives</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.list_drives" title="Link to this definition"></a></dt>
<dd><p>for windows-only
&#64;return: list of available drives on windows pc</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.load_crop_from_disk">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">load_crop_from_disk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.load_crop_from_disk" title="Link to this definition"></a></dt>
<dd><p>Load a default APSIM crop simulation file from disk by specifying only the crop name. This fucntion can literally
load anything that resides under the /Examples directory.</p>
<p>Locates and copies an <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file associated with the specified crop from the APSIM
/Examples directory into a working directory. It is useful when programmatically running default
simulations for different crops without manually opening them in GUI.</p>
<section id="id118">
<h4>Parameters<a class="headerlink" href="#id118" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>crop: (str)</dt><dd><p>The name of the crop to load (e.g., ‘Maize’, ‘Soybean’, ‘Barley’, ‘Mungbean’, ‘Pinus’, ‘Eucalyptus’).
The name is case-insensitive and must-match an existing <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file in the APSIM Examples folder.</p>
</dd>
<dt>out: (str, optional)</dt><dd><p>A custom output path where the <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file should be copied.
If not provided, a temporary file will be created in the working directory. this is stamped with the APSIM version being used</p>
</dd>
<dt>bin_path: (str, optional):</dt><dd><p>no restriction we can laod from  another bin path</p>
</dd>
</dl>
<p>cache_path: (str, optional):</p>
<blockquote>
<div><p>keep the path in memory for the next request</p>
</div></blockquote>
<section id="id119">
<h5>Returns<a class="headerlink" href="#id119" title="Link to this heading"></a></h5>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: The path to the copied <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file ready for further manipulation or simulation.</p>
</div></blockquote>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The method catches the results, so if the file is removed from the disk, there may be issues&gt; If this case
is anticipated, turn off the cach_path to False.</p>
</div>
</section>
<section id="id120">
<h5>Raises<a class="headerlink" href="#id120" title="Link to this heading"></a></h5>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code>: If the APSIM binary path cannot be resolved or the crop simulation file does not exist.</p>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">load_crop_from_disk</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span><span class="s1">&#39;my_maize_example.apsimx&#39;</span><span class="p">)</span>
<span class="go">&#39;C:/path/to/temp_uuid_Maize.apsimx&#39;</span>
</pre></div>
</div>
</section>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.scan_drive_for_bin">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">scan_drive_for_bin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.scan_drive_for_bin" title="Link to this definition"></a></dt>
<dd><p>This function uses scan_dir_for_bin to scan all drive directories.
for Windows only</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.set_apsim_bin_path">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">set_apsim_bin_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.config.set_apsim_bin_path" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Validate and write the bin path to the config file, where it is accessed by <code class="docutils literal notranslate"><span class="pre">get_apsim_bin_path</span></code>.</p>
<dl>
<dt>path<span class="classifier">Union[str, Path]</span></dt><dd><p>The provided <code class="docutils literal notranslate"><span class="pre">path</span></code> should point to (or contain) the APSIM <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory that
includes the required binaries:</p>
<blockquote>
<div><ul class="simple">
<li><p>Windows: Models.dll AND Models.exe</p></li>
<li><p>macOS/Linux: Models.dll AND Models (unix executable)</p></li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">path</span></code> is a parent directory, the function will search recursively to locate
a matching <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory. The first match is used.</p>
</dd>
<dt>raise_errors<span class="classifier">bool, default is True</span></dt><dd><p>Whether to raise an error in case of errors. for testing purposes only</p>
</dd>
<dt>verbose: bool</dt><dd><p>whether to print messages to the console or not</p>
</dd>
</dl>
<dl class="simple">
<dt>bool</dt><dd><p>True if the configuration was updated (or already valid and set to the same
resolved path), False if validation failed and <code class="docutils literal notranslate"><span class="pre">raise_errors=False</span></code>.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>If no valid APSIM binary directory is found and <code class="docutils literal notranslate"><span class="pre">raise_errors=True</span></code>.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">config</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Check the current path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">current</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get_apsim_bin_path</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Set the desired path (either the bin folder or a parent)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="o">.</span><span class="n">set_apsim_bin_path</span><span class="p">(</span><span class="s1">&#39;/path/to/APSIM/2025/bin&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.core.config.get_apsim_bin_path" title="apsimNGpy.core.config.get_apsim_bin_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_apsim_bin_path()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.config.stamp_name_with_version">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.config.</span></span><span class="sig-name descname"><span class="pre">stamp_name_with_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.config.stamp_name_with_version" title="Link to this definition"></a></dt>
<dd><p>Stamp every file name with the version, which allows the user to associate the file name with its appropriate
version it was created.</p>
<section id="id121">
<h4>Parameters<a class="headerlink" href="#id121" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>file_name: str</dt><dd><p>path to the would be.apsimx file.</p>
</dd>
</dl>
</section>
<section id="id122">
<h4>Returns<a class="headerlink" href="#id122" title="Link to this heading"></a></h4>
<p>str path with the apsim version stamp</p>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-experimentmanager">
<h2>apsimNGpy.core.experimentmanager<a class="headerlink" href="#apsimngpy-core-experimentmanager" title="Link to this heading"></a></h2>
<section id="id123">
<h3>Classes<a class="headerlink" href="#id123" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.experimentmanager.</span></span><span class="sig-name descname"><span class="pre">ExperimentManager</span></span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>This class inherits methods and attributes from: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> to manage APSIM Experiments
with pure factors or permutations. You first need to initiate the instance of this class and then initialize the
experiment itself with: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment" title="apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_experiment()</span></code></a>, which creates a new experiment from the suggested base simulation and <code class="docutils literal notranslate"><span class="pre">permutation</span></code> type</p>
<p>The flow of method for <code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentManager</span></code> class is shown in the diagram below:</p>
<pre  class="mermaid">
        flowchart LR
    PlotManager[&quot;PlotManager&quot;]
    CoreModel[&quot;CoreModel&quot;]
    ApsimModel[&quot;ApsimModel&quot;]
    ExperimentManager[&quot;ExperimentManager&quot;]

    PlotManager --&gt; CoreModel
    CoreModel --&gt; ApsimModel
    ApsimModel --&gt; ExperimentManager
    </pre><ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotManager</span></code> → Produces visual outputs from model results (Not exposed in the API reference)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">CoreModel</span></code>  → contains methods for running and manipulating models (Not exposed in the API reference)</p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> → Extends <code class="xref py py-class docutils literal notranslate"><span class="pre">Coremodel</span></code> capabilities with more functionalities</p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager" title="apsimNGpy.core.experimentmanager.ExperimentManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExperimentManager</span></code></a> → Manages and creates a new experiment from the suggested base.</p></li>
</ul>
</div></blockquote>
<section id="id124">
<h4>List of Public Attributes:<a class="headerlink" href="#id124" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Datastore" title="apsimNGpy.core.experimentmanager.ExperimentManager.Datastore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Datastore</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.End" title="apsimNGpy.core.experimentmanager.ExperimentManager.End"><code class="xref py py-attr docutils literal notranslate"><span class="pre">End</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Models" title="apsimNGpy.core.experimentmanager.ExperimentManager.Models"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Models</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Simulations" title="apsimNGpy.core.experimentmanager.ExperimentManager.Simulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Simulations</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Start" title="apsimNGpy.core.experimentmanager.ExperimentManager.Start"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Start</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.base_name" title="apsimNGpy.core.experimentmanager.ExperimentManager.base_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">base_name</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.configs" title="apsimNGpy.core.experimentmanager.ExperimentManager.configs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configs</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.copy" title="apsimNGpy.core.experimentmanager.ExperimentManager.copy"><code class="xref py py-attr docutils literal notranslate"><span class="pre">copy</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.datastore" title="apsimNGpy.core.experimentmanager.ExperimentManager.datastore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datastore</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.experiment" title="apsimNGpy.core.experimentmanager.ExperimentManager.experiment"><code class="xref py py-attr docutils literal notranslate"><span class="pre">experiment</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.experiment_created" title="apsimNGpy.core.experimentmanager.ExperimentManager.experiment_created"><code class="xref py py-attr docutils literal notranslate"><span class="pre">experiment_created</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.factor_names" title="apsimNGpy.core.experimentmanager.ExperimentManager.factor_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">factor_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.factors" title="apsimNGpy.core.experimentmanager.ExperimentManager.factors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">factors</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.model" title="apsimNGpy.core.experimentmanager.ExperimentManager.model"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.model_info" title="apsimNGpy.core.experimentmanager.ExperimentManager.model_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">model_info</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.n_factors" title="apsimNGpy.core.experimentmanager.ExperimentManager.n_factors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_factors</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.others" title="apsimNGpy.core.experimentmanager.ExperimentManager.others"><code class="xref py py-attr docutils literal notranslate"><span class="pre">others</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.out" title="apsimNGpy.core.experimentmanager.ExperimentManager.out"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.out_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.out_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">out_path</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.path" title="apsimNGpy.core.experimentmanager.ExperimentManager.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.permutation" title="apsimNGpy.core.experimentmanager.ExperimentManager.permutation"><code class="xref py py-attr docutils literal notranslate"><span class="pre">permutation</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.ran_ok" title="apsimNGpy.core.experimentmanager.ExperimentManager.ran_ok"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ran_ok</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.report_names" title="apsimNGpy.core.experimentmanager.ExperimentManager.report_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">report_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.results" title="apsimNGpy.core.experimentmanager.ExperimentManager.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.run_method" title="apsimNGpy.core.experimentmanager.ExperimentManager.run_method"><code class="xref py py-attr docutils literal notranslate"><span class="pre">run_method</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_wd" title="apsimNGpy.core.experimentmanager.ExperimentManager.set_wd"><code class="xref py py-attr docutils literal notranslate"><span class="pre">set_wd</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.simulation_names" title="apsimNGpy.core.experimentmanager.ExperimentManager.simulation_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">simulation_names</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.simulations" title="apsimNGpy.core.experimentmanager.ExperimentManager.simulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">simulations</span></code></a></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">str_model</span></code></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.wk_info" title="apsimNGpy.core.experimentmanager.ExperimentManager.wk_info"><code class="xref py py-attr docutils literal notranslate"><span class="pre">wk_info</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.work_space" title="apsimNGpy.core.experimentmanager.ExperimentManager.work_space"><code class="xref py py-attr docutils literal notranslate"><span class="pre">work_space</span></code></a></p></li>
</ul>
<section id="id125">
<h5>List of Public Methods<a class="headerlink" href="#id125" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_crop_replacements" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_crop_replacements"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_crop_replacements()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_fac" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_fac"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_fac()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_factor" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variable()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.adjust_dul" title="apsimNGpy.core.experimentmanager.ExperimentManager.adjust_dul"><code class="xref py py-meth docutils literal notranslate"><span class="pre">adjust_dul()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.boxplot" title="apsimNGpy.core.experimentmanager.ExperimentManager.boxplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">boxplot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot" title="apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.change_report" title="apsimNGpy.core.experimentmanager.ExperimentManager.change_report"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_report()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clean_up" title="apsimNGpy.core.experimentmanager.ExperimentManager.clean_up"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean_up()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clone_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.create_experiment" title="apsimNGpy.core.experimentmanager.ExperimentManager.create_experiment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_experiment()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.detect_model_type" title="apsimNGpy.core.experimentmanager.ExperimentManager.detect_model_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">detect_model_type()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.distribution" title="apsimNGpy.core.experimentmanager.ExperimentManager.distribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">distribution()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_cultivar" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_cultivar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_cultivar()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.extract_any_soil_physical" title="apsimNGpy.core.experimentmanager.ExperimentManager.extract_any_soil_physical"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_any_soil_physical()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.extract_soil_physical" title="apsimNGpy.core.experimentmanager.ExperimentManager.extract_soil_physical"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_soil_physical()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.finalize" title="apsimNGpy.core.experimentmanager.ExperimentManager.finalize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">finalize()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.find_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.find_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_crop_replacement" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_crop_replacement"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_crop_replacement()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_model_paths" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_model_paths"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_model_paths()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_soil_from_web" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_soil_from_web"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_soil_from_web()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_file" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weather_from_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_web" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_web"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_weather_from_web()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment" title="apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init_experiment()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.move_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva" title="apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_mva()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.preview_simulation" title="apsimNGpy.core.experimentmanager.ExperimentManager.preview_simulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">preview_simulation()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.read_apsimx_data" title="apsimNGpy.core.experimentmanager.ExperimentManager.read_apsimx_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_apsimx_data()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.recompile_edited_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.recompile_edited_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recompile_edited_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.refresh_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.refresh_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">refresh_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.reg_plot" title="apsimNGpy.core.experimentmanager.ExperimentManager.reg_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reg_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.relplot" title="apsimNGpy.core.experimentmanager.ExperimentManager.relplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">relplot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.remove_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.remove_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable" title="apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variable()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.rename_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.rename_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_downloaded_soils" title="apsimNGpy.core.experimentmanager.ExperimentManager.replace_downloaded_soils"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_downloaded_soils()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_met_file" title="apsimNGpy.core.experimentmanager.ExperimentManager.replace_met_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_met_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_model_from" title="apsimNGpy.core.experimentmanager.ExperimentManager.replace_model_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_model_from()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_soil_property_values" title="apsimNGpy.core.experimentmanager.ExperimentManager.replace_soil_property_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_soil_property_values()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_soils_values_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.replace_soils_values_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replace_soils_values_by_path()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replicate_file" title="apsimNGpy.core.experimentmanager.ExperimentManager.replicate_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">replicate_file()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.restart_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.run" title="apsimNGpy.core.experimentmanager.ExperimentManager.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.save" title="apsimNGpy.core.experimentmanager.ExperimentManager.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.scatter_plot" title="apsimNGpy.core.experimentmanager.ExperimentManager.scatter_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scatter_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.series_plot" title="apsimNGpy.core.experimentmanager.ExperimentManager.series_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">series_plot()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_categorical_factor" title="apsimNGpy.core.experimentmanager.ExperimentManager.set_categorical_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_categorical_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_continuous_factor" title="apsimNGpy.core.experimentmanager.ExperimentManager.set_continuous_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_continuous_factor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.show_met_file_in_simulation" title="apsimNGpy.core.experimentmanager.ExperimentManager.show_met_file_in_simulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_met_file_in_simulation()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.spin_up" title="apsimNGpy.core.experimentmanager.ExperimentManager.spin_up"><code class="xref py py-meth docutils literal notranslate"><span class="pre">spin_up()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.summarize_numeric" title="apsimNGpy.core.experimentmanager.ExperimentManager.summarize_numeric"><code class="xref py py-meth docutils literal notranslate"><span class="pre">summarize_numeric()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_cultivar" title="apsimNGpy.core.experimentmanager.ExperimentManager.update_cultivar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_cultivar()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt" title="apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_mgt()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_mgt_by_path()</span></code></a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment">
<span class="sig-name descname"><span class="pre">init_experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permutation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_simulation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.init_experiment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initializes the factorial experiment structure inside the APSIM file.</p>
</section>
</section>
<section id="id126">
<h4>Parameters<a class="headerlink" href="#id126" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>permutation: (bool)</dt><dd><p>If True, enables permutation mode; otherwise, uses standard factor crossing.</p>
</dd>
<dt>base_simulation: (str)</dt><dd><p>The base simulation name to use for the experiment. If None, the base simulation is selected
from the available simulations</p>
</dd>
</dl>
</section>
<section id="id127">
<h4>Side Effects:<a class="headerlink" href="#id127" title="Link to this heading"></a></h4>
<blockquote>
<div><ul class="simple">
<li><p>Replaces any existing ExperimentManager node with a new configuration.</p></li>
<li><p>Clones the base simulation and adds it under the experiment.</p></li>
<li><p>Never mind, though all this edits are made on a cloned model.</p></li>
<li><p>In the presence of replacements, they are moved or retained directly at the simulations node</p></li>
</ul>
</div></blockquote>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.experimentmanager</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExperimentManager</span>
<span class="c1"># initialize the model</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="n">ExperimentManager</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span> <span class="o">=</span> <span class="s1">&#39;my_experiment.apsimx&#39;</span><span class="p">)</span>
<span class="c1"># initialize experiment without permutation crossing of the factors</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">init_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># initialize experiment with permutation =True</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">init_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># initialize experiment with a preferred base simulation name</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">init_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">base_simulation</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">)</span>
<span class="c1"># view the simulation tree</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">()</span>
</pre></div>
</div>
<p>The method <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a> is inherited from the
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> class , but it is still useful here, for example, you can see
that we added an experiment Model under Simulations as shown below.</p>
<div class="highlight-None notranslate"><div class="highlight"><pre><span></span>└── Simulations: .Simulations
 ├── DataStore: .Simulations.DataStore
 └── Experiment: .Simulations.Experiment
     ├── Factors: .Simulations.Experiment.Factors
     └── Simulation: .Simulations.Experiment.Simulation
         ├── Clock: .Simulations.Experiment.Simulation.Clock
         ├── Field: .Simulations.Experiment.Simulation.Field
         │   ├── Fertilise at sowing: .Simulations.Experiment.Simulation.Field.Fertilise at sowing
         │   ├── Fertiliser: .Simulations.Experiment.Simulation.Field.Fertiliser
         │   ├── Harvest: .Simulations.Experiment.Simulation.Field.Harvest
         │   ├── Maize: .Simulations.Experiment.Simulation.Field.Maize
         │   ├── Report: .Simulations.Experiment.Simulation.Field.Report
         │   ├── Soil: .Simulations.Experiment.Simulation.Field.Soil
         │   │   ├── Chemical: .Simulations.Experiment.Simulation.Field.Soil.Chemical
         │   │   ├── NH4: .Simulations.Experiment.Simulation.Field.Soil.NH4
         │   │   ├── NO3: .Simulations.Experiment.Simulation.Field.Soil.NO3
         │   │   ├── Organic: .Simulations.Experiment.Simulation.Field.Soil.Organic
         │   │   ├── Physical: .Simulations.Experiment.Simulation.Field.Soil.Physical
         │   │   │   └── MaizeSoil: .Simulations.Experiment.Simulation.Field.Soil.Physical.MaizeSoil
         │   │   ├── Urea: .Simulations.Experiment.Simulation.Field.Soil.Urea
         │   │   └── Water: .Simulations.Experiment.Simulation.Field.Soil.Water
         │   ├── Sow using a variable rule: .Simulations.Experiment.Simulation.Field.Sow using a variable rule
         │   └── SurfaceOrganicMatter: .Simulations.Experiment.Simulation.Field.SurfaceOrganicMatter
         ├── Graph: .Simulations.Experiment.Simulation.Graph
         │   └── Series: .Simulations.Experiment.Simulation.Graph.Series
         ├── MicroClimate: .Simulations.Experiment.Simulation.MicroClimate
         ├── SoilArbitrator: .Simulations.Experiment.Simulation.SoilArbitrator
         ├── Summary: .Simulations.Experiment.Simulation.Summary
         └── Weather: .Simulations.Experiment.Simulation.Weather
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_factor" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_factor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_factor()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_factor">
<span class="sig-name descname"><span class="pre">add_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specification</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Add a new factor to the experiment from an APSIM-style script specification.</p>
<section id="id128">
<h5>Parameters<a class="headerlink" href="#id128" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>specification<span class="classifier">str</span></dt><dd><p>An APSIM script-like expression that defines the parameter variation,
e.g. <code class="docutils literal notranslate"><span class="pre">&quot;[Organic].Carbon[1]</span> <span class="pre">=</span> <span class="pre">1.2,</span> <span class="pre">1.8&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;[Sow</span> <span class="pre">using</span> <span class="pre">a</span> <span class="pre">variable</span> <span class="pre">rule].Script.Population</span> <span class="pre">=</span> <span class="pre">6,</span> <span class="pre">10&quot;</span></code>.</p>
</dd>
<dt>factor_name<span class="classifier">str, optional</span></dt><dd><p>A unique name for the factor. If not provided, a name is auto-generated
from the target variable in <code class="docutils literal notranslate"><span class="pre">specification</span></code> (typically the last token).</p>
</dd>
<dt><a href="#id129"><span class="problematic" id="id130">**</span></a>kwargs</dt><dd><p>Optional metadata or configuration (currently unused).</p>
</dd>
</dl>
</section>
<section id="id131">
<h5>Raises<a class="headerlink" href="#id131" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If a script-based specification references a non-existent or unlinked
manager script.</p>
</dd>
</dl>
</section>
<section id="id132">
<h5>Side Effects<a class="headerlink" href="#id132" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Inserts the factor into the appropriate parent node (<code class="docutils literal notranslate"><span class="pre">Permutation</span></code> or <code class="docutils literal notranslate"><span class="pre">Factors</span></code>).</p></li>
<li><p>If a factor at the same index already exists, it is safely deleted before inserting
the new one.</p></li>
</ul>
</section>
<section id="id133">
<h5>Notes<a class="headerlink" href="#id133" title="Link to this heading"></a></h5>
<p>All methods from <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> remain available on this
class. You can still inspect, run, and visualize results.</p>
</section>
<section id="id134">
<h5>Examples<a class="headerlink" href="#id134" title="Link to this heading"></a></h5>
<p>Initialize an experiment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.experimentmanager</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExperimentManager</span>

<span class="c1"># initialize the model</span>
<span class="n">experiment</span> <span class="o">=</span> <span class="n">ExperimentManager</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;my_experiment.apsimx&#39;</span><span class="p">)</span>

<span class="c1"># initialize experiment with permutation crossing of factors</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">init_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Inspect model components:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Manager&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;.Simulations.Experiment.Simulation.Field.Sow using a variable rule&#39;,
 &#39;.Simulations.Experiment.Simulation.Field.Fertilise at sowing&#39;,
 &#39;.Simulations.Experiment.Simulation.Field.Harvest&#39;]
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Factorial.Experiment&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;.Simulations.Experiment&#39;]
</pre></div>
</div>
<section id="add-a-factor-associated-with-a-manager-script">
<h6>1) Add a factor associated with a manager script<a class="headerlink" href="#add-a-factor-associated-with-a-manager-script" title="Link to this heading"></a></h6>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Sow using a variable rule].Script.Population = 6, 10&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="add-a-factor-associated-with-a-soil-node-e-g-initial-soil-organic-carbon">
<h6>2) Add a factor associated with a soil node (e.g., initial soil organic carbon)<a class="headerlink" href="#add-a-factor-associated-with-a-soil-node-e-g-initial-soil-organic-carbon" title="Link to this heading"></a></h6>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Check how many factors have been added:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">n_factors</span>
<span class="c1"># 2</span>
</pre></div>
</div>
<p>Inspect factors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Factorial.Factor&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;.Simulations.Experiment.Factors.Permutation.Nitrogen&#39;,
 &#39;.Simulations.Experiment.Factors.Permutation.initial_carbon&#39;]
</pre></div>
</div>
<p>Get factor names only:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Factorial.Factor&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;Nitrogen&#39;, &#39;initial_carbon&#39;]
</pre></div>
</div>
<p>Run the model and summarize results:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">experiment</span><span class="o">.</span><span class="n">results</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Population&#39;</span><span class="p">,</span> <span class="s1">&#39;initial_carbon&#39;</span><span class="p">])[</span><span class="s1">&#39;Yield&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>            Population  initial_carbon
10          1.2         6287.538183
            1.8         6225.861601
6           1.2         5636.529504
            1.8         5608.971306
Name: Yield, dtype: float64
</pre></div>
</div>
<p>Save the experiment (same as <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.save" title="apsimNGpy.core.apsim.ApsimModel.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>.</p>
</section>
</section>
<section id="common-pitfalls">
<h5>Common Pitfalls<a class="headerlink" href="#common-pitfalls" title="Link to this heading"></a></h5>
<section id="adding-the-same-specification-with-only-a-different-factor-name">
<h6>1) Adding the same specification with only a different <code class="docutils literal notranslate"><span class="pre">factor_name</span></code><a class="headerlink" href="#adding-the-same-specification-with-only-a-different-factor-name" title="Link to this heading"></a></h6>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>By default, specifications are evaluated on their arguments, so the example above
creates two identical factors—usually not desired.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">experiment</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Factorial.Factor&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;.Simulations.Experiment.Factors.Permutation.initial_carbon&#39;,
 &#39;.Simulations.Experiment.Factors.Permutation.carbon&#39;]
</pre></div>
</div>
</section>
<section id="invalid-specification-path-to-target-parameters">
<h6>2) Invalid specification path to target parameters<a class="headerlink" href="#invalid-specification-path-to-target-parameters" title="Link to this heading"></a></h6>
<p>Common causes include referencing models not present in the script, adding quotes
around numeric levels, or inserting stray spaces in paths.</p>
<p>Invalid (extra quotes):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = &quot;1.2, 1.8&quot;&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Correct:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Invalid (extra space in path):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic]. Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Correct:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">experiment</span><span class="o">.</span><span class="n">add_factor</span><span class="p">(</span>
    <span class="n">specification</span><span class="o">=</span><span class="s1">&#39;[Organic].Carbon[1] = 1.2, 1.8&#39;</span><span class="p">,</span>
    <span class="n">factor_name</span><span class="o">=</span><span class="s1">&#39;initial_carbon&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.n_factors">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_factors</span></span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.n_factors" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="simple">
<dt>Returns:</dt><dd><p>int: The total number of active factor specifications currently added to the experiment.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.finalize" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>”
Finalizes the experiment setup by re-creating the internal APSIM factor nodes from specs.</p>
<p>This method is designed as a guard against unintended modifications and ensures that all
factor definitions are fully resolved and written before saving.</p>
<dl class="simple">
<dt>Side Effects:</dt><dd><p>Clears existing children from the parent factor node.
Re-creates and attaches each factor as a new node.
Triggers model saving.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_soil_from_web">
<span class="sig-name descname"><span class="pre">get_soil_from_web</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name:</span> <span class="pre">Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlat:</span> <span class="pre">Optional[System.Tuple[Double</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Double]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soil_series:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_sequence:</span> <span class="pre">Optional[Sequence[float]]</span> <span class="pre">=</span> <span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_value:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth:</span> <span class="pre">Optional[int]</span> <span class="pre">=</span> <span class="pre">2400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_layers:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thinnest_layer:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thickness_growth_rate:</span> <span class="pre">float</span> <span class="pre">=</span> <span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edit_sections:</span> <span class="pre">Optional[Sequence[str]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_missing_sections:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_plants:</span> <span class="pre">tuple</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adjust_dul:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_soil_from_web" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Download SSURGO-derived soil for a given location and populate the APSIM NG
soil sections in the current model.</p>
<p>This method updates the target Simulation(s) in-place by attaching a Soil node
(if missing) and writing section properties from the downloaded profile.</p>
</section>
</section>
<section id="id135">
<h5>Parameters<a class="headerlink" href="#id135" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>simulation<span class="classifier">str | sequence[str] | None, default None</span></dt><dd><p>Target simulation name(s). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all simulations are updated.</p>
</dd>
<dt>lonlat<span class="classifier">tuple[float, float] | None</span></dt><dd><p>Location for SSURGO download, as <code class="docutils literal notranslate"><span class="pre">(lon,</span> <span class="pre">lat)</span></code> in decimal degrees
(e.g., <code class="docutils literal notranslate"><span class="pre">(-93.045,</span> <span class="pre">42.012)</span></code>).</p>
</dd>
<dt>soil_series<span class="classifier">str | None, optional</span></dt><dd><p>Optional component/series filter. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the dominant series
by area is used. If a non-existent series is supplied, an error is raised.</p>
</dd>
<dt>thickness_sequence<span class="classifier">sequence[float] | str | None, default “auto”</span></dt><dd><p>Explicit layer thicknesses (mm). If <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code>, thicknesses are generated
from the layer controls (e.g., number of layers, growth rate, thinnest layer,
and <code class="docutils literal notranslate"><span class="pre">max_depth</span></code>). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, you must provide <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> and
<code class="docutils literal notranslate"><span class="pre">max_depth</span></code> to construct a uniform sequence.</p>
</dd>
<dt>thickness_value<span class="classifier">int | None, optional</span></dt><dd><p>Uniform thickness (mm) for all layers. Ignored if <code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is
provided; used only when <code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>max_depth<span class="classifier">int, default 2400</span></dt><dd><p>Maximum soil depth (mm) to cover with the thickness sequence.</p>
</dd>
<dt>edit_sections<span class="classifier">sequence[str], optional</span></dt><dd><p>Sections to edit. Default:
<code class="docutils literal notranslate"><span class="pre">(&quot;physical&quot;,</span> <span class="pre">&quot;organic&quot;,</span> <span class="pre">&quot;chemical&quot;,</span> <span class="pre">&quot;water&quot;,</span> <span class="pre">&quot;water_balance&quot;,</span> <span class="pre">&quot;solutes&quot;,</span> <span class="pre">&quot;soil_crop&quot;,</span> <span class="pre">&quot;meta_info&quot;)</span></code>.
Note: if sections are edited with differing layer counts, APSIM may error at run time.</p>
</dd>
<dt>attach_missing_sections<span class="classifier">bool, default True</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, create and attach missing section nodes before editing.</p>
</dd>
<dt>additional_plants<span class="classifier">sequence[str] | None, optional</span></dt><dd><p>Plant names for which to create/populate <code class="docutils literal notranslate"><span class="pre">SoilCrop</span></code> entries (e.g., to set KL/XF).</p>
</dd>
<dt>adjust_dul<span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, adjust layer values where <code class="docutils literal notranslate"><span class="pre">SAT</span></code> exceeds <code class="docutils literal notranslate"><span class="pre">DUL</span></code> to prevent APSIM runtime errors.</p>
</dd>
</dl>
</section>
<section id="id136">
<h5>Returns<a class="headerlink" href="#id136" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self</dt><dd><p>The same instance, to allow method chaining.</p>
</dd>
</dl>
</section>
<section id="id137">
<h5>Raises<a class="headerlink" href="#id137" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> provided with any non-positive value(s).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">thickness_sequence</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> <strong>and</strong> <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>Units mismatch or inconsistency between <code class="docutils literal notranslate"><span class="pre">thickness_value</span></code> and <code class="docutils literal notranslate"><span class="pre">max_depth</span></code>.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="id138">
<h5>Notes<a class="headerlink" href="#id138" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Assumes soil sections live under a <strong>Soil</strong> node; when
<code class="docutils literal notranslate"><span class="pre">attach_missing_sections=True</span></code> a Soil node is created if missing.</p></li>
<li><p>Uses the optimized SoilManager routines (vectorized assignments / .NET double[] marshaling).</p></li>
<li><dl class="simple">
<dt>Side effects (in place on the APSIM model):</dt><dd><ol class="arabic simple">
<li><p>Creates/attaches <strong>Soil</strong> when needed.</p></li>
<li><p>Creates/updates child sections (<code class="docutils literal notranslate"><span class="pre">Physical</span></code>, <code class="docutils literal notranslate"><span class="pre">Organic</span></code>, <code class="docutils literal notranslate"><span class="pre">Chemical</span></code>,
<code class="docutils literal notranslate"><span class="pre">Water</span></code>, <code class="docutils literal notranslate"><span class="pre">WaterBalance</span></code>, <code class="docutils literal notranslate"><span class="pre">SoilCrop</span></code>) as listed in <code class="docutils literal notranslate"><span class="pre">edit_sections</span></code>.</p></li>
<li><p>Overwrites section properties (e.g., layer arrays such as <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">BD</span></code>,
<code class="docutils literal notranslate"><span class="pre">LL15</span></code>, <code class="docutils literal notranslate"><span class="pre">DUL</span></code>, <code class="docutils literal notranslate"><span class="pre">SAT</span></code>; solutes; crop KL/XF) with downloaded values.</p></li>
<li><p>Add <strong>SoilCrop</strong> children for any names in <code class="docutils literal notranslate"><span class="pre">additional_plants</span></code>.</p></li>
<li><p>Performs <strong>network I/O</strong> to retrieve SSURGO tables when <code class="docutils literal notranslate"><span class="pre">lonlat</span></code> is provided.</p></li>
<li><p>Emits log messages (warnings/info) when attaching nodes, resolving thickness controls,
or skipping missing columns.</p></li>
<li><p>Caches the computed soil profile in the helper during execution; the in-memory APSIM
tree remains modified after return.</p></li>
<li><p>Does <strong>not</strong> write files; call <code class="docutils literal notranslate"><span class="pre">save()</span></code> on the model if you want to persist changes.</p></li>
<li><p>The existing soil-profile structure is completed override by the newly generated soil profile.
So, variables like soil thickness, number of soil layers, etc. might be different from the old one.</p></li>
</ol>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.adjust_dul">
<span class="sig-name descname"><span class="pre">adjust_dul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">Union[tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.adjust_dul" title="Link to this definition"></a></dt>
<dd></dd></dl>

<ul class="simple">
<li><p>This method checks whether the soil <code class="docutils literal notranslate"><span class="pre">SAT</span></code> is above or below <code class="docutils literal notranslate"><span class="pre">DUL</span></code> and decreases <code class="docutils literal notranslate"><span class="pre">DUL</span></code>  values accordingly</p></li>
<li><p>Need to call this method everytime <code class="docutils literal notranslate"><span class="pre">SAT</span></code> is changed, or <code class="docutils literal notranslate"><span class="pre">DUL</span></code> is changed accordingly.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">simulations</span></code>: str, name of the simulation where we want to adjust DUL and SAT according.</p>
<p><code class="docutils literal notranslate"><span class="pre">returns</span></code>:</p>
<blockquote>
<div><p>model the object for method chaining</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replace_downloaded_soils">
<span class="sig-name descname"><span class="pre">replace_downloaded_soils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">self,</span> <span class="pre">soil_tables:</span> <span class="pre">Union[dict,</span> <span class="pre">list],</span> <span class="pre">simulation_names:</span> <span class="pre">Union[tuple,</span> <span class="pre">list],</span> <span class="pre">**kwargs)</span> <span class="pre">(inherited</span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_downloaded_soils" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl>
<dt>&#64;deprecated and will be removed in the future versions</dt><dd><p>Updates soil parameters and configurations for downloaded soil data in simulation models.</p>
<p>This method adjusts soil physical and organic parameters based on provided soil tables and applies these
adjustments to specified simulation models.</p>
<p>Parameters:
<code class="docutils literal notranslate"><span class="pre">soil_tables</span></code> (list): A list containing soil data tables. Expected to contain: see the naming
convention in the for APSIM - [0]: DataFrame with physical soil parameters. - [1]: DataFrame with organic
soil parameters. - [2]: DataFrame with crop-specific soil parameters. - simulation_names (list of str): Names or identifiers for the simulations to
be updated.s</p>
<p>Returns:
- self: Returns an instance of the class for <code class="docutils literal notranslate"><span class="pre">chaining</span></code> methods.</p>
<p>This method directly modifies the simulation instances found by <code class="docutils literal notranslate"><span class="pre">find_simulations</span></code> method calls,
updating physical and organic soil properties, as well as crop-specific parameters like lower limit (<code class="docutils literal notranslate"><span class="pre">LL</span></code>),
drain upper limit (<code class="docutils literal notranslate"><span class="pre">DUL</span></code>), saturation (<code class="docutils literal notranslate"><span class="pre">SAT</span></code>), bulk density (<code class="docutils literal notranslate"><span class="pre">BD</span></code>), hydraulic conductivity at saturation (<code class="docutils literal notranslate"><span class="pre">KS</span></code>),
and more based on the provided soil tables.</p>
</dd>
</dl>
<p>-&gt;&gt; key-word argument</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">set_sw_con</span></code>: Boolean, set the drainage coefficient for each layer
<code class="docutils literal notranslate"><span class="pre">adJust_kl</span></code>:: Bollean, adjust, kl based on productivity index
<code class="docutils literal notranslate"><span class="pre">CultvarName</span></code>: cultivar name which is in the sowing module for adjusting the rue
<code class="docutils literal notranslate"><span class="pre">tillage</span></code>: specify whether you will be carried to adjust some physical parameters</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.spin_up">
<span class="sig-name descname"><span class="pre">spin_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'Report'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin_var='Carbon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.spin_up" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Perform a spin-up operation on the aPSim model.</p>
<p>This method is used to simulate a spin-up operation in an aPSim model. During a spin-up, various soil properties or
_variables may be adjusted based on the simulation results.</p>
</section>
<section id="id139">
<h5>Parameters:<a class="headerlink" href="#id139" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>report_name: str, optional (default: ‘Report’)</dt><dd><p>The name of the aPSim report to be used for simulation results.</p>
</dd>
<dt>start: str, optional</dt><dd><p>The start date for the simulation (e.g., ‘01-01-2023’). If provided, it will change the simulation start date.</p>
</dd>
<dt>end: str, optional</dt><dd><p>The end date for the simulation (e.g., ‘3-12-2023’). If provided, it will change the simulation end date.</p>
</dd>
<dt>spin_var: str, optional (default: ‘Carbon’). the difference between the start and end date will determine the spin-up period</dt><dd><p>The variable representing the child of spin-up operation. Supported values are ‘Carbon’ or ‘DUL’.</p>
</dd>
</dl>
</section>
<section id="id140">
<h5>Returns:<a class="headerlink" href="#id140" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self<span class="classifier">ApsimModel</span></dt><dd><p>The modified <code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> object after the spin-up operation.
you could call <code class="docutils literal notranslate"><span class="pre">save_edited</span></code> file and save it to your specified location, but you can also proceed with the simulation</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.read_apsimx_data">
<span class="sig-name descname"><span class="pre">read_apsimx_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.read_apsimx_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Read APSIM NG datastore for the current model. Raises FileNotFoundError if the model was initialized from
default models because those need to be executed first to generate a database.</p>
<p>The rationale for this method is that you can just access the results from the previous session without
running it if the database is in the same location as the apsimx file.</p>
<p>Since apsimNGpy clones the apsimx file, the original file is kept with attribute name <code class="docutils literal notranslate"><span class="pre">_model</span></code>, that is what is
being used to access the dataset</p>
<p>table: (str) name of the database table to read if none of all tables are returned</p>
<blockquote>
<div><p>Returns: pandas.DataFrame</p>
<blockquote>
<div><p>KeyError: if table is not found in the database</p>
</div></blockquote>
</div></blockquote>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.simulations">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.simulations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Retrieve simulation nodes in the APSIMx <code class="docutils literal notranslate"><span class="pre">Model.Core.Simulations</span></code> object.</p>
<p>We search all-Models.Core.Simulation in the scope of Model.Core.Simulations. Please note the difference
Simulations is the whole json object Simulation is the child with the field zones, crops, soils and managers.</p>
<p>Any structure of apsimx file can be handled.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The simulations are c# referenced objects, and their manipulation maybe for advanced users only.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.simulation_names">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simulation_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.simulation_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated will be removed in future releases. Please use inspect_model function instead.</p>
<p>retrieves the name of the simulations in the APSIMx file
&#64;return: list of simulation names</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.restart_model">
<span class="sig-name descname"><span class="pre">restart_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_info=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.restart_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id141">
<h5>Parameters:<a class="headerlink" href="#id141" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_info: collections.NamedTuple.</dt><dd><p>A named tuple object returned by <code class="docutils literal notranslate"><span class="pre">load_apsim_model</span></code> from the <code class="docutils literal notranslate"><span class="pre">model_loader</span></code> module.</p>
</dd>
</dl>
<p>Notes:
- This parameter is crucial whenever we need to <code class="docutils literal notranslate"><span class="pre">reinitialize</span></code> the model, especially after updating management practices or editing the file.
- In some cases, this method is executed automatically.
- If <code class="docutils literal notranslate"><span class="pre">model_info</span></code> is not specified, the simulation will be reinitialized from <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p>
<p>This function is called by <code class="docutils literal notranslate"><span class="pre">save_edited_file</span></code>, <code class="docutils literal notranslate"><span class="pre">save'</span> <span class="pre">and</span> <span class="pre">``update_mgt`</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">None]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload=True)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.save" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Saves the current APSIM NG model (<code class="docutils literal notranslate"><span class="pre">Simulations</span></code>) to disk and refresh runtime state.</p>
<p>This method writes the model to a file, using a version-aware strategy:</p>
<p>After writing, the model is recompiled via <code class="xref py py-func docutils literal notranslate"><span class="pre">recompile(self)()</span></code> and the
in-memory instance is refreshed using <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.restart_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a>, ensuring the
object graph reflects the just-saved state. This is now only impozed if the user specified <code class="docutils literal notranslate"><span class="pre">relaod</span> <span class="pre">=</span> <span class="pre">True</span></code>.</p>
</section>
<section id="id142">
<h5>Parameters<a class="headerlink" href="#id142" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>file_name<span class="classifier">str or pathlib.Path, optional</span></dt><dd><p>Output path for the saved model file. If omitted (<code class="docutils literal notranslate"><span class="pre">None</span></code>), the method
uses the instance’s existing <code class="docutils literal notranslate"><span class="pre">path</span></code>. The resolved path is also
written back to instance <code class="docutils literal notranslate"><span class="pre">path</span></code> attribute for consistency if reload is True.</p>
</dd>
<dt>reload: bool Optional default is True</dt><dd><p>resets the reference path to the one provided after serializing to disk. This implies that the instance <code class="docutils literal notranslate"><span class="pre">path</span></code> will be the provided <code class="docutils literal notranslate"><span class="pre">file_name</span></code></p>
</dd>
</dl>
</section>
<section id="id143">
<h5>Returns<a class="headerlink" href="#id143" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>Self</dt><dd><p>The same model/manager instance to support method chaining.</p>
</dd>
</dl>
</section>
<section id="id144">
<h5>Raises<a class="headerlink" href="#id144" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>OSError</dt><dd><p>If the file cannot be written due to I/O errors, permissions, or invalid path.</p>
</dd>
<dt>AttributeError</dt><dd><p>If required attributes (e.g., <code class="docutils literal notranslate"><span class="pre">self.Simulations</span></code>) or methods are missing.</p>
</dd>
<dt>Exception</dt><dd><p>Any exception propagated by <code class="xref py py-func docutils literal notranslate"><span class="pre">save_model_to_file()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">recompile()</span></code>,
or <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.restart_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.restart_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">restart_model()</span></code></a>.</p>
</dd>
</dl>
</section>
<section id="id145">
<h5>Side Effects<a class="headerlink" href="#id145" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Sets <code class="docutils literal notranslate"><span class="pre">self.path</span></code> to the resolved output path (string).</p></li>
<li><p>Writes the model file to disk (overwrites if it exists).</p></li>
<li><p>If reload is True (default), recompiles the model and restarts the in-memory instance.</p></li>
</ul>
</section>
<section id="id146">
<h5>Notes<a class="headerlink" href="#id146" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><em>Path normalization:</em> The path is stringified via <code class="docutils literal notranslate"><span class="pre">str(file_name)</span></code> just in case it is a pathlib object.</p></li>
<li><p><em>Reload semantics:</em> Post-save recompilation and restart ensure any code
generation or cached reflection is refreshed to match the serialized model.</p></li>
</ul>
</section>
<section id="id147">
<h5>Examples<a class="headerlink" href="#id147" title="Link to this heading"></a></h5>
<dl>
<dt>check the current path before saving the model</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">scratch\saved_maize.apsimx</span>
</pre></div>
</div>
</dd>
<dt>Save to a new path and continue working with the refreshed instance</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;out_maize.apsimx&#39;</span><span class="p">,</span> <span class="n">reload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># check the path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;out_maize.apsimx&#39;</span>
<span class="go"># possible to run again the refreshed model.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</dd>
<dt>Save to a new path without refreshing the instance path</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span>  <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">file_name</span><span class="o">=</span><span class="s1">&#39;out_maize.apsimx&#39;</span><span class="p">,</span> <span class="n">reload</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go"># check the current reference path for the model.</span>
<span class="go"> &gt;&gt;&gt; model.path &#39;scratch\saved_maize.apsimx&#39;</span>
<span class="go"> # When reload is False, the original referenced path remains as shown above</span>
</pre></div>
</div>
</dd>
</dl>
<p>As shown above, everything is saved in the scratch folder; if
the path is not abolutely provided, e.g., a relative path. If the path is not provided as shown below,
the reference path is the current path for the isntance model.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span>  <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;saved_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;scratch\saved_maize.apsimx&#39;</span>
<span class="go"># save the model without providing the path.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">()</span><span class="c1"># uses the default, in this case the defaul path is the existing path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;scratch\saved_maize.apsimx&#39;</span>
</pre></div>
</div>
<p>In the above case, both reload = <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">True</span></code>, will produce the same reference path for the live
instance class.</p>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.results">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.results" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Legacy method for retrieving simulation results.</p>
<p>This method is implemented as a <code class="docutils literal notranslate"><span class="pre">property</span></code> to enable lazy loading—results are
only loaded into memory when explicitly accessed. This design helps optimize
<code class="docutils literal notranslate"><span class="pre">memory</span></code> usage, especially for <code class="docutils literal notranslate"><span class="pre">large</span></code> simulations.</p>
<p>It must be called only after invoking <code class="docutils literal notranslate"><span class="pre">run()</span></code>. If accessed before the simulation
is run, it will raise an error.</p>
</section>
<section id="id148">
<h5>Notes<a class="headerlink" href="#id148" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">run()</span></code> method should be called with a valid <code class="docutils literal notranslate"><span class="pre">report</span> <span class="pre">name</span></code> or a list of
report names.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">report_names</span></code> is not provided (i.e., <code class="docutils literal notranslate"><span class="pre">None</span></code>), the system will inspect
the model and automatically detect all available report components. These
reports will then be used to collect the data.</p></li>
<li><p>If multiple report names are used, their corresponding data tables will be
concatenated along the rows.</p></li>
</ul>
</section>
<section id="id149">
<h5>Returns<a class="headerlink" href="#id149" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>pd.DataFrame</dt><dd><p>A DataFrame containing the simulation output results.</p>
</dd>
</dl>
</section>
<section id="id150">
<h5>Examples<a class="headerlink" href="#id150" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="go"># create an instance of ApsimModel class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s2">&quot;my_maize_model.apsimx&quot;</span><span class="p">)</span>
<span class="go"># run the simulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="go"># get the results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go"># do something with the results e.g. get the mean of numeric columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Out[12]:</span>
<span class="go">CheckpointID                     1.000000</span>
<span class="go">SimulationID                     1.000000</span>
<span class="go">Maize.AboveGround.Wt          1225.099950</span>
<span class="go">Maize.AboveGround.N             12.381196</span>
<span class="go">Yield                         5636.529504</span>
<span class="go">Maize.Grain.Wt                 563.652950</span>
<span class="go">Maize.Grain.Size                 0.284941</span>
<span class="go">Maize.Grain.NumberFunction    1986.770519</span>
<span class="go">Maize.Grain.Total.Wt           563.652950</span>
<span class="go">Maize.Grain.N                    7.459296</span>
<span class="go">Maize.Total.Wt                1340.837427</span>
</pre></div>
</div>
<p>If there are more than one database tables or <code class="docutils literal notranslate"><span class="pre">reports</span></code> as called in APSIM,
results are concatenated along the axis 0, implying along rows.
The example below mimics this scenario.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today.Year as year&#39;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="s1">&#39;sum([Soil].Nutrient.TotalC)/1000 from 01-jan to [clock].Today as soc&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go"># inspect the reports</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;Report&#39;, &#39;soc&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go">    CheckpointID  SimulationID   Zone  ... source_table    year        soc</span>
<span class="go">0              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">1              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">2              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">3              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">4              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">5              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">6              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">7              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">8              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">9              1             1  Field  ...       Report     NaN        NaN</span>
<span class="go">10             1             1  Field  ...          soc  1990.0  77.831512</span>
<span class="go">11             1             1  Field  ...          soc  1991.0  78.501766</span>
<span class="go">12             1             1  Field  ...          soc  1992.0  78.916339</span>
<span class="go">13             1             1  Field  ...          soc  1993.0  78.707094</span>
<span class="go">14             1             1  Field  ...          soc  1994.0  78.191686</span>
<span class="go">15             1             1  Field  ...          soc  1995.0  78.573085</span>
<span class="go">16             1             1  Field  ...          soc  1996.0  78.724598</span>
<span class="go">17             1             1  Field  ...          soc  1997.0  79.043935</span>
<span class="go">18             1             1  Field  ...          soc  1998.0  78.343111</span>
<span class="go">19             1             1  Field  ...          soc  1999.0  78.872767</span>
<span class="go">20             1             1  Field  ...          soc  2000.0  79.916413</span>
<span class="go">[21 rows x 17 columns]</span>
</pre></div>
</div>
<p>By default all the tables are returned and the column <code class="docutils literal notranslate"><span class="pre">source_table</span></code> tells us
the source table for each row. Since <code class="docutils literal notranslate"><span class="pre">results</span></code> is a property attribute,
which does not take in any argument, we can only decide this when calling the
<code class="docutils literal notranslate"><span class="pre">run</span></code> method as shown below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">results</span>
<span class="go">    CheckpointID  SimulationID   Zone    year        soc source_table</span>
<span class="go">0              1             1  Field  1990.0  77.831512          soc</span>
<span class="go">1              1             1  Field  1991.0  78.501766          soc</span>
<span class="go">2              1             1  Field  1992.0  78.916339          soc</span>
<span class="go">3              1             1  Field  1993.0  78.707094          soc</span>
<span class="go">4              1             1  Field  1994.0  78.191686          soc</span>
<span class="go">5              1             1  Field  1995.0  78.573085          soc</span>
<span class="go">6              1             1  Field  1996.0  78.724598          soc</span>
<span class="go">7              1             1  Field  1997.0  79.043935          soc</span>
<span class="go">8              1             1  Field  1998.0  78.343111          soc</span>
<span class="go">9              1             1  Field  1999.0  78.872767          soc</span>
<span class="go">10             1             1  Field  2000.0  79.916413          soc</span>
</pre></div>
</div>
<p>The above example has dataset only from one database table specified at run time.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output">
<span class="sig-name descname"><span class="pre">get_simulated_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">list]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Reads report data from CSV files generated by the simulation. More Advanced table-merging arguments will be introduced soon.</p>
</section>
<section id="id151">
<h5>Parameters:<a class="headerlink" href="#id151" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>report_names: (str, iterable)</dt><dd><p>Name or list names of report tables to read. These should match the
report names in the simulation output.</p>
</dd>
<dt>axis: int, Optional. Default to 0</dt><dd><p>concatenation axis numbers for multiple reports or database tables. if axis is 0, source_table column is populated to show source of the data for each row</p>
</dd>
</dl>
</section>
<section id="id152">
<h5>Returns:<a class="headerlink" href="#id152" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code></dt><dd><p>Concatenated DataFrame containing the data from the specified reports.</p>
</dd>
</dl>
</section>
<section id="id153">
<h5>Raises:<a class="headerlink" href="#id153" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If any of the requested report names are not found in the available tables.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the simulation has not been <code class="docutils literal notranslate"><span class="pre">run</span></code> successfully before attempting to read data.</p>
</dd>
</dl>
</section>
<section id="id154">
<h5>Examples<a class="headerlink" href="#id154" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>  <span class="c1"># replace with your path to the apsim template model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># if we are going to use get_simulated_output, no need to provide the report name in ``run()`` method</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">(</span><span class="n">report_names</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="go">    SimulationName  SimulationID  CheckpointID  ...  Maize.Total.Wt     Yield   Zone</span>
<span class="go">0       Simulation             1             1  ...        1728.427  8469.616  Field</span>
<span class="go">1       Simulation             1             1  ...         920.854  4668.505  Field</span>
<span class="go">2       Simulation             1             1  ...         204.118   555.047  Field</span>
<span class="go">3       Simulation             1             1  ...         869.180  3504.000  Field</span>
<span class="go">4       Simulation             1             1  ...        1665.475  7820.075  Field</span>
<span class="go">5       Simulation             1             1  ...        2124.740  8823.517  Field</span>
<span class="go">6       Simulation             1             1  ...        1235.469  3587.101  Field</span>
<span class="go">7       Simulation             1             1  ...         951.808  2939.152  Field</span>
<span class="go">8       Simulation             1             1  ...        1986.968  8379.435  Field</span>
<span class="go">9       Simulation             1             1  ...        1689.966  7370.301  Field</span>
<span class="go">[10 rows x 16 columns]</span>
</pre></div>
</div>
<p>This method also handles more than one reports as shown below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="s1">&#39;[Clock].Today.Year as year&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;sum([Soil].Nutrient.TotalC)/1000 from 01-jan to [clock].Today as soc&#39;</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span>    <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soc&#39;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go"># inspect the reports</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">[&#39;Report&#39;, &#39;soc&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">([</span><span class="s2">&quot;soc&quot;</span><span class="p">,</span> <span class="s2">&quot;Report&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">    CheckpointID  SimulationID  ...  Maize.Grain.N  Maize.Total.Wt</span>
<span class="go">0              1             1  ...            NaN             NaN</span>
<span class="go">1              1             1  ...            NaN             NaN</span>
<span class="go">2              1             1  ...            NaN             NaN</span>
<span class="go">3              1             1  ...            NaN             NaN</span>
<span class="go">4              1             1  ...            NaN             NaN</span>
<span class="go">5              1             1  ...            NaN             NaN</span>
<span class="go">6              1             1  ...            NaN             NaN</span>
<span class="go">7              1             1  ...            NaN             NaN</span>
<span class="go">8              1             1  ...            NaN             NaN</span>
<span class="go">9              1             1  ...            NaN             NaN</span>
<span class="go">10             1             1  ...            NaN             NaN</span>
<span class="go">11             1             1  ...      11.178291     1728.427114</span>
<span class="go">12             1             1  ...       6.226327      922.393712</span>
<span class="go">13             1             1  ...       0.752357      204.108770</span>
<span class="go">14             1             1  ...       4.886844      869.242545</span>
<span class="go">15             1             1  ...      10.463854     1665.483701</span>
<span class="go">16             1             1  ...      11.253916     2124.739830</span>
<span class="go">17             1             1  ...       5.044417     1261.674967</span>
<span class="go">18             1             1  ...       3.955080      951.303260</span>
<span class="go">19             1             1  ...      11.080878     1987.106980</span>
<span class="go">20             1             1  ...       9.751001     1693.893386</span>
<span class="go">[21 rows x 17 columns]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_simulated_output</span><span class="p">([</span><span class="s1">&#39;soc&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">    CheckpointID  SimulationID  ...  Maize.Grain.N  Maize.Total.Wt</span>
<span class="go">0              1             1  ...      11.178291     1728.427114</span>
<span class="go">1              1             1  ...       6.226327      922.393712</span>
<span class="go">2              1             1  ...       0.752357      204.108770</span>
<span class="go">3              1             1  ...       4.886844      869.242545</span>
<span class="go">4              1             1  ...      10.463854     1665.483701</span>
<span class="go">5              1             1  ...      11.253916     2124.739830</span>
<span class="go">6              1             1  ...       5.044417     1261.674967</span>
<span class="go">7              1             1  ...       3.955080      951.303260</span>
<span class="go">8              1             1  ...      11.080878     1987.106980</span>
<span class="go">9              1             1  ...       9.751001     1693.893386</span>
<span class="go">10             1             1  ...            NaN             NaN</span>
<span class="go">[11 rows x 19 columns]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.results" title="apsimNGpy.core.experimentmanager.ExperimentManager.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[tuple,</span> <span class="pre">list,</span> <span class="pre">str]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[tuple,</span> <span class="pre">list]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'int'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">800</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.run" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Run APSIM model simulations to write the results either to SQLite data base or csv file. Does not collect the</dt><dd><p>simulated output inot memory. For this purpose. Please see  related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.results" title="apsimNGpy.core.experimentmanager.ExperimentManager.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</dd>
</dl>
<section id="id155">
<h6>Parameters<a class="headerlink" href="#id155" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>report_name: Union[tuple, list, str], optional</dt><dd><p>Defaults to APSIM default Report Name if not specified.
- If iterable, all report tables are read and aggregated into one DataFrame.</p>
</dd>
<dt>simulations: Union[tuple, list], optional</dt><dd><p>List of simulation names to run. If None, runs all simulations.</p>
</dd>
<dt>clean_up: bool, optional</dt><dd><p>If True, removes the existing database before running.</p>
</dd>
<dt>verbose: bool, optional</dt><dd><p>If True, enables verbose output for debugging. The method continues with debugging info anyway if the run was unsuccessful</p>
</dd>
<dt>timeout: int, defualt is 800 seconds</dt><dd><p>Enforces a timeout and returns a CompletedProcess-like object.</p>
</dd>
<dt>kwargs: <a href="#id156"><span class="problematic" id="id157">**</span></a>dict</dt><dd><p>Additional keyword arguments, e.g., to_csv=True, use this flag to correct results from
a csv file directly stored at the location of the running apsimx file.</p>
</dd>
</dl>
</section>
<section id="id158">
<h6>Warning:<a class="headerlink" href="#id158" title="Link to this heading"></a></h6>
<p>In my experience with Models.exe, CSV outputs are not always overwritten; after edits, stale results can persist. Proceed with caution.</p>
</section>
<section id="id159">
<h6>Returns<a class="headerlink" href="#id159" title="Link to this heading"></a></h6>
<blockquote>
<div><p>Instance of the respective model class e.g.,  ApsimModel, ExperimentManager.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code></dt><dd><p>Raised if the <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> run is unsuccessful. Common causes include <code class="docutils literal notranslate"><span class="pre">missing</span> <span class="pre">meteorological</span> <span class="pre">files</span></code>,
mismatched simulation <code class="docutils literal notranslate"><span class="pre">start</span></code> dates with <code class="docutils literal notranslate"><span class="pre">weather</span></code> data, or other <code class="docutils literal notranslate"><span class="pre">configuration</span> <span class="pre">issues</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<p>Instantiate an <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.apsim.ApsimModel</span></code> object and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span><span class="c1"># replace with your path to the apsim template model</span>
<span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_name</span> <span class="o">=</span> <span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="c1"># check if the run was successful</span>
<span class="n">model</span><span class="o">.</span><span class="n">ran_ok</span>
<span class="s1">&#39;True&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Updates the <code class="docutils literal notranslate"><span class="pre">ran_ok</span></code> flag to <code class="docutils literal notranslate"><span class="pre">True</span></code> if no error was encountered.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.results" title="apsimNGpy.core.experimentmanager.ExperimentManager.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output" title="apsimNGpy.core.experimentmanager.ExperimentManager.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.rename_model">
<span class="sig-name descname"><span class="pre">rename_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.rename_model" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Renames a model within the APSIM simulation tree.</p>
<p>This method searches for a model of the specified type and current name,
then updates its name to the new one provided. After renaming, it saves
the updated simulation file to enforce the changes.</p>
<dl class="simple">
<dt>model_type<span class="classifier">str</span></dt><dd><p>The type of the model to rename (e.g., “Manager”, “Clock”, etc.).</p>
</dd>
<dt>old_name<span class="classifier">str</span></dt><dd><p>The current name of the model to be renamed.</p>
</dd>
<dt>new_name<span class="classifier">str</span></dt><dd><p>The new name to assign to the model.</p>
</dd>
</dl>
<dl class="simple">
<dt>self<span class="classifier">object</span></dt><dd><p>Returns the modified object to allow for method chaining.</p>
</dd>
</dl>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model of the specified type and name is not found.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<blockquote>
<div><p>This method uses <code class="docutils literal notranslate"><span class="pre">get_or_check_model</span></code> with action=’get’ to locate the model,
and then updates the model’s <code class="docutils literal notranslate"><span class="pre">Name</span></code> attribute. The model is serialized using the <code class="docutils literal notranslate"><span class="pre">save()</span></code>
immediately after to apply and enfoce the change.</p>
</div></blockquote>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">rename_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s2">&quot;Models.Core.Simulation&quot;</span><span class="p">,</span> <span class="n">old_name</span> <span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="s1">&#39;my_simulation&#39;</span><span class="p">)</span>
<span class="go"># check if it has been successfully renamed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Core.Simulation&#39;</span><span class="p">,</span> <span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="go"> [&#39;my_simulation&#39;]</span>
<span class="go"># The alternative is to use model.inspect_file to see your changes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">()</span>
<span class="go">└── Simulations: .Simulations</span>
<span class="go"> ├── DataStore: .Simulations.DataStore</span>
<span class="go"> └── my_simulation: .Simulations.my_simulation</span>
<span class="go">     ├── Clock: .Simulations.my_simulation.Clock</span>
<span class="go">     ├── Field: .Simulations.my_simulation.Field</span>
<span class="go">     │   ├── Fertilise at sowing: .Simulations.my_simulation.Field.Fertilise at sowing</span>
<span class="go">     │   ├── Fertiliser: .Simulations.my_simulation.Field.Fertiliser</span>
<span class="go">     │   ├── Harvest: .Simulations.my_simulation.Field.Harvest</span>
<span class="go">     │   ├── Maize: .Simulations.my_simulation.Field.Maize</span>
<span class="go">     │   ├── Report: .Simulations.my_simulation.Field.Report</span>
<span class="go">     │   ├── Soil: .Simulations.my_simulation.Field.Soil</span>
<span class="go">     │   │   ├── Chemical: .Simulations.my_simulation.Field.Soil.Chemical</span>
<span class="go">     │   │   ├── NH4: .Simulations.my_simulation.Field.Soil.NH4</span>
<span class="go">     │   │   ├── NO3: .Simulations.my_simulation.Field.Soil.NO3</span>
<span class="go">     │   │   ├── Organic: .Simulations.my_simulation.Field.Soil.Organic</span>
<span class="go">     │   │   ├── Physical: .Simulations.my_simulation.Field.Soil.Physical</span>
<span class="go">     │   │   │   └── MaizeSoil: .Simulations.my_simulation.Field.Soil.Physical.MaizeSoil</span>
<span class="go">     │   │   ├── Urea: .Simulations.my_simulation.Field.Soil.Urea</span>
<span class="go">     │   │   └── Water: .Simulations.my_simulation.Field.Soil.Water</span>
<span class="go">     │   ├── Sow using a variable rule: .Simulations.my_simulation.Field.Sow using a variable rule</span>
<span class="go">     │   └── SurfaceOrganicMatter: .Simulations.my_simulation.Field.SurfaceOrganicMatter</span>
<span class="go">     ├── Graph: .Simulations.my_simulation.Graph</span>
<span class="go">     │   └── Series: .Simulations.my_simulation.Graph.Series</span>
<span class="go">     ├── MicroClimate: .Simulations.my_simulation.MicroClimate</span>
<span class="go">     ├── SoilArbitrator: .Simulations.my_simulation.SoilArbitrator</span>
<span class="go">     ├── Summary: .Simulations.my_simulation.Summary</span>
<span class="go">     └── Weather: .Simulations.my_simulation.Weather</span>
</pre></div>
</div>
</div>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.add_model" title="apsimNGpy.core.apsim.ApsimModel.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.clone_model" title="apsimNGpy.core.apsim.ApsimModel.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a>, and
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.move_model" title="apsimNGpy.core.apsim.ApsimModel.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.clone_model">
<span class="sig-name descname"><span class="pre">clone_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clone_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clone an existing <code class="docutils literal notranslate"><span class="pre">model</span></code> and move it to a specified parent within the simulation structure.
The function modifies the simulation structure by adding the cloned model to the designated parent.</p>
<p>This function is useful when a model instance needs to be duplicated and repositioned in the <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> simulation
hierarchy without manually redefining its structure.</p>
</section>
<section id="id160">
<h5>Parameters:<a class="headerlink" href="#id160" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: Models</dt><dd><p>The type of the model to be cloned, e.g., <code class="docutils literal notranslate"><span class="pre">Models.Simulation</span></code> or <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code>.</p>
</dd>
<dt>model_name: str</dt><dd><p>The unique identification name of the model instance to be cloned, e.g., <code class="docutils literal notranslate"><span class="pre">&quot;clock1&quot;</span></code>.</p>
</dd>
<dt>adoptive_parent_type: Models</dt><dd><p>The type of the new parent model where the cloned model will be placed.</p>
</dd>
<dt>rename: str, optional</dt><dd><p>The new name for the cloned model. If not provided, the clone will be renamed using
the original name with a <code class="docutils literal notranslate"><span class="pre">_clone</span></code> suffix.</p>
</dd>
<dt>adoptive_parent_name: str, optional</dt><dd><p>The name of the parent model where the cloned model should be moved. If not provided,
the model will be placed under the default parent of the specified type.</p>
</dd>
<dt>in_place: bool, optional</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the cloned model remains in the same location but is duplicated. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
</section>
<section id="id161">
<h5>Returns:<a class="headerlink" href="#id161" title="Link to this heading"></a></h5>
<p>None</p>
</section>
<section id="id162">
<h5>Example:<a class="headerlink" href="#id162" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Create a cloned version of <code class="docutils literal notranslate"><span class="pre">&quot;clock1&quot;</span></code> and place it under <code class="docutils literal notranslate"><span class="pre">&quot;Simulation&quot;</span></code> with the new name <code class="docutils literal notranslate"><span class="pre">&quot;new_clock</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">clone_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Core.Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;Simulation&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">rename</span><span class="o">=</span><span class="s2">&quot;Sim2&quot;</span><span class="p">,</span> <span class="n">adoptive_parent_type</span> <span class="o">=</span> <span class="s1">&#39;Models.Core.Simulations&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">adoptive_parent_name</span><span class="o">=</span><span class="s1">&#39;Simulations&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">()</span>
<span class="go">└── Simulations: .Simulations</span>
<span class="go">    ├── DataStore: .Simulations.DataStore</span>
<span class="go">    ├── Sim2: .Simulations.Sim2</span>
<span class="go">    │   ├── Clock: .Simulations.Sim2.Clock</span>
<span class="go">    │   ├── Field: .Simulations.Sim2.Field</span>
<span class="go">    │   │   ├── Fertilise at sowing: .Simulations.Sim2.Field.Fertilise at sowing</span>
<span class="go">    │   │   ├── Fertiliser: .Simulations.Sim2.Field.Fertiliser</span>
<span class="go">    │   │   ├── Harvest: .Simulations.Sim2.Field.Harvest</span>
<span class="go">    │   │   ├── Maize: .Simulations.Sim2.Field.Maize</span>
<span class="go">    │   │   ├── Report: .Simulations.Sim2.Field.Report</span>
<span class="go">    │   │   ├── Soil: .Simulations.Sim2.Field.Soil</span>
<span class="go">    │   │   │   ├── Chemical: .Simulations.Sim2.Field.Soil.Chemical</span>
<span class="go">    │   │   │   ├── NH4: .Simulations.Sim2.Field.Soil.NH4</span>
<span class="go">    │   │   │   ├── NO3: .Simulations.Sim2.Field.Soil.NO3</span>
<span class="go">    │   │   │   ├── Organic: .Simulations.Sim2.Field.Soil.Organic</span>
<span class="go">    │   │   │   ├── Physical: .Simulations.Sim2.Field.Soil.Physical</span>
<span class="go">    │   │   │   │   └── MaizeSoil: .Simulations.Sim2.Field.Soil.Physical.MaizeSoil</span>
<span class="go">    │   │   │   ├── Urea: .Simulations.Sim2.Field.Soil.Urea</span>
<span class="go">    │   │   │   └── Water: .Simulations.Sim2.Field.Soil.Water</span>
<span class="go">    │   │   ├── Sow using a variable rule: .Simulations.Sim2.Field.Sow using a variable rule</span>
<span class="go">    │   │   ├── SurfaceOrganicMatter: .Simulations.Sim2.Field.SurfaceOrganicMatter</span>
<span class="go">    │   │   └── soc_table: .Simulations.Sim2.Field.soc_table</span>
<span class="go">    │   ├── Graph: .Simulations.Sim2.Graph</span>
<span class="go">    │   │   └── Series: .Simulations.Sim2.Graph.Series</span>
<span class="go">    │   ├── MicroClimate: .Simulations.Sim2.MicroClimate</span>
<span class="go">    │   ├── SoilArbitrator: .Simulations.Sim2.SoilArbitrator</span>
<span class="go">    │   ├── Summary: .Simulations.Sim2.Summary</span>
<span class="go">    │   └── Weather: .Simulations.Sim2.Weather</span>
<span class="go">    └── Simulation: .Simulations.Simulation</span>
<span class="go">        ├── Clock: .Simulations.Simulation.Clock</span>
<span class="go">        ├── Field: .Simulations.Simulation.Field</span>
<span class="go">        │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing</span>
<span class="go">        │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser</span>
<span class="go">        │   ├── Harvest: .Simulations.Simulation.Field.Harvest</span>
<span class="go">        │   ├── Maize: .Simulations.Simulation.Field.Maize</span>
<span class="go">        │   ├── Report: .Simulations.Simulation.Field.Report</span>
<span class="go">        │   ├── Soil: .Simulations.Simulation.Field.Soil</span>
<span class="go">        │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical</span>
<span class="go">        │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4</span>
<span class="go">        │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3</span>
<span class="go">        │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic</span>
<span class="go">        │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical</span>
<span class="go">        │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil</span>
<span class="go">        │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea</span>
<span class="go">        │   │   └── Water: .Simulations.Simulation.Field.Soil.Water</span>
<span class="go">        │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule</span>
<span class="go">        │   ├── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter</span>
<span class="go">        │   └── soc_table: .Simulations.Simulation.Field.soc_table</span>
<span class="go">        ├── Graph: .Simulations.Simulation.Graph</span>
<span class="go">        │   └── Series: .Simulations.Simulation.Graph.Series</span>
<span class="go">        ├── MicroClimate: .Simulations.Simulation.MicroClimate</span>
<span class="go">        ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator</span>
<span class="go">        ├── Summary: .Simulations.Simulation.Summary</span>
<span class="go">        └── Weather: .Simulations.Simulation.Weather</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.move_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.find_model">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.find_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Find a model from the Models namespace and return its path.</p>
</section>
<section id="id163">
<h5>Parameters:<a class="headerlink" href="#id163" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_name: (str)</dt><dd><p>The name of the model to find.</p>
</dd>
<dt>model_namespace: (object, optional):</dt><dd><p>The root namespace (defaults to Models).</p>
</dd>
<dt>path: (str, optional)</dt><dd><p>The accumulated path to the model.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The full path to the model if found, otherwise None.</p>
</dd>
</dl>
</section>
<section id="id164">
<h5>Example:<a class="headerlink" href="#id164" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>  <span class="c1"># doctest:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span><span class="n">core</span><span class="o">.</span><span class="n">apsim</span><span class="o">.</span><span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span> <span class="o">=</span> <span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span> <span class="o">=</span><span class="s1">&#39;my_maize.apsimx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_model</span><span class="p">(</span><span class="s2">&quot;Weather&quot;</span><span class="p">)</span>
<span class="go">&#39;Models.Climate.Weather&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">find_model</span><span class="p">(</span><span class="s2">&quot;Clock&quot;</span><span class="p">)</span>
<span class="go">&#39;Models.Clock&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_model">
<span class="sig-name descname"><span class="pre">add_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adoptive_parent_name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source='Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_model_name=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a model to the Models Simulations namespace.</p>
<p>Some models are restricted to specific parent models, meaning they can only be added to compatible models.
For example, a Clock model cannot be added to a Soil model.</p>
</section>
<section id="id165">
<h5>Parameters:<a class="headerlink" href="#id165" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: (str or Models object)</dt><dd><p>The type of model to add, e.g., <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code> or just <code class="docutils literal notranslate"><span class="pre">&quot;Clock&quot;</span></code>. if the APSIM Models namespace is exposed to the current script, then model_class can be Models.Clock without strings quotes</p>
</dd>
<dt>rename (str):</dt><dd><p>The new name for the model.</p>
</dd>
<dt>adoptive_parent: (Models object)</dt><dd><p>The target parent where the model will be added or moved e.g <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code> or <code class="docutils literal notranslate"><span class="pre">Clock</span></code> as string all are valid</p>
</dd>
<dt>adoptive_parent_name: (Models object, optional)</dt><dd><p>Specifies the parent name for precise location. e.g., <code class="docutils literal notranslate"><span class="pre">Models.Core.Simulation</span></code> or <code class="docutils literal notranslate"><span class="pre">Simulations</span></code> all are valid</p>
</dd>
<dt>source: Models, str, CoreModel, ApsimModel object: defaults to Models namespace.</dt><dd><p>The source can be an existing Models or string name to point to one of the
default model examples, which we can extract the model from</p>
</dd>
<dt>override: bool, optional defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">True</span></code> (recommended), it deletes
any model with the same name and type at the suggested parent location before adding the new model
if <code class="docutils literal notranslate"><span class="pre">False</span></code> and proposed model to be added exists at the parent location;
<code class="docutils literal notranslate"><span class="pre">APSIM</span></code> automatically generates a new name for the newly added model. This is not recommended.</p>
</dd>
<dt>Returns:</dt><dd><p>None:</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">Models</span></code> are modified in place, so models retains the same reference.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Added models from <code class="docutils literal notranslate"><span class="pre">Models</span> <span class="pre">namespace</span></code> are initially empty. Additional configuration is required to set parameters.
For example, after adding a Clock module, you must set the start and end dates.</p>
</div>
</section>
<section id="id166">
<h5>Example<a class="headerlink" href="#id166" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">apsim</span><span class="o">.</span><span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span>  <span class="c1"># first delete the model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">,</span> <span class="n">adoptive_parent</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;Clock_replaced&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">model_class</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span> <span class="n">adoptive_parent</span><span class="o">=</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulations</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;Iowa&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span>
<span class="gp">... </span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">Simulation</span><span class="p">,</span>
<span class="gp">... </span><span class="n">adoptive_parent</span><span class="o">=</span><span class="s1">&#39;Simulations&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">rename</span><span class="o">=</span><span class="s1">&#39;soybean_replaced&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;Soybean&#39;</span><span class="p">)</span>  <span class="c1"># basically adding another simulation from soybean to the maize simulation</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clone_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.move_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.move_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.detect_model_type">
<span class="sig-name descname"><span class="pre">detect_model_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_instance:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Models]')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.detect_model_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Detects the model type from a given APSIM model instance or path string.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path">
<span class="sig-name descname"><span class="pre">edit_model_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Edit a model component located by an APSIM path, dispatching to type-specific editors.</p>
<p>This method resolves a node under <code class="docutils literal notranslate"><span class="pre">instance.Simulations</span></code> using an APSIM path, then
edits that node by delegating to an editor based on the node’s runtime type.
It supports common APSIM NG components (e.g., Weather, Manager, Cultivar, Clock,
Soil subcomponents, Report, SurfaceOrganicMatter). Unsupported types raise
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a>.</p>
</section>
<section id="id167">
<h5>Parameters<a class="headerlink" href="#id167" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>path<span class="classifier">str</span></dt><dd><p>APSIM path to a target node under <code class="docutils literal notranslate"><span class="pre">self.Simulations</span></code> (e.g.,
‘.Simulations.Simulations.Weather’ or a similar canonical path).</p>
</dd>
</dl>
</section>
<section id="id168">
<h5>kwargs<a class="headerlink" href="#id168" title="Link to this heading"></a></h5>
<p>Additional keyword arguments specific to the model type. Atleast one key word argument is required. These vary by component:</p>
<dl>
<dt>Models.Climate.Weather:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">weather_file</span></code> (str): Path to the weather <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
</dd>
<dt>Models.Clock:</dt><dd><p>Date properties such as <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> in ISO format (e.g., ‘2021-01-01’).</p>
</dd>
<dt>Models.Manager:</dt><dd><p>Variables to update in the Manager script using <code class="docutils literal notranslate"><span class="pre">update_mgt_by_path</span></code>.</p>
</dd>
<dt>Soils.Physical | Soils.Chemical | Soils.Organic | Soils.Water:</dt><dd><p>Variables to replace using <code class="docutils literal notranslate"><span class="pre">replace_soils_values_by_path</span></code>.</p>
<p>Valid <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are shown below;</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Soil Model Type</p></th>
<th class="head"><p><strong>Supported key word arguments</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Physical</p></td>
<td><p>AirDry, BD, DUL, DULmm, Depth, DepthMidPoints, KS, LL15, LL15mm, PAWC, PAWCmm, SAT, SATmm, SW, SWmm, Thickness, ThicknessCumulative</p></td>
</tr>
<tr class="row-odd"><td><p>Organic</p></td>
<td><p>CNR, Carbon, Depth, FBiom, FInert, FOM, Nitrogen, SoilCNRatio, Thickness</p></td>
</tr>
<tr class="row-even"><td><p>Chemical</p></td>
<td><p>Depth, PH, Thickness</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Models.Report:</dt><dd><dl class="simple">
<dt>report_name (str):</dt><dd><p>Name of the report model (optional depending on structure).</p>
</dd>
<dt>variable_spec`   (list[str] or str):</dt><dd><p>Variables to include in the report.</p>
</dd>
<dt>set_event_names` (list[str], optional):</dt><dd><p>Events that trigger the report.</p>
</dd>
</dl>
</dd>
<dt>Models.PMF.Cultivar:</dt><dd><dl class="simple">
<dt>commands (str):</dt><dd><p>APSIM path to the cultivar parameter to update.</p>
</dd>
<dt>values: (Any)</dt><dd><p>Value to assign.</p>
</dd>
<dt>cultivar_manager: (str)</dt><dd><p>Name of the Manager script managing the cultivar, which must contain the <code class="docutils literal notranslate"><span class="pre">CultivarName</span></code> parameter. Required to propagate updated cultivar values, as APSIM treats cultivars as read-only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model instance is not found, required kwargs are missing, or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is empty.</p>
</dd>
<dt>NotImplementedError</dt><dd><p>If the logic for the specified <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is not implemented.</p>
</dd>
</dl>
</div>
</section>
<section id="id169">
<h5>Examples<a class="headerlink" href="#id169" title="Link to this heading"></a></h5>
<p>Edit a Manager script parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Sow using a variable rule&quot;</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">Population</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Point a Weather component to a new <code class="docutils literal notranslate"><span class="pre">.met</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s2">&quot;.Simulations.Simulation.Weather&quot;</span><span class="p">,</span>
    <span class="n">FileName</span><span class="o">=</span><span class="s2">&quot;data/weather/Ames_2020.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Change Clock dates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Clock&quot;</span><span class="p">,</span>
    <span class="n">StartDate</span><span class="o">=</span><span class="s2">&quot;2020-01-01&quot;</span><span class="p">,</span>
    <span class="n">EndDate</span><span class="o">=</span><span class="s2">&quot;2020-12-31&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update soil water properties at a specific path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Soil.Physical&quot;</span><span class="p">,</span>
    <span class="n">LL15</span><span class="o">=</span><span class="s2">&quot;[0.26, 0.18, 0.10, 0.12]&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply cultivar edits across selected simulations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model_by_path</span><span class="p">(</span>
    <span class="s2">&quot;.Simulations.Simulation.Field.Maize.CultivarFolder.mh18&quot;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Sim_A&quot;</span><span class="p">,</span> <span class="s2">&quot;Sim_B&quot;</span><span class="p">),</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="p">{</span><span class="s2">&quot;Phenology.EmergencePhase.Photoperiod&quot;</span><span class="p">:</span> <span class="s2">&quot;Short&quot;</span><span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model">
<span class="sig-name descname"><span class="pre">edit_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Modify various APSIM model components by specifying the model type and name across given simulations.</p>
</section>
<section id="id170">
<h5>Parameters<a class="headerlink" href="#id170" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: str, required</dt><dd><p>Type of the model component to modify (e.g., ‘Clock’, ‘Manager’, ‘Soils.Physical’, etc.).</p>
</dd>
<dt>simulations: Union[str, list], optional</dt><dd><p>A simulation name or list of simulation names in which to search. Defaults to all simulations in the model.</p>
</dd>
<dt>model_name: str, required</dt><dd><p>Name of the model instance to modify.</p>
</dd>
<dt>verbose: bool, optional</dt><dd><p>print the status of the editting activities</p>
</dd>
</dl>
</section>
<section id="id171">
<h5>kwargs<a class="headerlink" href="#id171" title="Link to this heading"></a></h5>
<p>Additional keyword arguments specific to the model type. Atleast one key word argument is required. These vary by component:</p>
<dl>
<dt>Models.Climate.Weather:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">weather_file</span></code> (str): Path to the weather <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
</dd>
<dt>Models.Clock:</dt><dd><p>Date properties such as <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> in ISO format (e.g., ‘2021-01-01’).</p>
</dd>
<dt>Models.Manager:</dt><dd><p>Variables to update in the Manager script using <code class="docutils literal notranslate"><span class="pre">update_mgt_by_path</span></code>.</p>
</dd>
<dt>Soils.Physical | Soils.Chemical | Soils.Organic | Soils.Water:</dt><dd><p>Variables to replace using <code class="docutils literal notranslate"><span class="pre">replace_soils_values_by_path</span></code>.</p>
<p>Valid <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are shown below;</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Soil Model Type</p></th>
<th class="head"><p><strong>Supported key word arguments</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Physical</p></td>
<td><p>AirDry, BD, DUL, DULmm, Depth, DepthMidPoints, KS, LL15, LL15mm, PAWC, PAWCmm, SAT, SATmm, SW, SWmm, Thickness, ThicknessCumulative</p></td>
</tr>
<tr class="row-odd"><td><p>Organic</p></td>
<td><p>CNR, Carbon, Depth, FBiom, FInert, FOM, Nitrogen, SoilCNRatio, Thickness</p></td>
</tr>
<tr class="row-even"><td><p>Chemical</p></td>
<td><p>Depth, PH, Thickness</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>Models.Report:</dt><dd><dl class="simple">
<dt>report_name (str):</dt><dd><p>Name of the report model (optional depending on structure).</p>
</dd>
<dt>variable_spec`   (list[str] or str):</dt><dd><p>Variables to include in the report.</p>
</dd>
<dt>set_event_names` (list[str], optional):</dt><dd><p>Events that trigger the report.</p>
</dd>
</dl>
</dd>
<dt>Models.PMF.Cultivar:</dt><dd><dl class="simple">
<dt>commands (str):</dt><dd><p>APSIM path to the cultivar parameter to update.</p>
</dd>
<dt>values: (Any)</dt><dd><p>Value to assign.</p>
</dd>
<dt>cultivar_manager: (str)</dt><dd><p>Name of the Manager script managing the cultivar, which must contain the <code class="docutils literal notranslate"><span class="pre">CultivarName</span></code> parameter. Required to propagate updated cultivar values, as APSIM treats cultivars as read-only.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>ValueError</dt><dd><p>If the model instance is not found, required kwargs are missing, or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> is empty.</p>
</dd>
<dt>NotImplementedError</dt><dd><p>If the logic for the specified <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is not implemented.</p>
</dd>
</dl>
</div>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Example of how to edit a cultivar model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">commands</span><span class="o">=</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">,</span>
     <span class="n">values</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">,</span>
     <span class="n">new_cultivar_name</span><span class="o">=</span><span class="s1">&#39;B_110_edited&#39;</span><span class="p">,</span>
     <span class="n">cultivar_manager</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit a soil organic matter module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">Carbon</span><span class="o">=</span><span class="mf">1.23</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit multiple soil layers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span>
     <span class="n">Carbon</span><span class="o">=</span><span class="p">[</span><span class="mf">1.23</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
</pre></div>
</div>
<p>Example of how to edit solute models:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
      <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span>
      <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
      <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;NH4&#39;</span><span class="p">,</span>
      <span class="n">InitialValues</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_class</span><span class="o">=</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Urea&#39;</span><span class="p">,</span>
     <span class="n">InitialValues</span><span class="o">=</span><span class="mf">0.002</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit a manager script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
     <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
     <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
     <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">,</span>
     <span class="n">population</span><span class="o">=</span><span class="mf">8.4</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit surface organic matter parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">InitialResidueMass</span><span class="o">=</span><span class="mi">2500</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span>
    <span class="n">InitialCNR</span><span class="o">=</span><span class="mi">85</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit Clock start and end dates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span>
    <span class="n">Start</span><span class="o">=</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">,</span>
    <span class="n">End</span><span class="o">=</span><span class="s1">&#39;2021-01-12&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Edit report _variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Maize].AboveGround.Wt as abw&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Multiple report _variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">edit_model</span><span class="p">(</span>
    <span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
    <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span>
    <span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;[Maize].AboveGround.Wt as abw&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[Maize].Grain.Total.Wt as grain_weight&#39;</span><span class="p">])</span>
    <span class="nd">@param</span> <span class="n">simulations</span><span class="p">:</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable">
<span class="sig-name descname"><span class="pre">add_report_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_event_names:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>This adds a report variable to the end of other _variables, if you want to change the whole report use change_report</p>
</section>
<section id="id172">
<h5>Parameters<a class="headerlink" href="#id172" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>variable_spec: str, required.</dt><dd><p>list of text commands for the report _variables e.g., ‘[Clock].Today as Date’</p>
</dd>
<dt>param report_name: str, optional.</dt><dd><p>Name of the report variable if not specified, the first accessed report object will be altered</p>
</dd>
<dt>set_event_names: list or str, optional.</dt><dd><p>A list of APSIM events that trigger the recording of _variables.
Defaults to [‘[Clock].EndOfYear’] if not provided.</p>
</dd>
</dl>
</section>
</section>
<section id="id173">
<h4>Returns<a class="headerlink" href="#id173" title="Link to this heading"></a></h4>
<p>returns instance of apsimNGpy.core.core.apsim.ApsimModel or apsimNGpy.core.core.apsim.CoreModel</p>
<section id="id174">
<h5>Raise<a class="headerlink" href="#id174" title="Link to this heading"></a></h5>
<blockquote>
<div><p>raises an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if a report is not found</p>
</div></blockquote>
</section>
<section id="id175">
<h5>Examples<a class="headerlink" href="#id175" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_report_variable</span><span class="p">(</span><span class="n">variable_spec</span> <span class="o">=</span> <span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span> <span class="o">=</span> <span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go"># isnepct the report</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="n">model_type</span><span class="o">=</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go">{&#39;EventNames&#39;: [&#39;[Maize].Harvesting&#39;],</span>
<span class="go">     &#39;VariableNames&#39;: [&#39;[Clock].Today&#39;,</span>
<span class="go">      &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go">      &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go">      &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Size&#39;,</span>
<span class="go">      &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go">      &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go">      &#39;[Maize].Grain.N&#39;,</span>
<span class="go">      &#39;[Maize].Total.Wt&#39;,</span>
<span class="go">      &#39;[Clock].Today as Date&#39;]}</span>
<span class="go">The new report variable is appended at the end of the existing ones</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable" title="apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variable()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable">
<span class="sig-name descname"><span class="pre">remove_report_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name:</span> <span class="pre">'str</span> <span class="pre">|</span> <span class="pre">None'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.remove_report_variable" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Remove one or more variable expressions from an APSIM Report component.</p>
</section>
<section id="id176">
<h5>Parameters<a class="headerlink" href="#id176" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>variable_spec<span class="classifier">str | list[str] | tuple[str, …]</span></dt><dd><p>Variable expression(s) to remove, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;[Clock].Today&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;[Clock].Today</span> <span class="pre">as</span> <span class="pre">Date&quot;</span></code>. You may pass a single string or a list/tuple.
Matching is done by exact text <strong>after whitespace normalization</strong>
(consecutive spaces collapsed), so minor spacing differences are tolerated.</p>
</dd>
<dt>report_name<span class="classifier">str, optional</span></dt><dd><p>Name of the Report component to modify. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
resolver (<code class="docutils literal notranslate"><span class="pre">self._get_report</span></code>) is used to locate the target report.</p>
</dd>
</dl>
</section>
<section id="id177">
<h5>Returns<a class="headerlink" href="#id177" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>list[str]</dt><dd><p>The updated list of variable expressions remaining in the report
(in original order, without duplicates).</p>
</dd>
</dl>
</section>
<section id="id178">
<h5>Notes<a class="headerlink" href="#id178" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Variables not present are ignored (no error raised).</p></li>
<li><p>Order is preserved; duplicates are removed.</p></li>
<li><p>The model is saved at the end of this call.</p></li>
</ul>
</section>
<section id="id179">
<h5>Examples<a class="headerlink" href="#id179" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">=</span> <span class="n">CoreModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">add_report_variable</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">)[</span><span class="s1">&#39;VariableNames&#39;</span><span class="p">]</span>
<span class="go">[&#39;[Clock].Today&#39;,</span>
<span class="go"> &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Size&#39;,</span>
<span class="go"> &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.N&#39;,</span>
<span class="go"> &#39;[Maize].Total.Wt&#39;,</span>
<span class="go"> &#39;[Clock].Today as Date&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">remove_report_variable</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="s1">&#39;[Clock].Today as Date&#39;</span><span class="p">,</span> <span class="n">report_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Report&#39;</span><span class="p">,</span> <span class="s1">&#39;Report&#39;</span><span class="p">)[</span><span class="s1">&#39;VariableNames&#39;</span><span class="p">]</span>
<span class="go">[&#39;[Clock].Today&#39;,</span>
<span class="go"> &#39;[Maize].Phenology.CurrentStageName&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.Wt&#39;,</span>
<span class="go"> &#39;[Maize].AboveGround.N&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt*10 as Yield&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Size&#39;,</span>
<span class="go"> &#39;[Maize].Grain.NumberFunction&#39;,</span>
<span class="go"> &#39;[Maize].Grain.Total.Wt&#39;,</span>
<span class="go"> &#39;[Maize].Grain.N&#39;,</span>
<span class="go"> &#39;[Maize].Total.Wt&#39;]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_report_variable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variable()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_db_table()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.remove_model">
<span class="sig-name descname"><span class="pre">remove_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.remove_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Removes a model from the APSIM Models.Simulations namespace.</p>
<blockquote>
<div><dl class="simple">
<dt>model_type: Models</dt><dd><p>The type of the model to remove (e.g., <code class="docutils literal notranslate"><span class="pre">Models.Clock</span></code>). This parameter is required.</p>
</dd>
<dt>model_name: str, optional</dt><dd><p>The name of the specific model instance to remove (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;Clock&quot;</span></code>). If not provided, all models of the
specified type may be removed.</p>
</dd>
</dl>
<p>Returns:</p>
<blockquote>
<div><p>None</p>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">core</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span> <span class="c1">#deletes the clock node</span>
<span class="n">model</span><span class="o">.</span><span class="n">remove_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Climate</span><span class="o">.</span><span class="n">Weather</span><span class="p">)</span> <span class="c1">#deletes the weather node</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clone_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.clone_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.add_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_model()</span></code></a>.</p>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.move_model">
<span class="sig-name descname"><span class="pre">move_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_parent_type:</span> <span class="pre">'Models'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_parent_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.move_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id180">
<h5>Args:<a class="headerlink" href="#id180" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type:  Models</dt><dd><p>type of model tied to Models Namespace</p>
</dd>
<dt>new_parent_type: Models.</dt><dd><p>New model parent type (Models)</p>
</dd>
<dt>model_name: str</dt><dd><p>Name of the model e.g., Clock, or Clock2, whatever name that was given to the model</p>
</dd>
<dt>new_parent_name``:  str</dt><dd><p>The new parent names =Field2, this field is optional but important if you have nested simulations</p>
</dd>
</dl>
</section>
<section id="id181">
<h5>Returns:<a class="headerlink" href="#id181" title="Link to this heading"></a></h5>
<blockquote>
<div><p>returns instance of apsimNGpy.core.core.apsim.ApsimModel or apsimNGpy.core.core.apsim.CoreModel</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replicate_file">
<span class="sig-name descname"><span class="pre">replicate_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'os.PathLike'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">'replica')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replicate_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Replicates a file <code class="docutils literal notranslate"><span class="pre">k</span></code> times.
Parameters
———-
path:str default is None</p>
<blockquote>
<div><p>If specified, the copies will be placed in that dir_path with incremented filenames.
If no path is specified, copies are created in the same dir_path as the original file, also with incremented filenames.</p>
</div></blockquote>
<dl class="simple">
<dt>k int:</dt><dd><p>The number of copies to create.</p>
</dd>
</dl>
<ul class="simple">
<li><dl class="simple">
<dt>suffix: str, optional</dt><dd><p>a suffix to attach with the copies. Default to “replicate”</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="id182">
<h5>Returns:<a class="headerlink" href="#id182" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>A  generator(str) is returned.</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_crop_replacement">
<span class="sig-name descname"><span class="pre">get_crop_replacement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Crop)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_crop_replacement" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="field-list simple">
<dt class="field-odd">param Crop<span class="colon">:</span></dt>
<dd class="field-odd"><p>crop to get the replacement</p>
</dd>
<dt class="field-even">return<span class="colon">:</span></dt>
<dd class="field-even"><p>System.Collections.Generic.IEnumerable APSIM plant object</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters">
<span class="sig-name descname"><span class="pre">inspect_model_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Union[Models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspect the input parameters of a specific <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> model type instance within selected simulations.</p>
<p>This method consolidates functionality previously spread across <code class="docutils literal notranslate"><span class="pre">examine_management_info</span></code>, <code class="docutils literal notranslate"><span class="pre">read_cultivar_params</span></code>, and other inspectors,
allowing a unified interface for querying parameters of interest across a wide range of APSIM models.</p>
</section>
<section id="id183">
<h5>Parameters<a class="headerlink" href="#id183" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>model_type: str required</dt><dd><p>The name of the model class to inspect (e.g., ‘Clock’, ‘Manager’, ‘Physical’, ‘Chemical’, ‘Water’, ‘Solute’).
Shorthand names are accepted (e.g., ‘Clock’, ‘Weather’) as well as fully qualified names (e.g., ‘Models.Clock’, ‘Models.Climate.Weather’).</p>
</dd>
<dt>simulations: Union[str, list]</dt><dd><p>A single simulation name or a list of simulation names within the APSIM context to inspect.</p>
</dd>
<dt>model_name: str</dt><dd><p>The name of the specific model instance within each simulation. For example, if <code class="docutils literal notranslate"><span class="pre">model_class='Solute'</span></code>,
<code class="docutils literal notranslate"><span class="pre">model_name</span></code> might be ‘NH4’, ‘Urea’, or another solute name.</p>
</dd>
<dt>parameters: Union[str, set, list, tuple], optional</dt><dd><p>A specific parameter or a collection of parameters to inspect. Defaults to <code class="docutils literal notranslate"><span class="pre">'all'</span></code>, in which case all accessible attributes are returned.
For layered models like Solute, valid parameters include <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">InitialValues</span></code>, <code class="docutils literal notranslate"><span class="pre">SoluteBD</span></code>, <code class="docutils literal notranslate"><span class="pre">Thickness</span></code>, etc.</p>
</dd>
<dt>kwargs:</dt><dd><p>Reserved for future compatibility; currently unused.</p>
</dd>
</dl>
</section>
<section id="id184">
<h5>Returns<a class="headerlink" href="#id184" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Union[dict, list, pd.DataFrame, Any]
The format depends on the model type as shown below:</p>
</div></blockquote>
<dl class="simple">
<dt>Weather:</dt><dd><p>file path(s) as string(s)</p>
</dd>
<dt>Clock:</dt><dd><p>dictionary with start and end datetime objects (or a single datetime if only one is requested).</p>
</dd>
<dt>Manager:</dt><dd><p>dictionary of script parameters.</p>
</dd>
<dt>Soil-related:</dt><dd><p>pandas DataFrame of layered values.</p>
</dd>
<dt>Report:</dt><dd><p>A dictionary with <code class="docutils literal notranslate"><span class="pre">VariableNames</span></code> and <code class="docutils literal notranslate"><span class="pre">EventNames</span></code>.</p>
</dd>
</dl>
<p>Cultivar:
dictionary of parameter strings.</p>
</section>
<section id="id185">
<h5>Raises<a class="headerlink" href="#id185" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the specified model or simulation is not found or arguments are invalid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code></dt><dd><p>If the model type is unsupported by the current interface.</p>
</dd>
</dl>
</section>
<section id="id186">
<h5>Requirements<a class="headerlink" href="#id186" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>APSIM Next Generation Python bindings (<code class="docutils literal notranslate"><span class="pre">apsimNGpy</span></code>)</p></li>
<li><p>Python 3.10+</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model_instance</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Inspect full soil <code class="docutils literal notranslate"><span class="pre">Organic</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">)</span>
   <span class="n">CNR</span>  <span class="n">Carbon</span>      <span class="n">Depth</span>  <span class="n">FBiom</span>  <span class="o">...</span>         <span class="n">FOM</span>  <span class="n">Nitrogen</span>  <span class="n">SoilCNRatio</span>  <span class="n">Thickness</span>
<span class="mi">0</span>  <span class="mf">12.0</span>    <span class="mf">1.20</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>   <span class="mf">0.04</span>  <span class="o">...</span>  <span class="mf">347.129032</span>     <span class="mf">0.100</span>         <span class="mf">12.0</span>      <span class="mf">150.0</span>
<span class="mi">1</span>  <span class="mf">12.0</span>    <span class="mf">0.96</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>   <span class="mf">0.02</span>  <span class="o">...</span>  <span class="mf">270.344362</span>     <span class="mf">0.080</span>         <span class="mf">12.0</span>      <span class="mf">150.0</span>
<span class="mi">2</span>  <span class="mf">12.0</span>    <span class="mf">0.60</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>   <span class="mf">0.02</span>  <span class="o">...</span>  <span class="mf">163.972144</span>     <span class="mf">0.050</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">3</span>  <span class="mf">12.0</span>    <span class="mf">0.30</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>   <span class="mf">0.02</span>  <span class="o">...</span>   <span class="mf">99.454133</span>     <span class="mf">0.025</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">4</span>  <span class="mf">12.0</span>    <span class="mf">0.18</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">60.321981</span>     <span class="mf">0.015</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mf">12.0</span>    <span class="mf">0.12</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">36.587131</span>     <span class="mf">0.010</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mf">12.0</span>    <span class="mf">0.12</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>   <span class="mf">0.01</span>  <span class="o">...</span>   <span class="mf">22.191217</span>     <span class="mf">0.010</span>         <span class="mf">12.0</span>      <span class="mf">300.0</span>
<span class="p">[</span><span class="mi">7</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">9</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect soil <code class="docutils literal notranslate"><span class="pre">Physical</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Physical&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Physical&#39;</span><span class="p">)</span>
    <span class="n">AirDry</span>        <span class="n">BD</span>       <span class="n">DUL</span>  <span class="o">...</span>        <span class="n">SWmm</span> <span class="n">Thickness</span>  <span class="n">ThicknessCumulative</span>
<span class="mi">0</span>  <span class="mf">0.130250</span>  <span class="mf">1.010565</span>  <span class="mf">0.521000</span>  <span class="o">...</span>   <span class="mf">78.150033</span>     <span class="mf">150.0</span>                <span class="mf">150.0</span>
<span class="mi">1</span>  <span class="mf">0.198689</span>  <span class="mf">1.071456</span>  <span class="mf">0.496723</span>  <span class="o">...</span>   <span class="mf">74.508522</span>     <span class="mf">150.0</span>                <span class="mf">300.0</span>
<span class="mi">2</span>  <span class="mf">0.280000</span>  <span class="mf">1.093939</span>  <span class="mf">0.488438</span>  <span class="o">...</span>  <span class="mf">146.531282</span>     <span class="mf">300.0</span>                <span class="mf">600.0</span>
<span class="mi">3</span>  <span class="mf">0.280000</span>  <span class="mf">1.158613</span>  <span class="mf">0.480297</span>  <span class="o">...</span>  <span class="mf">144.089091</span>     <span class="mf">300.0</span>                <span class="mf">900.0</span>
<span class="mi">4</span>  <span class="mf">0.280000</span>  <span class="mf">1.173012</span>  <span class="mf">0.471584</span>  <span class="o">...</span>  <span class="mf">141.475079</span>     <span class="mf">300.0</span>               <span class="mf">1200.0</span>
<span class="mi">5</span>  <span class="mf">0.280000</span>  <span class="mf">1.162873</span>  <span class="mf">0.457071</span>  <span class="o">...</span>  <span class="mf">137.121171</span>     <span class="mf">300.0</span>               <span class="mf">1500.0</span>
<span class="mi">6</span>  <span class="mf">0.280000</span>  <span class="mf">1.187495</span>  <span class="mf">0.452332</span>  <span class="o">...</span>  <span class="mf">135.699528</span>     <span class="mf">300.0</span>               <span class="mf">1800.0</span>
<span class="p">[</span><span class="mi">7</span> <span class="n">rows</span> <span class="n">x</span> <span class="mi">17</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect soil <code class="docutils literal notranslate"><span class="pre">Chemical</span></code> profile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Chemical&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Chemical&#39;</span><span class="p">)</span>
   <span class="n">Depth</span>   <span class="n">PH</span>  <span class="n">Thickness</span>
<span class="mi">0</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>  <span class="mf">8.0</span>      <span class="mf">150.0</span>
<span class="mi">1</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>  <span class="mf">8.0</span>      <span class="mf">150.0</span>
<span class="mi">2</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">3</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">4</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>  <span class="mf">8.0</span>      <span class="mf">300.0</span>
</pre></div>
</div>
<p>Inspect one or more specific parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Carbon&#39;</span><span class="p">)</span>
  <span class="n">Carbon</span>
<span class="mi">0</span>    <span class="mf">1.20</span>
<span class="mi">1</span>    <span class="mf">0.96</span>
<span class="mi">2</span>    <span class="mf">0.60</span>
<span class="mi">3</span>    <span class="mf">0.30</span>
<span class="mi">4</span>    <span class="mf">0.18</span>
<span class="mi">5</span>    <span class="mf">0.12</span>
<span class="mi">6</span>    <span class="mf">0.12</span>
</pre></div>
</div>
<p>Inspect more than one specific properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Organic&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Carbon&#39;</span><span class="p">,</span> <span class="s1">&#39;CNR&#39;</span><span class="p">])</span>
   <span class="n">Carbon</span>   <span class="n">CNR</span>
<span class="mi">0</span>    <span class="mf">1.20</span>  <span class="mf">12.0</span>
<span class="mi">1</span>    <span class="mf">0.96</span>  <span class="mf">12.0</span>
<span class="mi">2</span>    <span class="mf">0.60</span>  <span class="mf">12.0</span>
<span class="mi">3</span>    <span class="mf">0.30</span>  <span class="mf">12.0</span>
<span class="mi">4</span>    <span class="mf">0.18</span>  <span class="mf">12.0</span>
<span class="mi">5</span>    <span class="mf">0.12</span>  <span class="mf">12.0</span>
<span class="mi">6</span>    <span class="mf">0.12</span>  <span class="mf">12.0</span>
</pre></div>
</div>
<p>Inspect Report module attributes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Report&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
 <span class="p">{</span><span class="s1">&#39;EventNames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[Maize].Harvesting&#39;</span><span class="p">],</span>
<span class="s1">&#39;VariableNames&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Phenology.CurrentStageName&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].AboveGround.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].AboveGround.N&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Total.Wt*10 as Yield&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Size&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.NumberFunction&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.Total.Wt&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Grain.N&#39;</span><span class="p">,</span>
<span class="s1">&#39;[Maize].Total.Wt&#39;</span><span class="p">]}</span>
</pre></div>
</div>
<p>Specify only EventNames:</p>
<blockquote>
<div><p>model_instance.inspect_model_parameters(‘Report’, simulations=’Simulation’, model_name=’Report’, parameters=’EventNames’)
{‘EventNames’: [‘[Maize].Harvesting’]}</p>
</div></blockquote>
<p>Inspect a weather file path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Weather&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Weather&#39;</span><span class="p">)</span>
<span class="s1">&#39;</span><span class="si">%r</span><span class="s1">oot%/Examples/WeatherFiles/AU_Dalby.met&#39;</span>
</pre></div>
</div>
<p>Inspect manager script parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Crop&#39;</span><span class="p">:</span> <span class="s1">&#39;Maize&#39;</span><span class="p">,</span>
<span class="s1">&#39;StartDate&#39;</span><span class="p">:</span> <span class="s1">&#39;1-nov&#39;</span><span class="p">,</span>
<span class="s1">&#39;EndDate&#39;</span><span class="p">:</span> <span class="s1">&#39;10-jan&#39;</span><span class="p">,</span>
<span class="s1">&#39;MinESW&#39;</span><span class="p">:</span> <span class="s1">&#39;100.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;MinRain&#39;</span><span class="p">:</span> <span class="s1">&#39;25.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;RainDays&#39;</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span>
<span class="s1">&#39;CultivarName&#39;</span><span class="p">:</span> <span class="s1">&#39;Dekalb_XL82&#39;</span><span class="p">,</span>
<span class="s1">&#39;SowingDepth&#39;</span><span class="p">:</span> <span class="s1">&#39;30.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;RowSpacing&#39;</span><span class="p">:</span> <span class="s1">&#39;750.0&#39;</span><span class="p">,</span>
<span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect manager script by specifying one or more parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Manager&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Sow using a variable rule&#39;</span><span class="p">,</span>
<span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s1">&#39;10&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect cultivar parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">)</span> <span class="c1"># lists all path specifications for B_110 parameters abd their values</span>
<span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;B_110&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;[Phenology].Juvenile.Target.FixedValue&#39;</span><span class="p">:</span> <span class="s1">&#39;210&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect surface organic matter module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Surface.SurfaceOrganicMatter&#39;</span><span class="p">,</span>
<span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;NH4&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">:</span> <span class="mf">500.0</span><span class="p">,</span>
 <span class="s1">&#39;StandingWt&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;Cover&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;LabileP&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;LyingWt&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialCNR&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
 <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;InitialCPR&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;SurfOM&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">System</span><span class="o">.</span><span class="n">Collections</span><span class="o">.</span><span class="n">Generic</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">SurfOrganicMatterType</span><span class="p">]</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x000001DABDBB58C0</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;NO3&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect a few parameters as needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Models.Surface.SurfaceOrganicMatter&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="o">...</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;SurfaceOrganicMatter&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;InitialCNR&#39;</span><span class="p">,</span> <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">})</span>
<span class="p">{</span><span class="s1">&#39;InitialCNR&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span> <span class="s1">&#39;InitialResidueMass&#39;</span><span class="p">:</span> <span class="mf">500.0</span><span class="p">}</span>
</pre></div>
</div>
<p>Inspect a clock:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;End&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="s1">&#39;Start&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
</pre></div>
</div>
<p>Inspect a few Clock parameters as needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;End&#39;</span><span class="p">)</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Access specific components of the datetime object e.g., year, month, day, hour, minute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span>
<span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">year</span> <span class="c1"># gets the start year only</span>
<span class="mi">1990</span>
</pre></div>
</div>
<p>Inspect solute models:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Urea&#39;</span><span class="p">)</span>
       <span class="n">Depth</span>  <span class="n">InitialValues</span>  <span class="n">SoluteBD</span>  <span class="n">Thickness</span>
<span class="mi">0</span>      <span class="mi">0</span><span class="o">-</span><span class="mi">150</span>            <span class="mf">0.0</span>  <span class="mf">1.010565</span>      <span class="mf">150.0</span>
<span class="mi">1</span>    <span class="mi">150</span><span class="o">-</span><span class="mi">300</span>            <span class="mf">0.0</span>  <span class="mf">1.071456</span>      <span class="mf">150.0</span>
<span class="mi">2</span>    <span class="mi">300</span><span class="o">-</span><span class="mi">600</span>            <span class="mf">0.0</span>  <span class="mf">1.093939</span>      <span class="mf">300.0</span>
<span class="mi">3</span>    <span class="mi">600</span><span class="o">-</span><span class="mi">900</span>            <span class="mf">0.0</span>  <span class="mf">1.158613</span>      <span class="mf">300.0</span>
<span class="mi">4</span>   <span class="mi">900</span><span class="o">-</span><span class="mi">1200</span>            <span class="mf">0.0</span>  <span class="mf">1.173012</span>      <span class="mf">300.0</span>
<span class="mi">5</span>  <span class="mi">1200</span><span class="o">-</span><span class="mi">1500</span>            <span class="mf">0.0</span>  <span class="mf">1.162873</span>      <span class="mf">300.0</span>
<span class="mi">6</span>  <span class="mi">1500</span><span class="o">-</span><span class="mi">1800</span>            <span class="mf">0.0</span>  <span class="mf">1.187495</span>      <span class="mf">300.0</span>

<span class="n">model_instance</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s1">&#39;Solute&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;NH4&#39;</span><span class="p">,</span>
<span class="n">parameters</span><span class="o">=</span><span class="s1">&#39;InitialValues&#39;</span><span class="p">)</span>
    <span class="n">InitialValues</span>
<span class="mi">0</span> <span class="mf">0.1</span>
<span class="mi">1</span> <span class="mf">0.1</span>
<span class="mi">2</span> <span class="mf">0.1</span>
<span class="mi">3</span> <span class="mf">0.1</span>
<span class="mi">4</span> <span class="mf">0.1</span>
<span class="mi">5</span> <span class="mf">0.1</span>
<span class="mi">6</span> <span class="mf">0.1</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path">
<span class="sig-name descname"><span class="pre">inspect_model_parameters_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters_by_path" title="Link to this definition"></a></dt>
<dd><p>Inspect and extract parameters from a model component specified by its path.</p>
<section id="id187">
<h6>Parameters:<a class="headerlink" href="#id187" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>path: str required</dt><dd><p>The path relative to the Models.Core.Simulations Node</p>
</dd>
<dt>parameters: Union[str, set, list, tuple], optional</dt><dd><p>A specific parameter or a collection of parameters to inspect. Defaults to <code class="docutils literal notranslate"><span class="pre">'all'</span></code>, in which case all accessible attributes are returned.
For layered models like Solute, valid parameters include <code class="docutils literal notranslate"><span class="pre">Depth</span></code>, <code class="docutils literal notranslate"><span class="pre">InitialValues</span></code>, <code class="docutils literal notranslate"><span class="pre">SoluteBD</span></code>, <code class="docutils literal notranslate"><span class="pre">Thickness</span></code>, etc.</p>
</dd>
<dt>kwargs:</dt><dd><p>Reserved for future compatibility; currently unused.</p>
</dd>
</dl>
</section>
<section id="id188">
<h6>Returns<a class="headerlink" href="#id188" title="Link to this heading"></a></h6>
<blockquote>
<div><p>Union[dict, list, pd.DataFrame, Any]
The format depends on the model type as shown below:</p>
</div></blockquote>
<dl class="simple">
<dt>Weather:</dt><dd><p>file path(s) as string(s)</p>
</dd>
<dt>Clock:</dt><dd><p>dictionary with start and end datetime objects (or a single datetime if only one is requested).</p>
</dd>
<dt>Manager:</dt><dd><p>dictionary of script parameters.</p>
</dd>
<dt>Soil-related:</dt><dd><p>pandas DataFrame of layered values.</p>
</dd>
<dt>Report:</dt><dd><p>A dictionary with <code class="docutils literal notranslate"><span class="pre">VariableNames</span></code> and <code class="docutils literal notranslate"><span class="pre">EventNames</span></code>.</p>
</dd>
</dl>
<p>Cultivar:
dictionary of parameter strings.</p>
</section>
<section id="id189">
<h6>Raises<a class="headerlink" href="#id189" title="Link to this heading"></a></h6>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the specified model or simulation is not found or arguments are invalid.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code></dt><dd><p>If the model type is unsupported by the current interface.</p>
</dd>
</dl>
</section>
<section id="id190">
<h6>Requirements<a class="headerlink" href="#id190" title="Link to this heading"></a></h6>
<ul class="simple">
<li><p>APSIM Next Generation Python bindings (<code class="docutils literal notranslate"><span class="pre">apsimNGpy</span></code>)</p></li>
<li><p>Python 3.10+</p></li>
</ul>
</section>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a>
Others: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a>, <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="apsimNGpy.core.apsim.ApsimModel.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.edit_cultivar">
<span class="sig-name descname"><span class="pre">edit_cultivar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CultivarName:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commands:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values:</span> <span class="pre">'Any'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_cultivar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated
Edits the parameters of a given cultivar. we don’t need a simulation name for this unless if you are defining it in the
manager section, if that it is the case, see update_mgt.</p>
<dl class="simple">
<dt>Requires:</dt><dd><p>required a replacement for the crops</p>
</dd>
</dl>
<p>Args:</p>
<blockquote>
<div><ul class="simple">
<li><p>CultivarName (str, required): Name of the cultivar (e.g., ‘laila’).</p></li>
<li><p>variable_spec (str, required): A strings representing the parameter paths to be edited.</p></li>
</ul>
</div></blockquote>
<p>Returns: instance of the class CoreModel or ApsimModel</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="p">(</span><span class="s1">&#39;[Grain].MaximumGrainsPerCob.FixedValue&#39;</span><span class="p">,</span> <span class="s1">&#39;[Phenology].GrainFilling.Target.FixedValue&#39;</span><span class="p">)</span>

<span class="o">-</span> <span class="n">values</span><span class="p">:</span> <span class="n">values</span> <span class="k">for</span> <span class="n">each</span> <span class="n">command</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="p">,</span> <span class="p">(</span><span class="mi">721</span><span class="p">,</span> <span class="mi">760</span><span class="p">))</span><span class="o">.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.update_cultivar">
<span class="sig-name descname"><span class="pre">update_cultivar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters:</span> <span class="pre">'dict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_cultivar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Update cultivar parameters</p>
<blockquote>
<div></div></blockquote>
<dl class="simple">
<dt>parameters:  (dict, required)</dt><dd><p>dictionary of cultivar parameters to update.</p>
</dd>
<dt>simulations<span class="classifier">str optional</span></dt><dd><p>List or tuples of simulation names to update if <code class="docutils literal notranslate"><span class="pre">None</span></code> update all simulations.</p>
</dd>
<dt>clear (bool, optional)</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> remove all existing parameters, by default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.recompile_edited_model">
<span class="sig-name descname"><span class="pre">recompile_edited_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path:</span> <span class="pre">'os.PathLike')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.recompile_edited_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
<section id="id191">
<h4>Args:<a class="headerlink" href="#id191" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">out_path</span></code>: os.PathLike object this method is called to convert the simulation object from ConverterReturnType to model like object</p>
<p><code class="docutils literal notranslate"><span class="pre">return:</span></code> self</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt_by_path">
<span class="sig-name descname"><span class="pre">update_mgt_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt='.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id192">
<h4>Parameters<a class="headerlink" href="#id192" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>path: str</dt><dd><p>A complete node path to the script manager e.g. ‘.Simulations.Simulation.Field.Sow using a variable rule’</p>
</dd>
<dt>fmt: str</dt><dd><p>seperator for formatting the path e.g., “.”. Other characters can be used with
caution, e.g., / and clearly declared in fmt argument. If you want to use the forward slash, it will be ‘/Simulations/Simulation/Field/Sow using a variable rule’, fmt = ‘/’</p>
</dd>
<dt><a href="#id193"><span class="problematic" id="id194">**</span></a>kwargs:</dt><dd><p>Corresponding keyword arguments representing the paramters in the script manager and their values. Values is what you want
to change to; Example here <code class="docutils literal notranslate"><span class="pre">Population</span></code> =8.2, values should be entered with their corresponding data types e.g.,
int, float, bool,str etc.</p>
</dd>
</dl>
<section id="id195">
<h5>Returns:<a class="headerlink" href="#id195" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Instance of apsimNgpy.core.ApsimModel or apsimNgpy.core.experimentmanager.ExperimentManager</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replace_model_from">
<span class="sig-name descname"><span class="pre">replace_model_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_model_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_model_from" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>&#64;deprecated and will be removed
function has not been maintained for a long time, use it at your own risk</p>
<p>Replace a model, e.g., a soil model with another soil model from another APSIM model.
The method assumes that the model to replace is already loaded in the current model and the same class as a source model.
e.g., a soil node to soil node, clock node to clock node, et.c</p>
</section>
<section id="id196">
<h5>Parameters:<a class="headerlink" href="#id196" title="Link to this heading"></a></h5>
<blockquote>
<div><p>model: Path to the APSIM model file or a CoreModel instance.</p>
<dl class="simple">
<dt>model_type: (str):</dt><dd><p>Class name (as string) of the model to replace (e.g., “Soil”).</p>
</dd>
<dt>model_name: (str, optional)</dt><dd><p>Name of the model instance to copy from the source model.
If not provided, the first match is used.</p>
</dd>
<dt>target_model_name: (str, optional)</dt><dd><p>Specific simulation name to target for replacement.
Only used when replacing Simulation-level objects.</p>
</dd>
<dt>simulations (str, optional):</dt><dd><p>Simulation(s) to operate on. If None, applies to all.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>self: To allow method chaining.</p>
</dd>
<dt>Raises:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code>: If <code class="docutils literal notranslate"><span class="pre">model_class</span></code> is “Simulations” which is not allowed for replacement.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt">
<span class="sig-name descname"><span class="pre">update_mgt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">management:</span> <span class="pre">'Union[dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out:</span> <span class="pre">'[Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reload:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.update_mgt" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Update management settings in the model. This method handles one management parameter at a time.</p>
</section>
<section id="id197">
<h5>Parameters<a class="headerlink" href="#id197" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>management: dict or tuple</dt><dd><p>A dictionary or tuple of management parameters to update. The dictionary should have ‘Name’ as the key
for the management script’s name and corresponding values to update. Lists are not allowed as they are mutable
and may cause issues with parallel processing. If a tuple is provided, it should be in the form (param_name, param_value).</p>
</dd>
<dt>simulations: list of str, optional</dt><dd><p>List of simulation names to update. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, updates all simulations. This is not recommended for large
numbers of simulations as it may result in a high computational load.</p>
</dd>
<dt>out: str or pathlike, optional</dt><dd><p>Path to save the edited model. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, uses the default output path specified in <code class="docutils literal notranslate"><span class="pre">self.out_path</span></code> or
<code class="docutils literal notranslate"><span class="pre">self.model_info.path</span></code>. No need to call <code class="docutils literal notranslate"><span class="pre">save_edited_file</span></code> after updating, as this method handles saving.</p>
</dd>
</dl>
</section>
<section id="id198">
<h5>Returns<a class="headerlink" href="#id198" title="Link to this heading"></a></h5>
<blockquote>
<div><p>Returns the instance of the respective model class for method chaining.</p>
</div></blockquote>
<p>..note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Ensure that the `management` parameter is provided in the correct format to avoid errors. -
This method does not perform `validation` on the provided `management` dictionary beyond checking for key
existence. - If the specified management script or parameters do not exist, they will be ignored.
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.preview_simulation">
<span class="sig-name descname"><span class="pre">preview_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">watch=False)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.preview_simulation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Open the current simulation in the APSIM Next Gen GUI.</p>
<p>This first saves the in-memory simulation to <code class="docutils literal notranslate"><span class="pre">out_path</span></code> and then launches
the APSIM Next Gen GUI (via <code class="xref py py-func docutils literal notranslate"><span class="pre">get_apsim_bin_path()</span></code>) so you can inspect
the model tree and make quick edits side by side.</p>
</section>
<section id="id199">
<h5>Parameters<a class="headerlink" href="#id199" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>watch<span class="classifier">bool, default False</span></dt><dd><p>If True, Python will listen for GUI edits and sync them back into the
model instance in (near) real time. This feature is experimental.</p>
</dd>
</dl>
</section>
<section id="id200">
<h5>Returns<a class="headerlink" href="#id200" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>None</dt><dd><p>This function performs a side effect (opening the GUI) and does not
return a value.</p>
</dd>
</dl>
</section>
<section id="id201">
<h5>Raises<a class="headerlink" href="#id201" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If the file does not exist after <code class="docutils literal notranslate"><span class="pre">save()</span></code>.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the APSIM Next Gen executable cannot be located or the GUI fails to start.</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The file opened in the GUI is a <em>saved copy</em> of this Python object.
Changes made in the GUI are <strong>not</strong> propagated back to the
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel" title="apsimNGpy.core.apsim.ApsimModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ApsimModel</span></code></a> instance unless you set
<code class="docutils literal notranslate"><span class="pre">watch=True</span></code>.
Otherwise, to continue working in Python with GUI edits, save the file in APSIM
and re-load it, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;gui_edited_file_path.apsimx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="id202">
<h5>Examples<a class="headerlink" href="#id202" title="Link to this heading"></a></h5>
<p><strong>1. Preview only</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="s2">&quot;test_.apsimx&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/gui.png" id="id203"><img alt="Tree structure of the APSIM model" class="align-center" id="id203" src="_images/gui.png" style="width: 98%;" />
</a>
<p><strong>2. Preview and edit simultaneously</strong></p>
<p>After opening the APSIMX file in the GUI via the watching mode (<code class="docutils literal notranslate"><span class="pre">watch=True</span></code>), you can modify any parameters using GUI interface. The Example given below involved changing parameters such as
<strong>Plant population (/m²)</strong>, <strong>Cultivar to be sown</strong>, and <strong>Row spacing (mm)</strong>
in the <em>Sow using a variable rule</em> script and finally, checked whether the changes were successful by inspecting the model.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">preview_simulation</span><span class="p">(</span><span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/gui_watch_changes.png" id="id204"><img alt="Tree structure of the APSIM model (watch mode)" class="align-center" id="id204" src="_images/gui_watch_changes.png" style="width: 98%;" />
</a>
<p><strong>Example console output when</strong> <code class="docutils literal notranslate"><span class="pre">watch=True</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2025-10-24 13:05:08,480 - INFO - Watching for GUI edits...
Save in APSIM to sync back.
2025-10-24 13:05:08,490 - INFO - Press Ctrl+C in this cell to stop.
APSIM GUI saved. Syncing model...
2025-10-24 13:05:24,112 - INFO - Watching terminated successfully.
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">watch=True</span></code>, follow the console instructions.
One critical step is that you <strong>must press</strong> <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> to stop watching.</p>
<p><strong>Checking if changes were successfully propagated back</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="s2">&quot;Models.Manager&quot;</span><span class="p">,</span> <span class="s2">&quot;Sow using a variable rule&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;Crop&#39;: &#39;[Maize]&#39;,
 &#39;StartDate&#39;: &#39;1-nov&#39;,
 &#39;EndDate&#39;: &#39;10-jan&#39;,
 &#39;MinESW&#39;: &#39;100&#39;,
 &#39;MinRain&#39;: &#39;25&#39;,
 &#39;RainDays&#39;: &#39;7&#39;,
 &#39;CultivarName&#39;: &#39;B_95&#39;,
 &#39;SowingDepth&#39;: &#39;25&#39;,
 &#39;RowSpacing&#39;: &#39;700&#39;,
 &#39;Population&#39;: &#39;4&#39;}
</pre></div>
</div>
<p>Depending on your environment, you may need to close the GUI window to continue
or follow the prompts shown after termination.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replace_met_file">
<span class="sig-name descname"><span class="pre">replace_met_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weather_file:</span> <span class="pre">'Union[Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">&quot;'Self'&quot;</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_met_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.**x**: </span>This helper will be removed in a future release. Prefer newer weather
configuration utilities or set the <code class="docutils literal notranslate"><span class="pre">FileName</span></code> property on weather nodes
directly.</p>
</div>
<p>Replace the <code class="docutils literal notranslate"><span class="pre">FileName</span></code> of every <code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node under one
or more simulations so they point to a new <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
<p>This method traverses the APSIM NG model tree under each selected simulation and
updates the weather component(s) in-place. Version-aware traversal is used:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">APSIM_VERSION_NO</span> <span class="pre">&gt;</span> <span class="pre">BASE_RELEASE_NO</span></code> <strong>or</strong>
<code class="docutils literal notranslate"><span class="pre">APSIM_VERSION_NO</span> <span class="pre">==</span> <span class="pre">GITHUB_RELEASE_NO</span></code>: use
<code class="xref py py-func docutils literal notranslate"><span class="pre">ModelTools.find_all_in_scope()</span></code> to find
<code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> nodes.</p></li>
<li><p>Otherwise: fall back to <code class="docutils literal notranslate"><span class="pre">sim.FindAllDescendants[Models.Climate.Weather]()</span></code>.</p></li>
</ul>
</section>
<section id="id205">
<h5>Parameters<a class="headerlink" href="#id205" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>weather_file<span class="classifier">Union[pathlib.Path, str]</span></dt><dd><p>Path to the <code class="docutils literal notranslate"><span class="pre">.met</span></code> file. May be absolute or relative to the current
working directory. The path must exist at call time; otherwise a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileNotFoundError</span></code></a> is raised.</p>
</dd>
<dt>simulations<span class="classifier">Any, optional</span></dt><dd><p>Simulation selector forwarded to <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code>. If left as
<code class="docutils literal notranslate"><span class="pre">MissingOption</span></code> (default) (or if your implementation accepts <code class="docutils literal notranslate"><span class="pre">None</span></code>),
all simulations yielded by <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> are updated.
Acceptable types depend on your <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> contract
(e.g., iterable of names, single name, or sentinel).</p>
</dd>
<dt><a href="#id206"><span class="problematic" id="id207">**</span></a>kwargs</dt><dd><p>Ignored. Reserved for backward compatibility and future extensions.</p>
</dd>
</dl>
</section>
<section id="id208">
<h5>Returns<a class="headerlink" href="#id208" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>Self</dt><dd><p>The current model/manager instance to support method chaining.</p>
</dd>
</dl>
</section>
<section id="id209">
<h5>Raises<a class="headerlink" href="#id209" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">weather_file</span></code> does not exist.</p>
</dd>
<dt>Exception</dt><dd><p>Any exception raised by <code class="xref py py-meth docutils literal notranslate"><span class="pre">find_simulations()</span></code> or underlying APSIM
traversal utilities is propagated unchanged.</p>
</dd>
</dl>
</section>
<section id="id210">
<h5>Side Effects<a class="headerlink" href="#id210" title="Link to this heading"></a></h5>
<p>Mutates the model by setting <code class="docutils literal notranslate"><span class="pre">met.FileName</span> <span class="pre">=</span> <span class="pre">os.path.realpath(weather_file)</span></code>
for each matched <code class="xref py py-class docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node.</p>
</section>
<section id="id211">
<h5>Notes<a class="headerlink" href="#id211" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><strong>No-op safety:</strong> If a simulation has no Weather nodes, that simulation
is silently skipped.</p></li>
<li><p><strong>Path normalization:</strong> The stored path is the canonical real path
(<code class="docutils literal notranslate"><span class="pre">os.path.realpath</span></code>).</p></li>
<li><p><strong>Thread/process safety:</strong> This operation mutates in-memory model state
and is not inherently thread-safe. Coordinate external synchronization if
calling concurrently.</p></li>
</ul>
</section>
<section id="id212">
<h5>Examples<a class="headerlink" href="#id212" title="Link to this heading"></a></h5>
<p>Update all simulations to use a local <code class="docutils literal notranslate"><span class="pre">Ames.met</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">replace_met_file</span><span class="p">(</span><span class="n">weather_file</span><span class="o">=</span><span class="s2">&quot;data/weather/Ames.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update only selected simulations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">replace_met_file</span><span class="p">(</span>
    <span class="n">weather_file</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;~/wx/Boone.met&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(),</span>
    <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Sim_A&quot;</span><span class="p">,</span> <span class="s2">&quot;Sim_B&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id213">
<h5>See Also<a class="headerlink" href="#id213" title="Link to this heading"></a></h5>
<p>find_simulations : Resolve and yield simulation objects by name/selector.
ModelTools.find_all_in_scope : Scope-aware traversal utility.
Models.Climate.Weather : APSIM NG weather component.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_file">
<span class="sig-name descname"><span class="pre">get_weather_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weather_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Point targeted APSIM Weather nodes to a local <code class="docutils literal notranslate"><span class="pre">.met</span></code> file.</p>
<p>The function name mirrors the semantics of <code class="docutils literal notranslate"><span class="pre">get_weather_from_web</span></code> but sources the weather
from disk. If the provided path lacks the <code class="docutils literal notranslate"><span class="pre">.met</span></code> suffix, it is appended.
The file <strong>must</strong> exist on disk.</p>
</section>
<section id="id214">
<h5>Parameters<a class="headerlink" href="#id214" title="Link to this heading"></a></h5>
<dl>
<dt>weather_file: str | Path</dt><dd><p>Path (absolute or relative) to a <code class="docutils literal notranslate"><span class="pre">.met</span></code> file. If the suffix is missing,
<code class="docutils literal notranslate"><span class="pre">.met</span></code> is appended. A <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> is raised if the final path
does not exist. The path is resolved to an absolute path to avoid ambiguity.</p>
</dd>
<dt>simulations: None | str | Iterable[str], optional</dt><dd><p>Which simulations to update:
- <code class="docutils literal notranslate"><span class="pre">None</span></code> (default): update <em>all</em> Weather nodes found under <code class="docutils literal notranslate"><span class="pre">Simulations</span></code>.
- <code class="docutils literal notranslate"><span class="pre">str</span></code> or iterable of names: only update Weather nodes within the named</p>
<blockquote>
<div><p>simulation(s). A <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised if a requested simulation has
no Weather nodes.</p>
</div></blockquote>
</dd>
</dl>
</section>
<section id="id215">
<h5>Returns<a class="headerlink" href="#id215" title="Link to this heading"></a></h5>
<p>Instance of the model for method chaining</p>
</section>
<section id="id216">
<h5>Raises<a class="headerlink" href="#id216" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If the resolved <code class="docutils literal notranslate"><span class="pre">.met</span></code> file does not exist.</p>
</dd>
<dt>ValueError</dt><dd><p>If any requested simulation exists but contains no Weather nodes.</p>
</dd>
</dl>
</section>
<section id="id217">
<h5>Side Effects<a class="headerlink" href="#id217" title="Link to this heading"></a></h5>
<p>Sets <code class="docutils literal notranslate"><span class="pre">w.FileName</span></code> for each targeted <code class="docutils literal notranslate"><span class="pre">Models.Climate.Weather</span></code> node to the
resolved path of <code class="docutils literal notranslate"><span class="pre">weather_file</span></code>. The file is <em>not</em> copied; only the path
inside the APSIM document is changed.</p>
</section>
<section id="id218">
<h5>Notes<a class="headerlink" href="#id218" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>APSIM resolves relative paths relative to the <code class="docutils literal notranslate"><span class="pre">.apsimx</span></code> file. Using an
absolute path (the default here) reduces surprises across working directories.</p></li>
<li><p>Replacement folders that contain Weather nodes are also updated when
<code class="docutils literal notranslate"><span class="pre">simulations</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (i.e., “update everything in scope”).</p></li>
</ul>
</section>
<section id="id219">
<h5>Examples<a class="headerlink" href="#id219" title="Link to this heading"></a></h5>
<p>Update all Weather nodes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_file</span><span class="p">(</span><span class="s2">&quot;data/ames_2020.met&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Update only two simulations (suffix added automatically):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_file</span><span class="p">(</span><span class="s2">&quot;data/ames_2020&quot;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Simulation&quot;</span><span class="p">,))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model()</span></code></a> and <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path" title="apsimNGpy.core.experimentmanager.ExperimentManager.edit_model_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">edit_model_by_path()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_web">
<span class="sig-name descname"><span class="pre">get_weather_from_web</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lonlat:</span> <span class="pre">'tuple'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end:</span> <span class="pre">'int'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source='nasa'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_weather_from_web" title="Link to this definition"></a></dt>
<dd><p>Replaces the weather (met) file in the model using weather data fetched from an online source. Internally, calls get_weather_from_file after downloading the weather</p>
</dd></dl>

</section>
<section id="id220">
<h5>Parameters:<a class="headerlink" href="#id220" title="Link to this heading"></a></h5>
<blockquote>
<div><dl class="simple">
<dt>lonlat: tuple</dt><dd><p>A tuple containing the longitude and latitude coordinates.</p>
</dd>
<dt>start: int</dt><dd><p>Start date for the weather data retrieval.</p>
</dd>
<dt>end: int</dt><dd><p>End date for the weather data retrieval.</p>
</dd>
<dt>simulations: str | list[str] default is all or None list of simulations or a singular simulation</dt><dd><p>name, where to place the weather data, defaults to None, implying <code class="docutils literal notranslate"><span class="pre">all</span></code> the available simulations</p>
</dd>
<dt>source: str default is ‘nasa’</dt><dd><p>Source of the weather data.</p>
</dd>
<dt>filename: str default is generated using the base name of the apsimx file in use, and the start and</dt><dd><p>end years Name of the file to save the retrieved data. If None, a default name is generated.</p>
</dd>
<dt>Returns:</dt><dd><p>model object with the corresponding file replaced with the fetched weather data.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id221">
<h5>Examples<a class="headerlink" href="#id221" title="Link to this heading"></a></h5>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s2">&quot;Maize&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">get_weather_from_web</span><span class="p">(</span><span class="n">lonlat</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">93.885490</span><span class="p">,</span> <span class="mf">42.060650</span><span class="p">),</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">1990</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2001</span><span class="p">)</span>
</pre></div>
</div>
<p>Changing weather data with non-matching start and end dates in the simulation will lead to RuntimeErrors.
To avoid this, first check the start and end date before proceeding as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">inspect_model_parameters</span><span class="p">(</span><span class="n">model_class</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;Clock&#39;</span><span class="p">,</span> <span class="n">simulations</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">dt</span><span class="p">[</span><span class="s1">&#39;Start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">dt</span><span class="p">[</span><span class="s1">&#39;End&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">year</span>
<span class="go"># output: 1990, 2000</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.show_met_file_in_simulation">
<span class="sig-name descname"><span class="pre">show_met_file_in_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.show_met_file_in_simulation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Show weather file for all simulations</p>
<p>&#64;deprecated: use inspect_model_parameters() instead</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.change_report">
<span class="sig-name descname"><span class="pre">change_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name='Report'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_DayAfterLastOutput=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.change_report" title="Link to this definition"></a></dt>
<dd><p>Set APSIM report _variables for specified simulations.</p>
</dd></dl>

<p>This function allows you to set the variable names for an APSIM report
in one or more simulations.</p>
</section>
<section id="id222">
<h5>Parameters<a class="headerlink" href="#id222" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>command: str</dt><dd><p>The new report string that contains variable names.</p>
</dd>
<dt>report_name: str</dt><dd><p>The name of the APSIM report to update defaults to Report.</p>
</dd>
<dt>simulations: list of str, optional</dt><dd><p>A list of simulation names to update. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the function will
update the report for all simulations.</p>
</dd>
</dl>
</section>
<section id="id223">
<h5>Returns<a class="headerlink" href="#id223" title="Link to this heading"></a></h5>
<p>None</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.extract_soil_physical">
<span class="sig-name descname"><span class="pre">extract_soil_physical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.extract_soil_physical" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Find physical soil</p>
</section>
<section id="id224">
<h5>Parameters<a class="headerlink" href="#id224" title="Link to this heading"></a></h5>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">simulation</span></code>, optional</dt><dd><p>Simulation name, if <code class="docutils literal notranslate"><span class="pre">None</span></code> use the first simulation.</p>
</dd>
</dl>
</section>
<section id="id225">
<h5>Returns<a class="headerlink" href="#id225" title="Link to this heading"></a></h5>
<blockquote>
<div><p>APSIM Models.Soils.Physical object</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.extract_any_soil_physical">
<span class="sig-name descname"><span class="pre">extract_any_soil_physical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.extract_any_soil_physical" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Extracts soil physical parameters in the simulation</p>
<dl class="simple">
<dt>Args::</dt><dd><p><code class="docutils literal notranslate"><span class="pre">parameter</span></code> (_string_): string e.g. DUL, SAT
<code class="docutils literal notranslate"><span class="pre">simulations</span></code> (string, optional): Targeted simulation name. Defaults to None.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model">
<span class="sig-name descname"><span class="pre">inspect_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Models]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fullpath=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspect the model types and returns the model paths or names.</p>
</section>
<section id="id226">
<h5>When is it needed?<a class="headerlink" href="#id226" title="Link to this heading"></a></h5>
<blockquote>
<div><p>useful if you want to identify the paths or name of the model for further editing the model e.g., with the <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">edit_model</span></code> method.</p>
</div></blockquote>
</section>
<section id="id227">
<h5>Parameters<a class="headerlink" href="#id227" title="Link to this heading"></a></h5>
<dl>
<dt>model_class<span class="classifier">type | str</span></dt><dd><p>The APSIM model type to search for. You may pass either a class (e.g.,
Models.Clock, Models.Manager) or a string. Strings can be short names
(e.g., “Clock”, “Manager”) or fully qualified (e.g., “Models.Core.Simulation”,
“Models.Climate.Weather”, “Models.Core.IPlant”). Please see from The list of classes
or model types from the <strong>Models</strong> Namespace below. Red represents the modules, and this method</p>
<blockquote>
<div><p>will throw an error if only a module is supplied. The list constitutes the classes or
model types under each module</p>
</div></blockquote>
<dl class="simple">
<dt>Models:</dt><dd><ul class="simple">
<li><p>Models.Clock</p></li>
<li><p>Models.Fertiliser</p></li>
<li><p>Models.Irrigation</p></li>
<li><p>Models.Manager</p></li>
<li><p>Models.Memo</p></li>
<li><p>Models.MicroClimate</p></li>
<li><p>Models.Operations</p></li>
<li><p>Models.Report</p></li>
<li><p>Models.Summary</p></li>
</ul>
</dd>
<dt>Models.Climate:</dt><dd><ul class="simple">
<li><p>Models.Climate.Weather</p></li>
</ul>
</dd>
<dt>Models.Core:</dt><dd><ul class="simple">
<li><p>Models.Core.Folder</p></li>
<li><p>Models.Core.Simulation</p></li>
<li><p>Models.Core.Simulations</p></li>
<li><p>Models.Core.Zone</p></li>
</ul>
</dd>
<dt>Models.Factorial:</dt><dd><ul class="simple">
<li><p>Models.Factorial.Experiment</p></li>
<li><p>Models.Factorial.Factors</p></li>
<li><p>Models.Factorial.Permutation</p></li>
</ul>
</dd>
<dt>Models.PMF:</dt><dd><ul class="simple">
<li><p>Models.PMF.Cultivar</p></li>
<li><p>Models.PMF.Plant</p></li>
</ul>
</dd>
<dt>Models.Soils:</dt><dd><ul class="simple">
<li><p>Models.Soils.Arbitrator.SoilArbitrator</p></li>
<li><p>Models.Soils.CERESSoilTemperature</p></li>
<li><p>Models.Soils.Chemical</p></li>
<li><p>Models.Soils.Nutrients.Nutrient</p></li>
<li><p>Models.Soils.Organic</p></li>
<li><p>Models.Soils.Physical</p></li>
<li><p>Models.Soils.Sample</p></li>
<li><p>Models.Soils.Soil</p></li>
<li><p>Models.Soils.SoilCrop</p></li>
<li><p>Models.Soils.Solute</p></li>
<li><p>Models.Soils.Water</p></li>
</ul>
</dd>
<dt>Models.Storage:</dt><dd><ul class="simple">
<li><p>Models.Storage.DataStore</p></li>
</ul>
</dd>
<dt>Models.Surface:</dt><dd><ul class="simple">
<li><p>Models.Surface.SurfaceOrganicMatter</p></li>
</ul>
</dd>
<dt>Models.WaterModel:</dt><dd><ul class="simple">
<li><p>Models.WaterModel.WaterBalance</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>fullpath<span class="classifier">bool, optional (default: False)</span></dt><dd><p>If False, return the model <em>name</em> only.
If True, return the model’s <em>full path</em> relative to the Simulations root.</p>
</dd>
</dl>
</section>
<section id="id228">
<h5>Returns<a class="headerlink" href="#id228" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>list[str]</dt><dd><p>A list of model names or full paths, depending on <code class="docutils literal notranslate"><span class="pre">fullpath</span></code>.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Models</span>
</pre></div>
</div>
<p>load default <code class="docutils literal notranslate"><span class="pre">maize</span></code> module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the path to all the manager scripts in the simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Manager</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">[</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Sow</span> <span class="n">using</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">rule</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Fertilise</span> <span class="n">at</span>
<span class="n">sowing</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">Simulation</span><span class="o">.</span><span class="n">Field</span><span class="o">.</span><span class="n">Harvest</span><span class="s1">&#39;]</span>
</pre></div>
</div>
<p>Inspect the full path of the Clock Model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Clock</span><span class="p">)</span> <span class="c1"># gets the path to the Clock models</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect the full path to the crop plants in the simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">IPlant</span><span class="p">)</span> <span class="c1"># gets the path to the crop model</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or use the full string path as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">IPlant</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># gets you the name of the crop Models</span>
<span class="p">[</span><span class="s1">&#39;Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Get the full path to the fertilizer model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="n">Models</span><span class="o">.</span><span class="n">Fertiliser</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Fertiliser&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The models from APSIM Models namespace are abstracted to use strings. All you need is to specify the name or the full path to the model enclosed in a stirng as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Clock&#39;</span><span class="p">)</span> <span class="c1"># get the path to the clock model</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Alternatively, you can do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Clock&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Clock&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Repeat inspection of the plant model while using a <code class="docutils literal notranslate"><span class="pre">string</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;IPlant&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Field.Maize&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Inspect using the full model namespace path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Core.IPlant&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>What about the weather model?:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Weather&#39;</span><span class="p">)</span> <span class="c1"># inspects the weather module</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Weather&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Alternative:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># or inspect using full model namespace path</span>
<span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.Climate.Weather&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;.Simulations.Simulation.Weather&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Try finding the path to the cultivar model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Cultivar&#39;</span><span class="p">,</span> <span class="n">fullpath</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># list all available cultivar names</span>
<span class="p">[</span><span class="s1">&#39;Hycorn_53&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_33M54&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_38H20&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_34K77&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_39V43&#39;</span><span class="p">,</span><span class="s1">&#39;Atrium&#39;</span><span class="p">,</span> <span class="s1">&#39;Laila&#39;</span><span class="p">,</span> <span class="s1">&#39;GH_5019WX&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p># we can get only the names of the cultivar models using the full string path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_model</span><span class="p">(</span><span class="s1">&#39;Models.PMF.Cultivar&#39;</span><span class="p">,</span> <span class="n">fullpath</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;Hycorn_53&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_33M54&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_38H20&#39;</span><span class="p">,</span><span class="s1">&#39;Pioneer_34K77&#39;</span><span class="p">,</span> <span class="s1">&#39;Pioneer_39V43&#39;</span><span class="p">,</span><span class="s1">&#39;Atrium&#39;</span><span class="p">,</span> <span class="s1">&#39;Laila&#39;</span><span class="p">,</span> <span class="s1">&#39;GH_5019WX&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<dl class="simple">
<dt>Models can be inspected either by importing the Models namespace or by using string paths. The most reliable</dt><dd><p>approach is to provide the full model path—either as a string or as the <code class="docutils literal notranslate"><span class="pre">Models</span></code> object.</p>
</dd>
<dt>However, remembering full paths can be tedious, so allowing partial model names or references can significantly</dt><dd><p>save time during development and exploration.</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>You do not need to import <code class="docutils literal notranslate"><span class="pre">Models</span></code> if you pass a string; both short and
fully qualified names are supported.</p></li>
<li><p>“Full path” is the APSIM tree path <strong>relative to the Simulations node</strong>
(be mindful of the difference between <em>Simulations</em> (root) and an individual
<em>Simulation</em>).</p></li>
</ul>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs:
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_file" title="apsimNGpy.core.apsim.ApsimModel.inspect_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_file()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a>,
<a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters_by_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters_by_path()</span></code></a></p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.configs">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.configs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>records activities or modifications to the model including changes to the file</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replace_soils_values_by_path">
<span class="sig-name descname"><span class="pre">replace_soils_values_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_soils_values_by_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>set the new values of the specified soil object by path. only layers parameters are supported.</p>
<p>Unfortunately, it handles one soil child at a time e.g., <code class="docutils literal notranslate"><span class="pre">Physical</span></code> at a go</p>
</section>
<section id="id229">
<h5>Parameters:<a class="headerlink" href="#id229" title="Link to this heading"></a></h5>
<dl>
<dt>node_path: (str, required):</dt><dd><p>complete path to the soil child of the Simulations e.g.,Simulations.Simulation.Field.Soil.Organic.
Use`copy path to node function in the GUI to get the real path of the soil node.</p>
</dd>
<dt>indices: (list, optional)</dt><dd><p>defaults to none but could be the position of the replacement values for arrays</p>
</dd>
<dt><a href="#id230"><span class="problematic" id="id231">**</span></a>kwargs: (key word arguments)</dt><dd><blockquote>
<div><p>This carries the parameter and the values e.g., BD = 1.23 or BD = [1.23, 1.75]
if the child is <code class="docutils literal notranslate"><span class="pre">Physical</span></code>, or <code class="docutils literal notranslate"><span class="pre">Carbon</span></code> if the child is <code class="docutils literal notranslate"><span class="pre">Organic</span></code></p>
</div></blockquote>
<p>raises:
<a href="#id232"><span class="problematic" id="id233">`</span></a>ValueError if none of the key word arguments, representing the paramters are specified</p>
<dl class="simple">
<dt>returns:</dt><dd><ul class="simple">
<li><p>Instance of the model object</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.base_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_default_simulations</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span> <span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">,</span> <span class="n">simulations_object</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># initiate model.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">CoreModel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span> <span class="c1"># ``replace`` with your intended file path</span>
<span class="n">model</span><span class="o">.</span><span class="n">replace_soils_values_by_path</span><span class="p">(</span><span class="n">node_path</span><span class="o">=</span><span class="s1">&#39;.Simulations.Simulation.Field.Soil.Organic&#39;</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Carbon</span> <span class="o">=</span><span class="mf">1.3</span><span class="p">)</span>
<span class="n">sv</span><span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_soil_values_by_path</span><span class="p">(</span><span class="s1">&#39;.Simulations.Simulation.Field.Soil.Organic&#39;</span><span class="p">,</span> <span class="s1">&#39;Carbon&#39;</span><span class="p">)</span>
<span class="n">output</span> <span class="c1"># {&#39;Carbon&#39;: [1.3, 0.96, 0.6, 0.3, 0.18, 0.12, 0.12]}</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.replace_soil_property_values">
<span class="sig-name descname"><span class="pre">replace_soil_property_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_values:</span> <span class="pre">'list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">soil_child:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulations:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.replace_soil_property_values" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Replaces values in any soil property array. The soil property array.</p>
<p><code class="docutils literal notranslate"><span class="pre">parameter</span></code>: str: parameter name e.g., NO3, ‘BD’</p>
<p><code class="docutils literal notranslate"><span class="pre">param_values</span></code>: list or tuple: values of the specified soil property name to replace</p>
<p><code class="docutils literal notranslate"><span class="pre">soil_child</span></code>: str: sub child of the soil component e.g., organic, physical etc.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">simulations</span></code>: list: list of simulations to where the child is found if</dt><dd><p>not found, all current simulations will receive the new values, thus defaults to None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">indices</span></code>: list. Positions in the array which will be replaced. Please note that unlike C#, python satrt counting from 0</p>
<p><code class="docutils literal notranslate"><span class="pre">crop</span></code> (str, optional): string for soil water replacement. Default is None</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.clean_up">
<span class="sig-name descname"><span class="pre">clean_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coerce=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv=True)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.clean_up" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clears the file cloned the datastore and associated csv files are not deleted if db is set to False defaults to True.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>&gt;&gt;None: This method does not return a value.</p>
</dd>
</dl>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please proceed with caution, we assume that if you want to clear the model objects, then you don’t need them,
but by making copy compulsory, then, we are clearing the edited files</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.create_experiment">
<span class="sig-name descname"><span class="pre">create_experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permutation:</span> <span class="pre">'bool'</span> <span class="pre">=</span> <span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.create_experiment" title="Link to this definition"></a></dt>
<dd><p>&#64;deprecated and will be removed in future versions for this class.</p>
</dd></dl>

<p>Initialize an <code class="docutils literal notranslate"><span class="pre">ExperimentManager</span></code> instance, adding the necessary models and factors.</p>
<p>Args:</p>
<blockquote>
<div><blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code>: Additional parameters for CoreModel.</p>
<p><code class="docutils literal notranslate"><span class="pre">permutation</span></code> (bool). If True, the experiment uses a permutation node to run unique combinations of the specified
factors for the simulation. For example, if planting population and nitrogen fertilizers are provided,
each combination of planting population level and fertilizer amount is run as an individual treatment.</p>
</div></blockquote>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base_name</span></code> (str, optional): The name of the base simulation to be moved into the experiment setup. if not</dt><dd><p>provided, it is expected to be Simulation as the default.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">base_name</span></code> is optional but the experiment may not be created if there are more than one base simulations. Therefore, an error is likely.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.refresh_model">
<span class="sig-name descname"><span class="pre">refresh_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.refresh_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>for methods that will alter the simulation objects and need refreshing the second time we call
&#64;return: self for method chaining</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_fac">
<span class="sig-name descname"><span class="pre">add_fac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_fac" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Add a factor to the initiated experiment. This should replace add_factor. which has less abstractionn &#64;param
model_type: model_class from APSIM Models namespace &#64;param parameter: name of the parameter to fill e.g CNR
&#64;param model_name: name of the model &#64;param values: values of the parameter, could be an iterable for case of
categorical variables or a string e.g, ‘0 to 100 step 10 same as [0, 10, 20, 30, …].
&#64;param factor_name: name to identify the factor in question
&#64;return:</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.set_continuous_factor">
<span class="sig-name descname"><span class="pre">set_continuous_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_bound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_continuous_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Wraps around <code class="docutils literal notranslate"><span class="pre">add_factor</span></code> to add a continuous factor, just for clarity</p>
<dl>
<dt>Args:</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">factor_path</span></code>: (str): The path of the factor definition relative to its child node,</dt><dd><p>e.g., <code class="docutils literal notranslate"><span class="pre">&quot;[Fertilise</span> <span class="pre">at</span> <span class="pre">sowing].Script.Amount&quot;</span></code>.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">factor_name</span></code>: (str): The name of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">lower_bound</span></code>: (int or float): The lower bound of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>: (int or float): The upper bound of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">interval</span></code>: (int or float): The distance between the factor levels.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Returns</span></code>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">base_data</span>
<span class="n">apsim</span> <span class="o">=</span> <span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">set_continuous_factor</span><span class="p">(</span><span class="n">factor_path</span> <span class="o">=</span> <span class="s2">&quot;[Fertilise at sowing].Script.Amount&quot;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.set_categorical_factor">
<span class="sig-name descname"><span class="pre">set_categorical_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_path:</span> <span class="pre">'str'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories:</span> <span class="pre">'Union[list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_name:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_categorical_factor" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>wraps around <code class="docutils literal notranslate"><span class="pre">add_factor()</span></code> to add a continuous factor, just for clarity.</p>
<blockquote>
<div></div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">factor_path</span></code>: (str, required): path of the factor definition relative to its child node “[Fertilise at sowing].Script.Amount”</p>
<p><code class="docutils literal notranslate"><span class="pre">factor_name</span></code>: (str) name of the factor.</p>
<p><code class="docutils literal notranslate"><span class="pre">categories</span></code>: (tuple, list, required): multiple values of a factor</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">returns</span></code>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">base_data</span>
<span class="n">apsim</span> <span class="o">=</span> <span class="n">base_data</span><span class="o">.</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">permutation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">apsim</span><span class="o">.</span><span class="n">set_continuous_factor</span><span class="p">(</span><span class="n">factor_path</span> <span class="o">=</span> <span class="s2">&quot;[Fertilise at sowing].Script.Amount&quot;</span><span class="p">,</span> <span class="n">lower_bound</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">upper_bound</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_crop_replacements">
<span class="sig-name descname"><span class="pre">add_crop_replacements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_crop:</span> <span class="pre">'str')</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_crop_replacements" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a replacement folder as a child of the simulations.</p>
<p>Useful when you intend to edit cultivar <strong>parameters</strong>.</p>
<dl class="simple">
<dt><strong>Args:</strong></dt><dd><p><code class="docutils literal notranslate"><span class="pre">_crop</span></code> (<em>str</em>): Name of the crop to be added to the replacement folder.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Returns:</span></code></dt><dd><ul class="simple">
<li><p><em>ApsimModel</em>: An instance of <code class="docutils literal notranslate"><span class="pre">apsimNGpy.core.core.apsim.ApsimModel</span></code> or <code class="docutils literal notranslate"><span class="pre">CoreModel</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Raises:</span></code></dt><dd><ul class="simple">
<li><p><em>ValueError</em>: If the specified crop is not found.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.get_model_paths">
<span class="sig-name descname"><span class="pre">get_model_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultivar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.get_model_paths" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Select out a few model types to use for building the APSIM file inspections</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file">
<span class="sig-name descname"><span class="pre">inspect_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultivar=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">console=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Inspects the file by traversing the entire simulation tree, using <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model" title="apsimNGpy.core.experimentmanager.ExperimentManager.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a> under the hood</p>
<p>This method is important in inspecting the <code class="docutils literal notranslate"><span class="pre">whole</span> <span class="pre">file</span></code> and also getting the <code class="docutils literal notranslate"><span class="pre">scripts</span> <span class="pre">paths</span></code>.</p>
</section>
<section id="id234">
<h5>Parameters<a class="headerlink" href="#id234" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>cultivar: (bool)</dt><dd><p>To include cultivar paths.</p>
</dd>
<dt>console: (bool)</dt><dd><p>Prints to the console if True</p>
</dd>
</dl>
</section>
<section id="id235">
<h5>Examples<a class="headerlink" href="#id235" title="Link to this heading"></a></h5>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">(</span><span class="n">cultivar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p># output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>── Simulations: .Simulations
├── DataStore: .Simulations.DataStore
└── Simulation: .Simulations.Simulation
    ├── Clock: .Simulations.Simulation.Clock
    ├── Field: .Simulations.Simulation.Field
    │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing
    │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser
    │   ├── Harvest: .Simulations.Simulation.Field.Harvest
    │   ├── Maize: .Simulations.Simulation.Field.Maize
    │   ├── Report: .Simulations.Simulation.Field.Report
    │   ├── Soil: .Simulations.Simulation.Field.Soil
    │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical
    │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4
    │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3
    │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic
    │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical
    │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil
    │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea
    │   │   └── Water: .Simulations.Simulation.Field.Soil.Water
    │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule
    │   └── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter
    ├── Graph: .Simulations.Simulation.Graph
    │   └── Series: .Simulations.Simulation.Graph.Series
    ├── MicroClimate: .Simulations.Simulation.MicroClimate
    ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator
    ├── Summary: .Simulations.Simulation.Summary
    └── Weather: .Simulations.Simulation.Weather
</pre></div>
</div>
<p>Turn cultivar paths on as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">(</span><span class="n">cultivar</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p># output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>└── Simulations: .Simulations
├── DataStore: .Simulations.DataStore
└── Simulation: .Simulations.Simulation
    ├── Clock: .Simulations.Simulation.Clock
    ├── Field: .Simulations.Simulation.Field
    │   ├── Fertilise at sowing: .Simulations.Simulation.Field.Fertilise at sowing
    │   ├── Fertiliser: .Simulations.Simulation.Field.Fertiliser
    │   ├── Harvest: .Simulations.Simulation.Field.Harvest
    │   ├── Maize: .Simulations.Simulation.Field.Maize
    │   │   └── CultivarFolder: .Simulations.Simulation.Field.Maize.CultivarFolder
    │   │       ├── Atrium: .Simulations.Simulation.Field.Maize.CultivarFolder.Atrium
    │   │       ├── CG4141: .Simulations.Simulation.Field.Maize.CultivarFolder.CG4141
    │   │       ├── Dekalb_XL82: .Simulations.Simulation.Field.Maize.CultivarFolder.Dekalb_XL82
    │   │       ├── GH_5009: .Simulations.Simulation.Field.Maize.CultivarFolder.GH_5009
    │   │       ├── GH_5019WX: .Simulations.Simulation.Field.Maize.CultivarFolder.GH_5019WX
    │   │       ├── Generic: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic
    │   │       │   ├── A_100: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_100
    │   │       │   ├── A_103: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_103
    │   │       │   ├── A_105: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_105
    │   │       │   ├── A_108: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_108
    │   │       │   ├── A_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_110
    │   │       │   ├── A_112: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_112
    │   │       │   ├── A_115: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_115
    │   │       │   ├── A_120: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_120
    │   │       │   ├── A_130: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_130
    │   │       │   ├── A_80: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_80
    │   │       │   ├── A_90: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_90
    │   │       │   ├── A_95: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.A_95
    │   │       │   ├── B_100: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_100
    │   │       │   ├── B_103: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_103
    │   │       │   ├── B_105: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_105
    │   │       │   ├── B_108: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_108
    │   │       │   ├── B_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_110
    │   │       │   ├── B_112: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_112
    │   │       │   ├── B_115: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_115
    │   │       │   ├── B_120: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_120
    │   │       │   ├── B_130: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_130
    │   │       │   ├── B_80: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_80
    │   │       │   ├── B_90: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_90
    │   │       │   ├── B_95: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.B_95
    │   │       │   ├── HY_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.HY_110
    │   │       │   ├── LY_110: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.LY_110
    │   │       │   └── P1197: .Simulations.Simulation.Field.Maize.CultivarFolder.Generic.P1197
    │   │       ├── Hycorn_40: .Simulations.Simulation.Field.Maize.CultivarFolder.Hycorn_40
    │   │       ├── Hycorn_53: .Simulations.Simulation.Field.Maize.CultivarFolder.Hycorn_53
    │   │       ├── Katumani: .Simulations.Simulation.Field.Maize.CultivarFolder.Katumani
    │   │       ├── Laila: .Simulations.Simulation.Field.Maize.CultivarFolder.Laila
    │   │       ├── Makueni: .Simulations.Simulation.Field.Maize.CultivarFolder.Makueni
    │   │       ├── Melkassa: .Simulations.Simulation.Field.Maize.CultivarFolder.Melkassa
    │   │       ├── NSCM_41: .Simulations.Simulation.Field.Maize.CultivarFolder.NSCM_41
    │   │       ├── Pioneer_3153: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_3153
    │   │       ├── Pioneer_33M54: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_33M54
    │   │       ├── Pioneer_34K77: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_34K77
    │   │       ├── Pioneer_38H20: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_38H20
    │   │       ├── Pioneer_39G12: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_39G12
    │   │       ├── Pioneer_39V43: .Simulations.Simulation.Field.Maize.CultivarFolder.Pioneer_39V43
    │   │       ├── malawi_local: .Simulations.Simulation.Field.Maize.CultivarFolder.malawi_local
    │   │       ├── mh12: .Simulations.Simulation.Field.Maize.CultivarFolder.mh12
    │   │       ├── mh16: .Simulations.Simulation.Field.Maize.CultivarFolder.mh16
    │   │       ├── mh17: .Simulations.Simulation.Field.Maize.CultivarFolder.mh17
    │   │       ├── mh18: .Simulations.Simulation.Field.Maize.CultivarFolder.mh18
    │   │       ├── mh19: .Simulations.Simulation.Field.Maize.CultivarFolder.mh19
    │   │       ├── r201: .Simulations.Simulation.Field.Maize.CultivarFolder.r201
    │   │       ├── r215: .Simulations.Simulation.Field.Maize.CultivarFolder.r215
    │   │       ├── sc401: .Simulations.Simulation.Field.Maize.CultivarFolder.sc401
    │   │       ├── sc501: .Simulations.Simulation.Field.Maize.CultivarFolder.sc501
    │   │       ├── sc601: .Simulations.Simulation.Field.Maize.CultivarFolder.sc601
    │   │       ├── sc623: .Simulations.Simulation.Field.Maize.CultivarFolder.sc623
    │   │       ├── sc625: .Simulations.Simulation.Field.Maize.CultivarFolder.sc625
    │   │       └── sr52: .Simulations.Simulation.Field.Maize.CultivarFolder.sr52
    │   ├── Report: .Simulations.Simulation.Field.Report
    │   ├── Soil: .Simulations.Simulation.Field.Soil
    │   │   ├── Chemical: .Simulations.Simulation.Field.Soil.Chemical
    │   │   ├── NH4: .Simulations.Simulation.Field.Soil.NH4
    │   │   ├── NO3: .Simulations.Simulation.Field.Soil.NO3
    │   │   ├── Organic: .Simulations.Simulation.Field.Soil.Organic
    │   │   ├── Physical: .Simulations.Simulation.Field.Soil.Physical
    │   │   │   └── MaizeSoil: .Simulations.Simulation.Field.Soil.Physical.MaizeSoil
    │   │   ├── Urea: .Simulations.Simulation.Field.Soil.Urea
    │   │   └── Water: .Simulations.Simulation.Field.Soil.Water
    │   ├── Sow using a variable rule: .Simulations.Simulation.Field.Sow using a variable rule
    │   └── SurfaceOrganicMatter: .Simulations.Simulation.Field.SurfaceOrganicMatter
    ├── Graph: .Simulations.Simulation.Graph
    │   └── Series: .Simulations.Simulation.Graph.Series
    ├── MicroClimate: .Simulations.Simulation.MicroClimate
    ├── SoilArbitrator: .Simulations.Simulation.SoilArbitrator
    ├── Summary: .Simulations.Simulation.Summary
    └── Weather: .Simulations.Simulation.Weather
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model" title="apsimNGpy.core.apsim.ApsimModel.inspect_model"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model()</span></code></a>, <a class="reference internal" href="#apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters" title="apsimNGpy.core.apsim.ApsimModel.inspect_model_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">inspect_model_parameters()</span></code></a></p></li>
<li><p><a class="reference internal" href="model%20inspection.html#plain-inspect"><span class="std std-ref">Model inspections</span></a></p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.summarize_numeric">
<span class="sig-name descname"><span class="pre">summarize_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">tuple,</span> <span class="pre">list]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'list'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentiles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.25,</span> <span class="pre">0.5,</span> <span class="pre">0.75)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">round</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.summarize_numeric" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Summarize numeric columns in a simulated pandas DataFrame. Useful when you want to quickly look at the simulated data</p>
<p>Parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p>data_table (list, tuple, str): The names of the data table attached to the simulations. defaults to all data tables.</p></li>
<li><p>specific (list) columns to summarize.</p></li>
<li><p>percentiles (tuple): Optional percentiles to include in the summary.</p></li>
<li><p>round (int): number of decimal places for rounding off.</p></li>
</ul>
</div></blockquote>
<p>Returns:</p>
<blockquote>
<div><p>pd.DataFrame: A summary DataFrame with statistics for each numeric column.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table">
<span class="sig-name descname"><span class="pre">add_db_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_spec:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_event_names:</span> <span class="pre">'list'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename:</span> <span class="pre">'str'</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_name:</span> <span class="pre">'Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tuple]'</span> <span class="pre">=</span> <span class="pre">&lt;UserOptionMissing&gt;)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.add_db_table" title="Link to this definition"></a></dt>
<dd><p>Adds a new database table, which <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> calls <code class="docutils literal notranslate"><span class="pre">Report</span></code> (Models.Report) to the <code class="docutils literal notranslate"><span class="pre">Simulation</span></code> under a Simulation Zone.</p>
<p>This is different from <code class="docutils literal notranslate"><span class="pre">add_report_variable</span></code> in that it creates a new, named report
table that collects data based on a given list of _variables and events. actu</p>
<section id="id236">
<h6>Parameters:<a class="headerlink" href="#id236" title="Link to this heading"></a></h6>
<dl class="simple">
<dt>variable_spec: (list or str)</dt><dd><p>A list of APSIM variable paths to include in the report table.
If a string is passed, it will be converted to a list.</p>
</dd>
<dt>set_event_names: (list or str, optional):</dt><dd><dl class="simple">
<dt>A list of APSIM events that trigger the recording of _variables.</dt><dd><p>Defaults to [‘[Clock].EndOfYear’] if not provided. other examples include ‘[Clock].StartOfYear’, ‘[Clock].EndOfsimulation’,
‘[crop_name].Harvesting’ etc.</p>
</dd>
</dl>
</dd>
</dl>
<p>rename: (str): The name of the report table to be added. Defaults to ‘my_table’.</p>
<dl class="simple">
<dt>simulation_name: (str,tuple, or list, Optional)</dt><dd><p>if specified, the name of the simulation will be searched and will become the parent candidate for the report table.
If it is none, all Simulations in the file will be updated with the new db_table</p>
</dd>
</dl>
<section id="id237">
<h6 aria-level="7">Raises:<a class="headerlink" href="#id237" title="Link to this heading"></a></h6>
<p><code class="docutils literal notranslate"><span class="pre">ValueError</span></code>: If no variable_spec is provided.
<code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code>: If no Zone is found in the current simulation scope.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span> <span class="s1">&#39;[Soil].Nutrient.TotalC[1]/1000 as SOC1&#39;</span><span class="p">],</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;report2&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">add_db_table</span><span class="p">(</span><span class="n">variable_spec</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Clock].Today&#39;</span><span class="p">,</span> <span class="s1">&#39;[Soil].Nutrient.TotalC[1]/1000 as SOC1&#39;</span><span class="p">,</span> <span class="s1">&#39;[Maize].Grain.Total.Wt*10 as Yield&#39;</span><span class="p">],</span> <span class="n">rename</span><span class="o">=</span><span class="s1">&#39;report2&#39;</span><span class="p">,</span> <span class="n">set_event_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;[Maize].Harvesting&#39;</span><span class="p">,</span><span class="s1">&#39;[Clock].EndOfYear&#39;</span> <span class="p">])</span>
</pre></div>
</div>
</section>
</section>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_report_variables()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">add_report_variables()</span></code>.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.Datastore">
<span class="sig-name descname"><span class="pre">Datastore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Datastore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Datastore'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.End">
<span class="sig-name descname"><span class="pre">End</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.End" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'End'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.Models">
<span class="sig-name descname"><span class="pre">Models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Models" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Models'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.Simulations">
<span class="sig-name descname"><span class="pre">Simulations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Simulations" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Simulations'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.Start">
<span class="sig-name descname"><span class="pre">Start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.Start" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'Start'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.base_name">
<span class="sig-name descname"><span class="pre">base_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.base_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'base_name'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.copy" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'copy'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.datastore">
<span class="sig-name descname"><span class="pre">datastore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.datastore" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'datastore'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.experiment">
<span class="sig-name descname"><span class="pre">experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.experiment" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'experiment'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.experiment_created">
<span class="sig-name descname"><span class="pre">experiment_created</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.experiment_created" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'experiment_created'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.factor_names">
<span class="sig-name descname"><span class="pre">factor_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.factor_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'factor_names'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.factors">
<span class="sig-name descname"><span class="pre">factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.factors" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'factors'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.model">
<span class="sig-name descname"><span class="pre">model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'model'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.model_info">
<span class="sig-name descname"><span class="pre">model_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.model_info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'model_info'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.others">
<span class="sig-name descname"><span class="pre">others</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.others" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'others'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.out">
<span class="sig-name descname"><span class="pre">out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.out" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'out'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.out_path">
<span class="sig-name descname"><span class="pre">out_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.out_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'out_path'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'path'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.permutation">
<span class="sig-name descname"><span class="pre">permutation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.permutation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'permutation'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.ran_ok">
<span class="sig-name descname"><span class="pre">ran_ok</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.ran_ok" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'ran_ok'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.report_names">
<span class="sig-name descname"><span class="pre">report_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.report_names" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'report_names'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.run_method">
<span class="sig-name descname"><span class="pre">run_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.run_method" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'run_method'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.set_wd">
<span class="sig-name descname"><span class="pre">set_wd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.set_wd" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'set_wd'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.wk_info">
<span class="sig-name descname"><span class="pre">wk_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.wk_info" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'wk_info'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.work_space">
<span class="sig-name descname"><span class="pre">work_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.work_space" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'work_space'</span> <span class="pre">of</span> <span class="pre">'CoreModel'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva">
<span class="sig-name descname"><span class="pre">plot_mva</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" title="(in Python v3.14)"><span class="pre">collections.abc.Sequence</span></a><span class="p"><span class="pre">[</span></span><span class="pre">Hashable</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">NoneType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'line'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_raw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_linewidth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_datetime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a centered moving-average (MVA) of a response using <code class="docutils literal notranslate"><span class="pre">seaborn.relplot</span></code>.</p>
<p>Enhancements over a direct <code class="docutils literal notranslate"><span class="pre">relplot</span></code> call:
- Computes and plots a smoothed series via <code class="xref py py-func docutils literal notranslate"><span class="pre">apsimNGpy.stats.data_insights.mva()</span></code>.
- Supports multi-column grouping; will auto-construct a composite hue if needed.
- Optional overlay of the raw (unsmoothed) series for comparison.
- Stable (mergesort) time ordering.</p>
</section>
<section id="id238">
<h5>Parameters<a class="headerlink" href="#id238" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>table<span class="classifier">pandas.DataFrame or str</span></dt><dd><p>Data source or table name; if <code class="docutils literal notranslate"><span class="pre">None</span></code>, use <a href="#id239"><span class="problematic" id="id240">:pyattr:`results`</span></a>.</p>
</dd>
<dt>time_col<span class="classifier">hashable</span></dt><dd><p>Time (x-axis) column.</p>
</dd>
<dt>response<span class="classifier">hashable</span></dt><dd><p>Response (y) column to smooth.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt>window<span class="classifier">int, default=5</span></dt><dd><p>MVA window size.</p>
</dd>
<dt>min_period<span class="classifier">int, default=1</span></dt><dd><p>Minimum periods for the rolling mean.</p>
</dd>
<dt>grouping<span class="classifier">hashable or sequence of hashable, optional</span></dt><dd><p>One or more grouping columns.</p>
</dd>
<dt>preserve_start<span class="classifier">bool, default=True</span></dt><dd><p>Preserve initial values when centering.</p>
</dd>
<dt>kind<span class="classifier">{“line”,”scatter”}, default=”line”</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">sns.relplot</span></code>.</p>
</dd>
<dt>estimator<span class="classifier">str or None, default=”mean”</span></dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">sns.relplot</span></code> (set to <code class="docutils literal notranslate"><span class="pre">None</span></code> to plot raw observations).</p>
</dd>
<dt>plot_raw<span class="classifier">bool, default=False</span></dt><dd><p>Overlay the raw series on each facet.</p>
</dd>
<dt>raw_alpha<span class="classifier">float, default=0.35</span></dt><dd><p>Alpha for the raw overlay.</p>
</dd>
<dt>raw_linewidth<span class="classifier">float, default=1.0</span></dt><dd><p>Line width for the raw overlay.</p>
</dd>
<dt>auto_datetime<span class="classifier">bool, default=False</span></dt><dd><p>Attempt to convert <code class="docutils literal notranslate"><span class="pre">time_col</span></code> to datetime.</p>
</dd>
<dt>ylabel<span class="classifier">str, optional</span></dt><dd><p>Custom y-axis label; default is generated from window/response.</p>
</dd>
<dt>return_data<span class="classifier">bool, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, return <code class="docutils literal notranslate"><span class="pre">(FacetGrid,</span> <span class="pre">smoothed_df)</span></code>.</p>
</dd>
</dl>
</section>
<section id="id241">
<h5>Returns<a class="headerlink" href="#id241" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>seaborn.FacetGrid</dt><dd><p>The relplot grid, or <code class="docutils literal notranslate"><span class="pre">(grid,</span> <span class="pre">smoothed_df)</span></code> if <code class="docutils literal notranslate"><span class="pre">return_data=True</span></code>.</p>
</dd>
</dl>
</section>
<section id="id242">
<h5>Notes<a class="headerlink" href="#id242" title="Link to this heading"></a></h5>
<blockquote>
<div><p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.relplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for details:</p>
</div></blockquote>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/relplot.html">https://seaborn.pydata.org/generated/seaborn/relplot.html</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.boxplot">
<span class="sig-name descname"><span class="pre">boxplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize=(10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.boxplot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a boxplot from simulation results using <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.boxplot</span></code>.</p>
</section>
<section id="id243">
<h5>Parameters<a class="headerlink" href="#id243" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>column<span class="classifier">str</span></dt><dd><p>Column to plot.</p>
</dd>
<dt>table<span class="classifier">str or pandas.DataFrame, optional</span></dt><dd><p>Table name or DataFrame; if omitted, use <a href="#id244"><span class="problematic" id="id245">:pyattr:`results`</span></a>.</p>
</dd>
<dt>by<span class="classifier">str, optional</span></dt><dd><p>Grouping column.</p>
</dd>
</dl>
<p>figsize : tuple, default=(10, 8)
grid : bool, default=False
<a href="#id246"><span class="problematic" id="id247">**</span></a>kwargs</p>
<blockquote>
<div><p>Forwarded to <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.DataFrame.boxplot()</span></code>.</p>
</div></blockquote>
</section>
<section id="id248">
<h5>Returns<a class="headerlink" href="#id248" title="Link to this heading"></a></h5>
<p>matplotlib.axes.Axes</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot" title="apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cat_plot()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.distribution">
<span class="sig-name descname"><span class="pre">distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.distribution" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plot a uni-variate distribution/histogram using <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code>.</p>
</section>
<section id="id249">
<h5>Parameters<a class="headerlink" href="#id249" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>x<span class="classifier">str</span></dt><dd><p>Numeric column to plot.</p>
</dd>
<dt>table<span class="classifier">str or pandas.DataFrame, optional</span></dt><dd><p>Table name or DataFrame; if omitted, use <a href="#id250"><span class="problematic" id="id251">:pyattr:`results`</span></a>.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt><a href="#id252"><span class="problematic" id="id253">**</span></a>kwargs</dt><dd><p>Forwarded to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code>.</p>
</dd>
</dl>
</section>
<section id="id254">
<h5>Raises<a class="headerlink" href="#id254" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> is a string-typed column.</p>
</dd>
</dl>
</section>
<section id="id255">
<h5>Notes<a class="headerlink" href="#id255" title="Link to this heading"></a></h5>
<p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.histplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for details:</p>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/histplot.html">https://seaborn.pydata.org/generated/seaborn/histplot.html</a></p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.series_plot">
<span class="sig-name descname"><span class="pre">series_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y:</span> <span class="pre">Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dashes=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator='mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorbar=('ci'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">95)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot=1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orient='x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_style='band'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_kws=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ci='deprecated'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.series_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Just a wrapper for seaborn.lineplot that supports multiple y columns that could be provided as a list</p>
<blockquote>
<div><dl>
<dt>table<span class="classifier">str | [str] <a href="#id369"><span class="problematic" id="id370">|None | None|</span></a> pandas.DataFrame, optional. Default is None</span></dt><dd><p>If the table names are provided, results are collected from the simulated data, using that table names.
If None, results will be all the table names inside concatenated along the axis 0 (not recommended).</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>expression: str default is None</dt><dd><blockquote>
<div><p>simple mathematical expression to create new columns from existing columns</p>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">y</span></code> is a list of columns, the data are melted into long form and</p>
</dd>
</dl>
<p>the different series are colored by variable name.</p>
<dl class="simple">
<dt><a href="#id256"><span class="problematic" id="id257">**</span></a>Kwargs</dt><dd><p>Additional keyword args and all other arguments are for Seaborn.lineplot.
See the reference below for all the kwargs.</p>
</dd>
</dl>
<p>reference; <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.lineplot.html">https://seaborn.pydata.org/generated/seaborn.lineplot.html</a></p>
</section>
<section id="id258">
<h5>Examples<a class="headerlink" href="#id258" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">series_plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Yield&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">series_plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SOC1&#39;</span><span class="p">,</span> <span class="s1">&#39;SOC2&#39;</span><span class="p">],</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id259">
<h5>Examples:<a class="headerlink" href="#id259" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="n">model</span><span class="o">=</span> <span class="s1">&#39;Maize&#39;</span><span class="p">)</span>
<span class="go"># run the results</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">report_names</span><span class="o">=</span><span class="s1">&#39;Report&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;model.series_plot(x=&#39;Maize.Grain.Size&#39;, y=&#39;Yield&#39;, table=&#39;Report&#39;)</span>
<span class="go">&gt;&gt;&gt;model.render_plot(show=True, ylabel = &#39;Maize yield&#39;, xlabel =&#39;Maize grain size&#39;)</span>
</pre></div>
</div>
<p>Plot two variables:</p>
<blockquote>
<div><p>&gt;&gt;&gt;model.series_plot(x=’Yield’, y=[‘Maize.Grain.N’, ‘Maize.Grain.Size’], table= ‘Report’)</p>
</div></blockquote>
</section>
<section id="id260">
<h5>Notes<a class="headerlink" href="#id260" title="Link to this heading"></a></h5>
<p>This function calls <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.lineplot()</span></code> and accepts its keyword arguments
via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>. See link below for detailed explanations:</p>
<p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn/lineplot.html">https://seaborn.pydata.org/generated/seaborn/lineplot.html</a></p>
<hr class="docutils" />
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva" title="apsimNGpy.core.experimentmanager.ExperimentManager.plot_mva"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_mva()</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.scatter_plot">
<span class="sig-name descname"><span class="pre">scatter_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markers=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.scatter_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Scatter plot using <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.scatterplot()</span></code> with flexible aesthetic mappings.</p>
</section>
<section id="id261">
<h5>Parameters<a class="headerlink" href="#id261" title="Link to this heading"></a></h5>
<dl>
<dt>table<span class="classifier">str | [str] <a href="#id371"><span class="problematic" id="id372">|None | None|</span></a> pandas.DataFrame, optional. Default is None</span></dt><dd><p>If the table names are provided, results are collected from the simulated data, using that table names.
If None, results will be all the table names inside concatenated along the axis 0 (not recommended).</p>
</dd>
<dt>x, y, hue, size, style, palette, hue_order, hue_norm, sizes, size_order, size_norm, markers, style_order, legend, ax</dt><dd><p>Passed through to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.scatterplot()</span></code>.</p>
</dd>
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
<dt>** Kwargs</dt><dd><p>Additional keyword args for Seaborn.</p>
</dd>
</dl>
<p>See the reference below for all the kwargs.
reference; <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.scatterplot.html">https://seaborn.pydata.org/generated/seaborn.scatterplot.html</a></p>
<hr class="docutils" />
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot">
<span class="sig-name descname"><span class="pre">cat_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind='strip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator='mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errorbar=('ci'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">95)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_boot=1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_wrap=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height=5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_scale=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">native_scale=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orient=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hue_norm=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend='auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_out=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharex=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharey=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margin_titles=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_kws=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.cat_plot" title="Link to this definition"></a></dt>
<dd><p>Categorical plot wrapper over <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.catplot()</span></code>.</p>
</dd></dl>

</section>
<section id="id262">
<h5>Parameters<a class="headerlink" href="#id262" title="Link to this heading"></a></h5>
<p>table : str or pandas.DataFrame, optional</p>
<dl class="simple">
<dt>expression: str default is None</dt><dd><p>simple mathematical expression to create new columns from existing columns</p>
</dd>
</dl>
<p>x, y, hue, row, col, kind, estimator, errorbar, n_boot, seed, units, weights, order,
hue_order, row_order, col_order, col_wrap, height, aspect, log_scale, native_scale, formatter,
orient, color, palette, hue_norm, legend, legend_out, sharex, sharey, margin_titles, facet_kws</p>
<blockquote>
<div><p>Passed through to <code class="xref py py-func docutils literal notranslate"><span class="pre">seaborn.catplot()</span></code>.</p>
</div></blockquote>
<dl class="simple">
<dt><a href="#id263"><span class="problematic" id="id264">**</span></a>kwargs</dt><dd><p>Additional keyword args for Seaborn.</p>
</dd>
</dl>
</section>
<section id="id265">
<h5>Returns<a class="headerlink" href="#id265" title="Link to this heading"></a></h5>
<p>seaborn.axisgrid.FacetGrid</p>
<p>reference <a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.catplot.html">https://seaborn.pydata.org/generated/seaborn.catplot.html</a></p>
<blockquote>
<div><p>Related APIs: <a class="reference internal" href="#apsimNGpy.core.experimentmanager.ExperimentManager.distribution" title="apsimNGpy.core.experimentmanager.ExperimentManager.distribution"><code class="xref py py-meth docutils literal notranslate"><span class="pre">distribution()</span></code></a>.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.reg_plot">
<span class="sig-name descname"><span class="pre">reg_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expression=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.reg_plot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Wrapper around seaborn.lmplot. V 0.39.10.19+</p>
</section>
<section id="id266">
<h5>Kwargs passed to seaborn.lmplot<a class="headerlink" href="#id266" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>x<span class="classifier">str or None, optional</span></dt><dd><p>Name of column in <code class="docutils literal notranslate"><span class="pre">data</span></code> to plot on the x-axis.</p>
</dd>
<dt>y<span class="classifier">str or None, optional</span></dt><dd><p>Name of column in <code class="docutils literal notranslate"><span class="pre">data</span></code> to plot on the y-axis.</p>
</dd>
<dt>hue<span class="classifier">str or None, optional</span></dt><dd><p>Grouping variable that will produce elements with different colors.</p>
</dd>
<dt>col<span class="classifier">str or None, optional</span></dt><dd><p>Variable that defines columns of the facet grid.</p>
</dd>
<dt>row<span class="classifier">str or None, optional</span></dt><dd><p>Variable that defines rows of the facet grid.</p>
</dd>
<dt>palette<span class="classifier">str, list, dict, or None, optional</span></dt><dd><p>Color palette for different <code class="docutils literal notranslate"><span class="pre">hue</span></code> levels.</p>
</dd>
<dt>col_wrap<span class="classifier">int or None, optional</span></dt><dd><p>Wrap the column facets after this many columns.</p>
</dd>
<dt>height<span class="classifier">float, default=5</span></dt><dd><p>Height (in inches) of each facet.</p>
</dd>
<dt>aspect<span class="classifier">float, default=1</span></dt><dd><p>Aspect ratio of each facet, so width = aspect * height.</p>
</dd>
<dt>markers<span class="classifier">str or list, default=’o’</span></dt><dd><p>Marker(s) used for the scatter plot points.</p>
</dd>
<dt>sharex<span class="classifier">bool or None, optional</span></dt><dd><p>If True, share x-axis limits across facets.</p>
</dd>
<dt>sharey<span class="classifier">bool or None, optional</span></dt><dd><p>If True, share y-axis limits across facets.</p>
</dd>
<dt>hue_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">hue</span></code>.</p>
</dd>
<dt>col_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">col</span></code>.</p>
</dd>
<dt>row_order<span class="classifier">list or None, optional</span></dt><dd><p>Order to plot the levels of <code class="docutils literal notranslate"><span class="pre">row</span></code>.</p>
</dd>
<dt>legend<span class="classifier">bool, default=True</span></dt><dd><p>If True, add a legend for the <code class="docutils literal notranslate"><span class="pre">hue</span></code> variable.</p>
</dd>
<dt>legend_out<span class="classifier">bool or None, optional</span></dt><dd><p>If True, place the legend outside the grid.</p>
</dd>
<dt>x_estimator<span class="classifier">callable or None, optional</span></dt><dd><p>Function to compute a central tendency of <code class="docutils literal notranslate"><span class="pre">y</span></code> for each unique <code class="docutils literal notranslate"><span class="pre">x</span></code>
(e.g. <code class="docutils literal notranslate"><span class="pre">np.mean</span></code>). Plot points at that value instead of raw data.</p>
</dd>
<dt>x_bins<span class="classifier">int or None, optional</span></dt><dd><p>Bin the <code class="docutils literal notranslate"><span class="pre">x</span></code> variable into discrete bins before plotting.</p>
</dd>
<dt>x_ci<span class="classifier">‘ci’, ‘sd’, float, or None, default=’ci’</span></dt><dd><p>Size/definition of the confidence band around the estimator in <code class="docutils literal notranslate"><span class="pre">x_estimator</span></code>.</p>
</dd>
<dt>scatter<span class="classifier">bool, default=True</span></dt><dd><p>If True, draw the scatter points.</p>
</dd>
<dt>fit_reg<span class="classifier">bool, default=True</span></dt><dd><p>If True, fit and plot a regression line.</p>
</dd>
<dt>ci<span class="classifier">int or None, default=95</span></dt><dd><p>Size of the bootstrap confidence interval for the regression estimate.</p>
</dd>
<dt>n_boot<span class="classifier">int, default=1000</span></dt><dd><p>Number of bootstrap samples to compute <code class="docutils literal notranslate"><span class="pre">ci</span></code>.</p>
</dd>
<dt>units<span class="classifier">str or None, optional</span></dt><dd><p>Column in <code class="docutils literal notranslate"><span class="pre">data</span></code> identifying sampling units. Used for clustered bootstrap.</p>
</dd>
<dt>seed<span class="classifier">int, RandomState, or None, optional</span></dt><dd><p>Random seed for reproducible bootstrapping.</p>
</dd>
<dt>order<span class="classifier">int, default=1</span></dt><dd><p>Polynomial order of the regression (1 = linear).</p>
</dd>
<dt>logistic<span class="classifier">bool, default=False</span></dt><dd><p>If True, fit a logistic regression.</p>
</dd>
<dt>lowess<span class="classifier">bool, default=False</span></dt><dd><p>If True, fit a locally weighted regression (LOWESS).</p>
</dd>
<dt>robust<span class="classifier">bool, default=False</span></dt><dd><p>If True, use a robust regression estimator.</p>
</dd>
<dt>logx<span class="classifier">bool, default=False</span></dt><dd><p>If True, estimate the model in log10(x) space.</p>
</dd>
<dt>x_partial<span class="classifier">str, list of str, or None, optional</span></dt><dd><p>Columns in <code class="docutils literal notranslate"><span class="pre">data</span></code> to regress out of <code class="docutils literal notranslate"><span class="pre">x</span></code> before plotting.</p>
</dd>
<dt>y_partial<span class="classifier">str, list of str, or None, optional</span></dt><dd><p>Columns in <code class="docutils literal notranslate"><span class="pre">data</span></code> to regress out of <code class="docutils literal notranslate"><span class="pre">y</span></code> before plotting.</p>
</dd>
<dt>truncate<span class="classifier">bool, default=True</span></dt><dd><p>If True, limit the regression line to the data range.</p>
</dd>
<dt>x_jitter<span class="classifier">float or None, optional</span></dt><dd><p>Amount of horizontal jitter to add to scatter points.</p>
</dd>
<dt>y_jitter<span class="classifier">float or None, optional</span></dt><dd><p>Amount of vertical jitter to add to scatter points.</p>
</dd>
<dt>scatter_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to the scatter plot (e.g. alpha, s).</p>
</dd>
<dt>line_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to the regression line plot.</p>
</dd>
<dt>facet_kws<span class="classifier">dict or None, optional</span></dt><dd><p>Additional keyword args passed to seaborn.FacetGrid.</p>
</dd>
</dl>
</section>
<section id="id267">
<h5>See Also<a class="headerlink" href="#id267" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>seaborn.lmplot<span class="classifier">High-level interface for plotting linear models with faceting.</span></dt><dd><p><a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.lmplot.html">https://seaborn.pydata.org/generated/seaborn.lmplot.html</a></p>
</dd>
</dl>
<p>Tutorial: <a class="reference external" href="https://seaborn.pydata.org/tutorial/regression.html#regression-tutorial">https://seaborn.pydata.org/tutorial/regression.html#regression-tutorial</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.experimentmanager.ExperimentManager.relplot">
<span class="sig-name descname"><span class="pre">relplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.experimentmanager.ExperimentManager.relplot" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Plots a relation plot</p>
</section>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-mult-cores">
<h2>apsimNGpy.core.mult_cores<a class="headerlink" href="#apsimngpy-core-mult-cores" title="Link to this heading"></a></h2>
<section id="id268">
<h3>Functions<a class="headerlink" href="#id268" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.is_my_iterable">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.mult_cores.</span></span><span class="sig-name descname"><span class="pre">is_my_iterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.is_my_iterable" title="Link to this definition"></a></dt>
<dd><p>Check if a value is an iterable, but not a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.simulation_exists">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.mult_cores.</span></span><span class="sig-name descname"><span class="pre">simulation_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulation_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.simulation_exists" title="Link to this definition"></a></dt>
<dd><p>Check if a simulation_id exists in the specified table.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>db_path (str): Path to the SQLite database file.
table_name (str): Name of the table to query.
simulation_id (int): ID of the simulation to check.</p>
</dd>
<dt>Returns:</dt><dd><p>bool: True if exists, False otherwise.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id269">
<h3>Classes<a class="headerlink" href="#id269" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.mult_cores.</span></span><span class="sig-name descname"><span class="pre">MultiCoreManager</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager" title="Link to this definition"></a></dt>
<dd><p>MultiCoreManager(db_path: Union[str, pathlib.Path, NoneType] = (None,), agg_func: Optional[str] = None, ran_ok: bool = False, incomplete_jobs: list = &lt;factory&gt;)</p>
<section id="id270">
<h4>List of Public Attributes:<a class="headerlink" href="#id270" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.agg_func" title="apsimNGpy.core.mult_cores.MultiCoreManager.agg_func"><code class="xref py py-attr docutils literal notranslate"><span class="pre">agg_func</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.db_path" title="apsimNGpy.core.mult_cores.MultiCoreManager.db_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">db_path</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.default_db" title="apsimNGpy.core.mult_cores.MultiCoreManager.default_db"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_db</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.incomplete_jobs" title="apsimNGpy.core.mult_cores.MultiCoreManager.incomplete_jobs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">incomplete_jobs</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.ran_ok" title="apsimNGpy.core.mult_cores.MultiCoreManager.ran_ok"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ran_ok</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.results" title="apsimNGpy.core.mult_cores.MultiCoreManager.results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">results</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.tables" title="apsimNGpy.core.mult_cores.MultiCoreManager.tables"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tables</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.tag" title="apsimNGpy.core.mult_cores.MultiCoreManager.tag"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tag</span></code></a></p></li>
</ul>
<section id="id271">
<h5>List of Public Methods<a class="headerlink" href="#id271" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clean_up_data" title="apsimNGpy.core.mult_cores.MultiCoreManager.clean_up_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clean_up_data()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clear_db" title="apsimNGpy.core.mult_cores.MultiCoreManager.clear_db"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_db()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clear_scratch" title="apsimNGpy.core.mult_cores.MultiCoreManager.clear_scratch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_scratch()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.get_simulated_output" title="apsimNGpy.core.mult_cores.MultiCoreManager.get_simulated_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_simulated_output()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.insert_data" title="apsimNGpy.core.mult_cores.MultiCoreManager.insert_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">insert_data()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.run_all_jobs" title="apsimNGpy.core.mult_cores.MultiCoreManager.run_all_jobs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_all_jobs()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.run_parallel" title="apsimNGpy.core.mult_cores.MultiCoreManager.run_parallel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_parallel()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.save_tocsv" title="apsimNGpy.core.mult_cores.MultiCoreManager.save_tocsv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_tocsv()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.core.mult_cores.MultiCoreManager.save_tosql" title="apsimNGpy.core.mult_cores.MultiCoreManager.save_tosql"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_tosql()</span></code></a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_path:</span> <span class="pre">Union[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NoneType]</span> <span class="pre">=</span> <span class="pre">(None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg_func:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ran_ok:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incomplete_jobs:</span> <span class="pre">list</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.tag">
<span class="sig-name descname"><span class="pre">tag</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.tag" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">'multi-core'</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.default_db">
<span class="sig-name descname"><span class="pre">default_db</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.default_db" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">'manager_datastorage.db'</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.insert_data">
<span class="sig-name descname"><span class="pre">insert_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.insert_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Insert results into the specified table
results: (Pd.DataFrame, dict) The results that will be inserted into the table
table: str (name of the table to insert)</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.write_results_to_sql" title="apsimNGpy.core_utils.database_utils.write_results_to_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_results_to_sql()</span></code></a></p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.tables">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tables</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.tables" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Summarizes all the tables that have been created from the simulations</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.run_parallel">
<span class="sig-name descname"><span class="pre">run_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.run_parallel" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>This is the worker for each simulation.</p>
<p>The function performs two things; runs the simulation and then inserts the simulated data into a specified
database.</p>
<dl class="field-list simple">
<dt class="field-odd">param model<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, dict, or Path object related .apsimx json file</p>
</dd>
</dl>
<p>returns None</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.get_simulated_output">
<span class="sig-name descname"><span class="pre">get_simulated_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.get_simulated_output" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Get simulated output from the API</p>
<dl class="field-list simple">
<dt class="field-odd">param axis<span class="colon">:</span></dt>
<dd class="field-odd"><p>if axis =0, concatenation is along the <code class="docutils literal notranslate"><span class="pre">rows</span></code> and if it is 1 concatenation is along the <code class="docutils literal notranslate"><span class="pre">columns</span></code></p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.results">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">results</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.results" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>property methods for getting simulated output</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.clear_db">
<span class="sig-name descname"><span class="pre">clear_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clear_db" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clears the database before any simulations.</p>
<p>First attempt a complete <code class="docutils literal notranslate"><span class="pre">deletion</span></code> of the database if that fails, existing tables are all deleted</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.clear_scratch">
<span class="sig-name descname"><span class="pre">clear_scratch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clear_scratch" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>clears the scratch directory where apsim files are cloned before being loaded. should be called after all simulations are completed</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.clean_up_data">
<span class="sig-name descname"><span class="pre">clean_up_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.clean_up_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Clears the data associated with each job. Please call this method after run_all_jobs is complete</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.save_tosql">
<span class="sig-name descname"><span class="pre">save_tosql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'aggregated_tables'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'fail'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'replace'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'append'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'fail'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.save_tosql" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Write simulation results to an SQLite database table.</p>
<p>This method writes <code class="docutils literal notranslate"><span class="pre">self.results</span></code> (a pandas DataFrame) to the given SQLite
database. It is designed to be robust in workflows where some simulations
may fail: any successfully simulated rows present in <code class="docutils literal notranslate"><span class="pre">self.results</span></code> are
still saved. This is useful when an ephemeral/temporary database was used
during simulation, and you need a durable copy.</p>
</section>
<section id="id272">
<h5>Parameters<a class="headerlink" href="#id272" title="Link to this heading"></a></h5>
<dl>
<dt>db_name<span class="classifier">str | pathlib.Path</span></dt><dd><p>Target database file. If a name without extension is provided, a
<code class="docutils literal notranslate"><span class="pre">.db</span></code> suffix is appended. If a relative path is given, it resolves
against the current working directory.</p>
</dd>
<dt>table_name<span class="classifier">str, optional</span></dt><dd><p>Name of the destination table. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;Report&quot;</span></code>.</p>
</dd>
<dt>if_exists: {“fail”, “replace”, “append”}, optional.</dt><dd><blockquote>
<div><p>Write mode passed through to pandas:
- <code class="docutils literal notranslate"><span class="pre">&quot;fail&quot;</span></code>: raise if the table already exists.
- <code class="docutils literal notranslate"><span class="pre">&quot;replace&quot;</span></code>: drop the table, create a new one, then insert.
- <code class="docutils literal notranslate"><span class="pre">&quot;append&quot;</span></code>: insert rows into existing table (default).
(defaults to fail if table exists, more secure for the users to know</p>
</div></blockquote>
<p>what they are doing)</p>
</dd>
</dl>
</section>
<section id="id273">
<h5>Raises<a class="headerlink" href="#id273" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>ValueError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">self.results</span></code> is missing or empty.</p>
</dd>
<dt>TypeError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">self.results</span></code> is not a pandas DataFrame.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the underlying database writes fails.</p>
</dd>
</dl>
</section>
<section id="id274">
<h5>Notes<a class="headerlink" href="#id274" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">self.results</span></code> contain only the rows you intend to persist with.
If you maintain a separate collection of failed/incomplete jobs, they
should not be included in <code class="docutils literal notranslate"><span class="pre">self.results</span></code>.</p></li>
<li><p>This method does not mutate <code class="docutils literal notranslate"><span class="pre">self.results</span></code>.</p></li>
</ul>
</section>
<section id="id275">
<h5>Examples<a class="headerlink" href="#id275" title="Link to this heading"></a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mgr</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">   sim_id  yield  n2o</span>
<span class="go">0       1   10.2  0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mgr</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;outputs/simulations.db&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.core_utils.database_utils.write_results_to_sql" title="apsimNGpy.core_utils.database_utils.write_results_to_sql"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_results_to_sql()</span></code></a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.save_tocsv">
<span class="sig-name descname"><span class="pre">save_tocsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_or_buf</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.save_tocsv" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Persist simulation results to a SQLite database table.</p>
<blockquote>
<div><p>This method writes <code class="docutils literal notranslate"><span class="pre">self.results</span></code> (a pandas DataFrame) to the given csv file. It is designed to be robust in workflows where some simulations
may fail: any successfully simulated rows present in <code class="docutils literal notranslate"><span class="pre">self.results</span></code> are
still saved. This is useful when an ephemeral/temporary database was used
during simulation and you need a durable copy</p>
</div></blockquote>
<p>.</p>
<p>Write object to a comma-separated values (csv) file.</p>
</section>
<section id="id276">
<h5>Parameters<a class="headerlink" href="#id276" title="Link to this heading"></a></h5>
<dl>
<dt>path_or_buf<span class="classifier">str, path object, file-like object, or None, default None</span></dt><dd><p>String, path object (implementing os.PathLike[str]), or file-like
object implementing a write() function. If None, the result is
returned as a string. If a non-binary file object is passed, it should
be opened with <code class="docutils literal notranslate"><span class="pre">newline=''</span></code>, disabling universal newlines. If a binary
file object is passed, <code class="docutils literal notranslate"><span class="pre">mode</span></code> might need to contain a <code class="docutils literal notranslate"><span class="pre">'b'</span></code>.</p>
</dd>
<dt>sep<span class="classifier">str, default ‘,’</span></dt><dd><p>String of length 1. Field delimiter for the output file.</p>
</dd>
<dt>na_rep<span class="classifier">str, default ‘’</span></dt><dd><p>Missing data representation.</p>
</dd>
<dt>float_format<span class="classifier">str, Callable, default None</span></dt><dd><p>Format string for floating point numbers. If a Callable is given, it takes
precedence over other numeric formatting parameters, like decimal.</p>
</dd>
<dt>columns<span class="classifier">sequence, optional</span></dt><dd><p>Columns to write.</p>
</dd>
<dt>header<span class="classifier">bool or list of str, default True</span></dt><dd><p>Write out the column names. If a list of strings is given it is
assumed to be aliases for the column names.</p>
</dd>
<dt>index<span class="classifier">bool, default True</span></dt><dd><p>Write row names (index).</p>
</dd>
<dt>index_label<span class="classifier">str or sequence, or False, default None</span></dt><dd><p>Column label for index column(s) if desired. If None is given, and
<code class="docutils literal notranslate"><span class="pre">header</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> are True, then the index names are used. A
sequence should be given if the object uses MultiIndex. If
False do not print fields for index names. Use index_label=False
for easier importing in R.</p>
</dd>
<dt>mode<span class="classifier">{‘w’, ‘x’, ‘a’}, default ‘w’</span></dt><dd><p>Forwarded to either <code class="docutils literal notranslate"><span class="pre">open(mode=)</span></code> or <code class="docutils literal notranslate"><span class="pre">fsspec.open(mode=)</span></code> to control
the file opening. Typical values include:</p>
<ul class="simple">
<li><p>‘w’, truncate the file first.</p></li>
<li><p>‘x’, exclusive creation, failing if the file already exists.</p></li>
<li><p>‘a’, append to the end of file if it exists.</p></li>
</ul>
</dd>
<dt>encoding<span class="classifier">str, optional</span></dt><dd><p>A string representing the encoding to use in the output file,
defaults to ‘utf-8’. <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is not supported if <code class="docutils literal notranslate"><span class="pre">path_or_buf</span></code>
is a non-binary file object.</p>
</dd>
<dt>compression<span class="classifier">str or dict, default ‘infer’</span></dt><dd><p>For on-the-fly compression of the output data. If ‘infer’ and ‘path_or_buf’ is
path-like, then detect compression from the following extensions: ‘.gz’,
‘.bz2’, ‘.zip’, ‘.xz’, ‘.zst’, ‘.tar’, ‘.tar.gz’, ‘.tar.xz’ or ‘.tar.bz2’
(otherwise no compression).
Set to <code class="docutils literal notranslate"><span class="pre">None</span></code> for no compression.
Can also be a dict with key <code class="docutils literal notranslate"><span class="pre">'method'</span></code> set
to one of {<code class="docutils literal notranslate"><span class="pre">'zip'</span></code>, <code class="docutils literal notranslate"><span class="pre">'gzip'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bz2'</span></code>, <code class="docutils literal notranslate"><span class="pre">'zstd'</span></code>, <code class="docutils literal notranslate"><span class="pre">'xz'</span></code>, <code class="docutils literal notranslate"><span class="pre">'tar'</span></code>} and
other key-value pairs are forwarded to
<code class="docutils literal notranslate"><span class="pre">zipfile.ZipFile</span></code>, <code class="docutils literal notranslate"><span class="pre">gzip.GzipFile</span></code>,
<code class="docutils literal notranslate"><span class="pre">bz2.BZ2File</span></code>, <code class="docutils literal notranslate"><span class="pre">zstandard.ZstdCompressor</span></code>, <code class="docutils literal notranslate"><span class="pre">lzma.LZMAFile</span></code> or
<code class="docutils literal notranslate"><span class="pre">tarfile.TarFile</span></code>, respectively.
As an example, the following could be passed for faster compression and to create
a reproducible gzip archive:
<code class="docutils literal notranslate"><span class="pre">compression={'method':</span> <span class="pre">'gzip',</span> <span class="pre">'compresslevel':</span> <span class="pre">1,</span> <span class="pre">'mtime':</span> <span class="pre">1}</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.5.0: </span>Added support for <code class="docutils literal notranslate"><span class="pre">.tar</span></code> files.</p>
<p>May be a dict with key ‘method’ as compression mode
and other entries as additional compression options if
compression mode is ‘zip’.</p>
<p>Passing compression options as keys in dict is
supported for compression modes ‘gzip’, ‘bz2’, ‘zstd’, and ‘zip’.</p>
</div>
</dd>
<dt>quoting<span class="classifier">optional constant from csv module</span></dt><dd><p>Defaults to csv.QUOTE_MINIMAL. If you have set a <code class="docutils literal notranslate"><span class="pre">float_format</span></code>
then floats are converted to strings and thus csv.QUOTE_NONNUMERIC
will treat them as non-numeric.</p>
</dd>
<dt>quotechar<span class="classifier">str, default ‘&quot;’</span></dt><dd><p>String of length 1. Character used to quote fields.</p>
</dd>
<dt>lineterminator<span class="classifier">str, optional</span></dt><dd><p>The newline character or character sequence to use in the output
file. Defaults to <code class="docutils literal notranslate"><span class="pre">os.linesep</span></code>, which depends on the OS in which
this method is called (’\n’ for linux, ‘\r\n’ for Windows, i.e.).</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.5.0: </span>Previously was line_terminator, changed for consistency with
read_csv and the standard library ‘csv’ module.</p>
</div>
</dd>
<dt>chunksize<span class="classifier">int or None</span></dt><dd><p>Rows to write at a time.</p>
</dd>
<dt>date_format<span class="classifier">str, default None</span></dt><dd><p>Format string for datetime objects.</p>
</dd>
<dt>doublequote<span class="classifier">bool, default True</span></dt><dd><p>Control quoting of <code class="docutils literal notranslate"><span class="pre">quotechar</span></code> inside a field.</p>
</dd>
<dt>escapechar<span class="classifier">str, default None</span></dt><dd><p>String of length 1. Character used to escape <code class="docutils literal notranslate"><span class="pre">sep</span></code> and <code class="docutils literal notranslate"><span class="pre">quotechar</span></code>
when appropriate.</p>
</dd>
<dt>decimal<span class="classifier">str, default ‘.’</span></dt><dd><p>Character recognized as decimal separator. E.g. use ‘,’ for
European data.</p>
</dd>
<dt>errors<span class="classifier">str, default ‘strict’</span></dt><dd><p>Specifies how encoding and decoding errors are to be handled.
See the errors argument for <a class="reference external" href="https://docs.python.org/3/library/functions.html#open" title="(in Python v3.14)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> for a full list
of options.</p>
</dd>
<dt>storage_options<span class="classifier">dict, optional</span></dt><dd><p>Extra options that make sense for a particular storage connection, e.g.
host, port, username, password, etc. For HTTP(S) URLs the key-value pairs
are forwarded to <code class="docutils literal notranslate"><span class="pre">urllib.request.Request</span></code> as header options. For other
URLs (e.g. starting with “s3://”, and “gcs://”) the key-value pairs are
forwarded to <code class="docutils literal notranslate"><span class="pre">fsspec.open</span></code>. Please see <code class="docutils literal notranslate"><span class="pre">fsspec</span></code> and <code class="docutils literal notranslate"><span class="pre">urllib</span></code> for more
details, and for more examples on storage options refer <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/io.html?highlight=storage_options#reading-writing-remote-files">here</a>.</p>
</dd>
</dl>
</section>
<section id="id277">
<h5>Returns<a class="headerlink" href="#id277" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>None or str</dt><dd><p>If path_or_buf is None, returns the resulting csv format as a
string. Otherwise returns None.</p>
</dd>
</dl>
</section>
<section id="id278">
<h5>See Also<a class="headerlink" href="#id278" title="Link to this heading"></a></h5>
<p>read_csv : Load a CSV file into a DataFrame.
to_excel : Write DataFrame to an Excel file.</p>
</section>
<section id="id279">
<h5>Examples<a class="headerlink" href="#id279" title="Link to this heading"></a></h5>
<p>Create ‘out.csv’ containing ‘df’ without indices</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Raphael&#39;</span><span class="p">,</span> <span class="s1">&#39;Donatello&#39;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;weapon&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;sai&#39;</span><span class="p">,</span> <span class="s1">&#39;bo staff&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;out.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Create ‘out.zip’ containing ‘out.csv’</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;name,mask,weapon\nRaphael,red,sai\nDonatello,purple,bo staff\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compression_opts</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;zip&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">archive_name</span><span class="o">=</span><span class="s1">&#39;out.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;out.zip&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">compression</span><span class="o">=</span><span class="n">compression_opts</span><span class="p">)</span>
</pre></div>
</div>
<p>To write a csv file to a new folder or nested folder you will first
need to create it using either Pathlib or os:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;folder/subfolder/out.csv&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;folder/subfolder&#39;</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;folder/subfolder/out.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.run_all_jobs">
<span class="sig-name descname"><span class="pre">run_all_jobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cores</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">17</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.run_all_jobs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>runs all provided jobs using <code class="docutils literal notranslate"><span class="pre">processes</span></code> or <code class="docutils literal notranslate"><span class="pre">threads</span></code> specified</p>
</section>
<section id="id280">
<h5>Parameters<a class="headerlink" href="#id280" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>threads: (bool) default is False</dt><dd><p>Threads or processes, recommended is to use processes</p>
</dd>
<dt>jobs: (iterable[simulations paths]</dt><dd><p>jobs to run</p>
</dd>
<dt>n_cores: (int)</dt><dd><p>number of cores to use</p>
</dd>
<dt>clear_db: (bool)</dt><dd><p>For clearing the database existing data if any. Defaults is True</p>
</dd>
<dt>kwargs:</dt><dd><dl class="simple">
<dt>retry_rate: (int, optional)</dt><dd><p>how many times to retry jobs before giving up</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.agg_func">
<span class="sig-name descname"><span class="pre">agg_func</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.agg_func" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'agg_func'</span> <span class="pre">of</span> <span class="pre">'MultiCoreManager'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.db_path">
<span class="sig-name descname"><span class="pre">db_path</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.db_path" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'db_path'</span> <span class="pre">of</span> <span class="pre">'MultiCoreManager'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.incomplete_jobs">
<span class="sig-name descname"><span class="pre">incomplete_jobs</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.incomplete_jobs" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'incomplete_jobs'</span> <span class="pre">of</span> <span class="pre">'MultiCoreManager'</span> <span class="pre">objects&gt;</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.mult_cores.MultiCoreManager.ran_ok">
<span class="sig-name descname"><span class="pre">ran_ok</span></span><a class="headerlink" href="#apsimNGpy.core.mult_cores.MultiCoreManager.ran_ok" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;member</span> <span class="pre">'ran_ok'</span> <span class="pre">of</span> <span class="pre">'MultiCoreManager'</span> <span class="pre">objects&gt;</span></code></p>
</section>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-pythonet-config">
<h2>apsimNGpy.core.pythonet_config<a class="headerlink" href="#apsimngpy-core-pythonet-config" title="Link to this heading"></a></h2>
<section id="module-attributes">
<h3>Module attributes<a class="headerlink" href="#module-attributes" title="Link to this heading"></a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.CI">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">CI</span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.CI" title="Link to this definition"></a></dt>
<dd><p>Default value: <code class="docutils literal notranslate"><span class="pre">ConfigRuntimeInfo(clr_loaded=True,</span> <span class="pre">bin_path=WindowsPath('D:/My_BOX/Box/PhD</span> <span class="pre">thes…</span></code></p>
</dd></dl>

</section>
<section id="id281">
<h3>Functions<a class="headerlink" href="#id281" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.get_apsim_file_reader">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">get_apsim_file_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'string'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.get_apsim_file_reader" title="Link to this definition"></a></dt>
<dd><p>Return an APSIM file reader callable based on the requested method.</p>
<p>This helper selects the appropriate APSIM NG <code class="docutils literal notranslate"><span class="pre">FileFormat</span></code> implementation,
accounting for runtime changes in the file format (via
<a class="reference internal" href="#apsimNGpy.core.pythonet_config.is_file_format_modified" title="apsimNGpy.core.pythonet_config.is_file_format_modified"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_file_format_modified()</span></code></a>) and whether the managed type is available
under <code class="docutils literal notranslate"><span class="pre">Models.Core.ApsimFile.FileFormat</span></code> or <code class="docutils literal notranslate"><span class="pre">APSIM.Core.FileFormat</span></code>.
It then returns the corresponding static method to read an APSIM file
either <strong>from a string</strong> or <strong>from a file path</strong>.</p>
<section id="id282">
<h4>Parameters<a class="headerlink" href="#id282" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>method: {“string”, “file”}, optional</dt><dd><p>Which reader to return:
- “string” &gt;&gt;&gt; returns <code class="docutils literal notranslate"><span class="pre">FileFormat.ReadFromString</span></code>.
- “file” &gt;&gt;&gt; returns <code class="docutils literal notranslate"><span class="pre">FileFormat.ReadFromFile</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code>.</p>
</dd>
</dl>
</section>
<section id="id283">
<h4>Returns<a class="headerlink" href="#id283" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>Callable</dt><dd><p>A .NET static method (callable from Python) that performs the read:
either <code class="docutils literal notranslate"><span class="pre">ReadFromString(text:</span> <span class="pre">str)</span></code> or <code class="docutils literal notranslate"><span class="pre">ReadFromFile(path:</span> <span class="pre">str)</span></code>.</p>
</dd>
</dl>
</section>
<section id="id284">
<h4>Raises<a class="headerlink" href="#id284" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>NotImplementedError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">method</span></code> is not one of <code class="docutils literal notranslate"><span class="pre">string</span></code> or <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p>
</dd>
<dt>AttributeError</dt><dd><p>If the underlying APSIM <code class="docutils literal notranslate"><span class="pre">FileFormat</span></code> type does not expose the
expected reader method (environment/binaries misconfigured).</p>
</dd>
</dl>
</section>
<section id="id285">
<h4>Notes<a class="headerlink" href="#id285" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>When : func:<code class="docutils literal notranslate"><span class="pre">is_file_format_modified</span></code> returns <code class="docutils literal notranslate"><span class="pre">bool</span></code>.If False, then
<code class="docutils literal notranslate"><span class="pre">Models.Core.ApsimFile.FileFormat</span></code> is unavailable, the function falls
back to <code class="docutils literal notranslate"><span class="pre">APSIM.Core.FileFormat</span></code>.</p></li>
<li><p>The returned callable is a .NET method; typical usage is
<code class="docutils literal notranslate"><span class="pre">reader</span> <span class="pre">=</span> <span class="pre">get_apsim_file_reader(&quot;file&quot;);</span> <span class="pre">model</span> <span class="pre">=</span> <span class="pre">reader(path)</span></code>.</p></li>
</ul>
</section>
<section id="id286">
<h4>Examples<a class="headerlink" href="#id286" title="Link to this heading"></a></h4>
<p>Read from a file path:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">get_apsim_file_reader</span><span class="p">(</span><span class="s2">&quot;file&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sims</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="s2">&quot;/path/to/model.apsimx&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Read from a string (APSXML/JSON depending on APSIM NG):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;...apsimx content...&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">get_apsim_file_reader</span><span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sims</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.get_apsim_version">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">get_apsim_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">WindowsPath('D:/My_BOX/Box/PhD</span> <span class="pre">thesis/Objective</span> <span class="pre">two/morrow</span> <span class="pre">plots</span> <span class="pre">20250821/APSIM2025.8.7844.0/bin')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">release_number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.get_apsim_version" title="Link to this definition"></a></dt>
<dd><p>Return the APSIM version string detected from the installed binaries.</p>
<p>The function initializes pythonnet for the given APSIM binaries path (via
<code class="docutils literal notranslate"><span class="pre">load_pythonnet(bin_path)</span></code>), then loads <code class="docutils literal notranslate"><span class="pre">Models.dll</span></code> and reads its
assembly version. By default, the returned string is prefixed with <code class="docutils literal notranslate"><span class="pre">&quot;APSIM&quot;</span></code>;
set <code class="docutils literal notranslate"><span class="pre">release_number=True</span></code> to get the raw semantic version.</p>
<section id="id287">
<h4>Parameters<a class="headerlink" href="#id287" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>bin_path<span class="classifier">str or pathlib.Path, optional</span></dt><dd><p>Filesystem path to the APSIM <strong>binaries</strong> directory that contains
<code class="docutils literal notranslate"><span class="pre">Models.dll</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">APSIM_BIN_PATH</span></code>.</p>
</dd>
<dt>release_number<span class="classifier">bool, optional</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns only the assembly version (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;2024.6.123&quot;</span></code>).
If <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), prefix with <code class="docutils literal notranslate"><span class="pre">&quot;APSIM&quot;</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;APSIM</span> <span class="pre">2024.6.123&quot;</span></code>).</p>
</dd>
</dl>
</section>
<section id="id288">
<h4>Returns<a class="headerlink" href="#id288" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>str or None</dt><dd><p>The version string if detected successfully; otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code> when
required system modules are unavailable (e.g., if the binaries path is
not correctly configured).</p>
</dd>
</dl>
</section>
<section id="id289">
<h4>Raises<a class="headerlink" href="#id289" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>ApsimBinPathConfigError</dt><dd><p>If pythonnet/CLR is not initialized for the provided <code class="docutils literal notranslate"><span class="pre">bin_path</span></code> (i.e.,
APSIM binaries path has not been set up).</p>
</dd>
</dl>
</section>
<section id="id290">
<h4>Notes<a class="headerlink" href="#id290" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>This call requires a valid APSIM NG binaries folder and a loadable
<code class="docutils literal notranslate"><span class="pre">Models.dll</span></code> at <code class="docutils literal notranslate"><span class="pre">bin_path/Models.dll</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">load_pythonnet</span></code> must succeed so that the CLR is available; otherwise
the version cannot be queried.</p></li>
</ul>
</section>
<section id="id291">
<h4>Examples<a class="headerlink" href="#id291" title="Link to this heading"></a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_apsim_version</span><span class="p">(</span><span class="s2">&quot;/opt/apsim/bin&quot;</span><span class="p">)</span>
<span class="go">&#39;APSIM2024.6.123&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_apsim_version</span><span class="p">(</span><span class="s2">&quot;/opt/apsim/bin&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;2024.6.123&#39;</span>
</pre></div>
</div>
</section>
<section id="id292">
<h4>See Also<a class="headerlink" href="#id292" title="Link to this heading"></a></h4>
<p>load_pythonnet : Initialize pythonnet/CLR for APSIM binaries.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.is_file_format_modified">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">is_file_format_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">NoneType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.is_file_format_modified" title="Link to this definition"></a></dt>
<dd><p>Checks if the APSIM.CORE.dll is present in the bin path. Normally, the new APSIM version has this dll file.</p>
<section id="id293">
<h4>Parameters<a class="headerlink" href="#id293" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>bin_path: Union[str, Path, None].</dt><dd><p>Default is the current bin_path for apsimNGpy, used only when bin_path is None.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.load_pythonnet">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">load_pythonnet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bin_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.load_pythonnet" title="Link to this definition"></a></dt>
<dd><p>A method for loading Python for .NET (pythonnet) and APSIM models from the binary path. It is also cached to
avoid rerunning many times.</p>
<p>It initializes the Python for .NET (pythonnet) runtime and load APSIM models.</p>
<p>Loads the ‘coreclr’ runtime, and if not found, falls back to an alternate runtime.
It also sets the APSIM binary path, adds the necessary references, and returns a reference to the loaded APSIM models.</p>
<section id="id294">
<h4>Returns:<a class="headerlink" href="#id294" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>ConfigRuntimeInfo:</dt><dd><p>an instance of ConfigRuntimeInfo with reference to the loaded APSIM models</p>
</dd>
</dl>
</section>
<section id="id295">
<h4>Raises:<a class="headerlink" href="#id295" title="Link to this heading"></a></h4>
<p>KeyError: If APSIM path is not found in the system environmental variable.
ValueError: If the provided APSIM path is invalid.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This function is called internally by apsimNGpy modules, but it is dependent on correct configuration of the bin
path. Please edit the system environmental variable on your computer or set it using: <a class="reference internal" href="#apsimNGpy.core.config.set_apsim_bin_path" title="apsimNGpy.core.config.set_apsim_bin_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_apsim_bin_path()</span></code></a></p>
</div>
</section>
</dd></dl>

</section>
<section id="id296">
<h3>Classes<a class="headerlink" href="#id296" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.ConfigRuntimeInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.pythonet_config.</span></span><span class="sig-name descname"><span class="pre">ConfigRuntimeInfo</span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.ConfigRuntimeInfo" title="Link to this definition"></a></dt>
<dd><p>ConfigRuntimeInfo(clr_loaded: bool, bin_path: Union[pathlib.Path, str], file_format_modified: bool = True)</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.ConfigRuntimeInfo.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clr_loaded</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.14)"><span class="pre">pathlib.Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format_modified</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.ConfigRuntimeInfo.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.pythonet_config.ConfigRuntimeInfo.file_format_modified">
<span class="sig-name descname"><span class="pre">file_format_modified</span></span><a class="headerlink" href="#apsimNGpy.core.pythonet_config.ConfigRuntimeInfo.file_format_modified" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-runner">
<h2>apsimNGpy.core.runner<a class="headerlink" href="#apsimngpy-core-runner" title="Link to this heading"></a></h2>
<section id="id297">
<h3>Functions<a class="headerlink" href="#id297" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.collect_csv_by_model_path">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">collect_csv_by_model_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'dict[Any,</span> <span class="pre">Any]'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.collect_csv_by_model_path" title="Link to this definition"></a></dt>
<dd><p>Collects the data from the simulated model after run</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.collect_csv_from_dir">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">collect_csv_from_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'pd.DataFrame'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.collect_csv_from_dir" title="Link to this definition"></a></dt>
<dd><p>Collects the csf=v files in a directory using a pattern, usually the pattern resembling the one of the simulations used to generate those csv files
<code class="docutils literal notranslate"><span class="pre">dir_path</span></code>: (str) path where to look for csv files
<code class="docutils literal notranslate"><span class="pre">recursive</span></code>: (bool) whether to recursively search through the directory defaults to false:
<code class="docutils literal notranslate"><span class="pre">pattern</span></code>:(str) pattern of the apsim files that produced the csv files through simulations</p>
<dl class="simple">
<dt>returns</dt><dd><p>a generator object with pandas data frames</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mock_data</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;mock_data&#39;</span> <span class="c1"># this a mock directory substitute accordingly</span>
<span class="n">df1</span><span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">collect_csv_from_dir</span><span class="p">(</span><span class="n">mock_data</span><span class="p">,</span> <span class="s1">&#39;*.apsimx&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span> <span class="c1"># collects all csf file produced by apsimx recursively</span>
<span class="n">df2</span><span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">collect_csv_from_dir</span><span class="p">(</span><span class="n">mock_data</span><span class="p">,</span> <span class="s1">&#39;*.apsimx&#39;</span><span class="p">,</span>  <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span> <span class="c1"># collects all csf file produced by apsimx only in the specified directory directory</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.collect_db_from_dir">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">collect_db_from_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'pd.DataFrame'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.collect_db_from_dir" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Collects the data in a directory using a pattern, usually the pattern resembling the one of the simulations</dt><dd><p>used to generate those csv files</p>
</dd>
</dl>
<section id="id298">
<h4>Parameters<a class="headerlink" href="#id298" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>dir_path<span class="classifier">(str)</span></dt><dd><p>path where to look for csv files</p>
</dd>
<dt>recursive<span class="classifier">(bool)</span></dt><dd><p>whether to recursively search through the directory defaults to false:</p>
</dd>
<dt>pattern :(str)</dt><dd><p>pattern of the apsim files that produced the csv files through simulations</p>
</dd>
<dt>returns</dt><dd><p>a generator object with pandas data frames</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mock_data</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;mock_data&#39;</span> <span class="c1"># this a mock directory substitute accordingly</span>
<span class="n">df1</span><span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">collect_csv_from_dir</span><span class="p">(</span><span class="n">mock_data</span><span class="p">,</span> <span class="s1">&#39;*.apsimx&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span> <span class="c1"># collects all csf file produced by apsimx recursively</span>
<span class="n">df2</span><span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">collect_csv_from_dir</span><span class="p">(</span><span class="n">mock_data</span><span class="p">,</span> <span class="s1">&#39;*.apsimx&#39;</span><span class="p">,</span>  <span class="n">recursive</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span> <span class="c1"># collects all csf file produced by apsimx only in the specified directory directory</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.get_apsim_version">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">get_apsim_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.runner.get_apsim_version" title="Link to this definition"></a></dt>
<dd><p>Display version information of the apsim model currently in the apsimNGpy config environment.</p>
<p><code class="docutils literal notranslate"><span class="pre">verbose</span></code>: (bool) Prints the version information <code class="docutils literal notranslate"><span class="pre">instantly</span></code></p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apsim_version</span> <span class="o">=</span> <span class="n">get_apsim_version</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.get_matching_files">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">get_matching_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">Path]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'List[Path]'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.get_matching_files" title="Link to this definition"></a></dt>
<dd><p>Search for files matching a given pattern in the specified directory.</p>
<dl class="simple">
<dt>Args:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">dir_path</span></code> (Union[str, Path]): The directory path to search in.
<code class="docutils literal notranslate"><span class="pre">pattern</span></code> (str): The filename pattern to match (e.g., “<a href="#id299"><span class="problematic" id="id300">*</span></a>.apsimx”).
<code class="docutils literal notranslate"><span class="pre">recursive</span></code> (bool): If True, search recursively; otherwise, search only in the top-level directory.</p>
</dd>
<dt>Returns:</dt><dd><p>List[Path]: A <code class="docutils literal notranslate"><span class="pre">list</span></code> of matching Path objects.</p>
</dd>
<dt>Raises:</dt><dd><p><a href="#id301"><span class="problematic" id="id302">``</span></a>ValueError: `` If no matching files are found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.run_from_dir">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">run_from_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_tocsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'[pd.DataFrame]'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.run_from_dir" title="Link to this definition"></a></dt>
<dd><p>This function acts as a wrapper around the <code class="docutils literal notranslate"><span class="pre">APSIM</span></code> command line recursive tool, automating
the execution of APSIM simulations on all files matching a given pattern in a specified
directory. It facilitates running simulations recursively across directories and outputs
the results for each file are stored to a csv file in the same directory as the file’.</p>
<p>What this function does is that it makes it easy to retrieve the simulated files, returning a generator that
yields data frames</p>
<section id="id303">
<h4>Parameters<a class="headerlink" href="#id303" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>dir_path: (str or Path, required).</dt><dd><p>The path to the directory where the simulation files are located.</p>
</dd>
<dt>pattern: (str, required)</dt><dd><p>The file pattern to match for simulation files (e.g., “<a href="#id304"><span class="problematic" id="id305">*</span></a>.apsimx”).</p>
</dd>
<dt>recursive: (bool, optional)</dt><dd><p>Recursively search through subdirectories for files matching the file specification.</p>
</dd>
<dt>write_tocsv: (bool, optional)</dt><dd><dl class="simple">
<dt>specify whether to write the simulation results to a csv. if true, the exported csv files bear the same name as the input apsimx file name</dt><dd><p>with suffix reportname.csv. if it is <code class="docutils literal notranslate"><span class="pre">False</span></code>. If <code class="docutils literal notranslate"><span class="pre">verbose</span></code>, the progress is printed as the elapsed time and the successfully saved csv</p>
</dd>
</dl>
</dd>
<dt>run_only: (bool, optional)</dt><dd><p>If True no results are loaded in memory.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>generator that yields data frames knitted by pandas if ran_only is False else None</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mock_data</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s1">&#39;mock_data&#39;</span>  <span class="c1"># As an example, let&#39;s mock some data; move the APSIM files to this directory before running</span>
<span class="n">mock_data</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.base_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_default_simulations</span>
<span class="n">path_to_model</span> <span class="o">=</span> <span class="n">load_default_simulations</span><span class="p">(</span><span class="n">crop</span><span class="o">=</span><span class="s1">&#39;maize&#39;</span><span class="p">,</span> <span class="n">simulations_object</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Get base model</span>

<span class="n">ap</span> <span class="o">=</span> <span class="n">path_to_model</span><span class="o">.</span><span class="n">replicate_file</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">mock_data</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">list</span><span class="p">(</span><span class="n">mock_data</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.apsimx&quot;</span><span class="p">))</span> <span class="k">else</span> <span class="kc">None</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">run_from_dir</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mock_data</span><span class="p">),</span> <span class="n">pattern</span><span class="o">=</span><span class="s2">&quot;*.apsimx&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># All files that match the pattern</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.runner.run_model_externally" title="apsimNGpy.core.runner.run_model_externally"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_model_externally()</span></code></a></p>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.run_model_externally">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">run_model_externally</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[Path,</span> <span class="pre">str]'</span></span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">apsim_exec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[Union[Path,</span> <span class="pre">str]]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">WindowsPath('D:/My_BOX/Box/PhD</span> <span class="pre">thesis/Objective</span> <span class="pre">two/morrow</span> <span class="pre">plots</span> <span class="pre">20250821/APSIM2025.8.7844.0/bin/Models.exe')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'int'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cwd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[Union[Path,</span> <span class="pre">str]]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[Mapping[str,</span> <span class="pre">str]]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'subprocess.CompletedProcess[str]'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core.runner.run_model_externally" title="Link to this definition"></a></dt>
<dd><p>Run APSIM externally (cross-platform) with safe defaults.</p>
<ul class="simple">
<li><p>Validates an executable and model path.</p></li>
<li><p>Captures stderr always; stdout only if verbose.</p></li>
<li><p>Uses UTF-8 decoding with error replacement.</p></li>
<li><p>Enforces a timeout and returns a CompletedProcess-like object.</p></li>
<li><p>Does NOT use shell, eliminating injection risk.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core.runner.run_from_dir" title="apsimNGpy.core.runner.run_from_dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">run_from_dir()</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.upgrade_apsim_file">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">upgrade_apsim_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.runner.upgrade_apsim_file" title="Link to this definition"></a></dt>
<dd><p>Upgrade a file to the latest version of the .apsimx file format without running the file.</p>
<section id="id306">
<h4>Parameters<a class="headerlink" href="#id306" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">file</span></code>: file to be upgraded to the newest version</p>
<p><code class="docutils literal notranslate"><span class="pre">verbose</span></code>: Write detailed messages to stdout when a conversion starts/finishes.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">return</span></code></dt><dd><p>The latest version of the .apsimx file with the same name as the input file</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.base_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_default_simulations</span>
<span class="n">filep</span> <span class="o">=</span><span class="n">load_default_simulations</span><span class="p">(</span><span class="n">simulations_object</span><span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="c1"># this is just an example perhaps you need to pass a lower verion file because this one is extracted from thecurrent model as the excutor</span>
<span class="n">upgrade_file</span> <span class="o">=</span><span class="n">upgrade_apsim_file</span><span class="p">(</span><span class="n">filep</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
<section id="id307">
<h3>Classes<a class="headerlink" href="#id307" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.RunError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.core.runner.</span></span><span class="sig-name descname"><span class="pre">RunError</span></span><a class="headerlink" href="#apsimNGpy.core.runner.RunError" title="Link to this definition"></a></dt>
<dd><p>Raised when the APSIM external run fails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.RunError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.runner.RunError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.RunError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.runner.RunError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core.runner.RunError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core.runner.RunError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

</section>
</section>
<section id="apsimngpy-core-utils-database-utils">
<h2>apsimNGpy.core_utils.database_utils<a class="headerlink" href="#apsimngpy-core-utils-database-utils" title="Link to this heading"></a></h2>
<p>Interface to APSIM simulation models using Python.NET</p>
<section id="id308">
<h3>Module attributes<a class="headerlink" href="#id308" title="Link to this heading"></a></h3>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.T">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">T</span></span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.T" title="Link to this definition"></a></dt>
<dd><p>Default value: <code class="docutils literal notranslate"><span class="pre">~T</span></code></p>
</dd></dl>

</section>
<section id="id309">
<h3>Functions<a class="headerlink" href="#id309" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.chunker">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">chunker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Iterable[T]'</span></span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[int]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[int]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillvalue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Optional[T]'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'Iterator[List[T]]'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.chunker" title="Link to this definition"></a></dt>
<dd><p>Yield chunks from <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<dl class="simple">
<dt>Choose exactly one of:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>: yield consecutive chunks of length <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>
(last chunk may be shorter unless <code class="docutils literal notranslate"><span class="pre">pad=True</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n_chunks</span></code>: split data into <code class="docutils literal notranslate"><span class="pre">n_chunks</span></code> nearly equal parts
(sizes differ by at most 1)</p></li>
</ul>
</dd>
</dl>
<section id="id310">
<h4>Args<a class="headerlink" href="#id310" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>data<span class="classifier">Iterable[T]</span></dt><dd><p>The input data (list, generator, etc.)</p>
</dd>
<dt>chunk_size<span class="classifier">int, optional</span></dt><dd><p>Fixed size for each chunk (&gt;=1).</p>
</dd>
<dt>n_chunks<span class="classifier">int, optional</span></dt><dd><p>Number of chunks to create (&gt;=1). Uses nearly equal sizes.</p>
</dd>
<dt>pad<span class="classifier">bool, default False</span></dt><dd><p>If True and using <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>, pad the last chunk to length <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code>.</p>
</dd>
<dt>fill value<span class="classifier">T, optional</span></dt><dd><p>Value to use when padding.</p>
</dd>
</dl>
</section>
<section id="yields">
<h4>Yields<a class="headerlink" href="#yields" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>List[T]</dt><dd><p>Chunks of the input data.</p>
</dd>
</dl>
</section>
<section id="id311">
<h4>Raises<a class="headerlink" href="#id311" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>ValueError</dt><dd><p>If neither or both of <code class="docutils literal notranslate"><span class="pre">chunk_size</span></code> and <code class="docutils literal notranslate"><span class="pre">n_chunks</span></code> are provided,
or if provided values are invalid.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.clear_all_tables">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">clear_all_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.clear_all_tables" title="Link to this definition"></a></dt>
<dd><p>Deletes all rows from all user-defined tables in the given SQLite database.</p>
<section id="id312">
<h4>Parameters<a class="headerlink" href="#id312" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>db<span class="classifier">str | Path</span></dt><dd><p>Path to the SQLite database file.</p>
</dd>
</dl>
</section>
<section id="id313">
<h4>Returns<a class="headerlink" href="#id313" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>None</dt><dd><p>This function does not return a value.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core_utils.database_utils.clear_table" title="apsimNGpy.core_utils.database_utils.clear_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_table()</span></code></a></p>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.clear_table">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">clear_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">Path]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.clear_table" title="Link to this definition"></a></dt>
<dd><p>Deletes all rows from all user-defined tables in the given SQLite database.</p>
<section id="id314">
<h4>Parameters<a class="headerlink" href="#id314" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>db<span class="classifier">str | Path</span></dt><dd><p>Path to the SQLite database file.</p>
</dd>
<dt>table_name<span class="classifier">str</span></dt><dd><p>Name of the target table to delete from the database <code class="docutils literal notranslate"><span class="pre">db</span></code></p>
</dd>
</dl>
</section>
<section id="id315">
<h4>Returns<a class="headerlink" href="#id315" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>None</dt><dd><p>This function does not return a value.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core_utils.database_utils.clear_all_tables" title="apsimNGpy.core_utils.database_utils.clear_all_tables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_all_tables()</span></code></a></p>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.dataview_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">dataview_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reports</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.dataview_to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Convert .NET System.Data.DataView to Pandas DataFrame.
report (str, list, tuple) of the report to be displayed. these should be in the simulations
:param apsimng model: CoreModel object or instance
:return: Pandas DataFrame</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.delete_all_tables">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">delete_all_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'None'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.delete_all_tables" title="Link to this definition"></a></dt>
<dd><p>Deletes all tables in the specified SQLite database.</p>
<p>⚠️ Proceed with caution: this operation is irreversible.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>db (str): Path to the SQLite database file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.delete_table">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">delete_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.delete_table" title="Link to this definition"></a></dt>
<dd><p>deletes the table in a database.</p>
<p>⚠️ Proceed with caution: this operation is irreversible.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.get_db_table_names">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">get_db_table_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.get_db_table_names" title="Link to this definition"></a></dt>
<dd><section id="parameter">
<h4>Parameter<a class="headerlink" href="#parameter" title="Link to this heading"></a></h4>
<p>db : database name or path.</p>
<dl class="simple">
<dt>return: list of table names</dt><dd><p>All names <code class="docutils literal notranslate"><span class="pre">SQL</span></code> database table <code class="docutils literal notranslate"><span class="pre">names</span></code> existing within the database</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.read_db_table">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">read_db_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">Path]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.read_db_table" title="Link to this definition"></a></dt>
<dd><p>Connects to a specified SQLite database, retrieves the entire contents of a
specified table, and returns the results as a pandas DataFrame.</p>
<section id="id316">
<h4>Parameters<a class="headerlink" href="#id316" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>db<span class="classifier">str | Path</span></dt><dd><p>Path to the SQLite database file.</p>
</dd>
<dt>report_name<span class="classifier">str</span></dt><dd><p>Name of the table in the database from which to retrieve data.</p>
</dd>
</dl>
</section>
<section id="id317">
<h4>Returns<a class="headerlink" href="#id317" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>pandas.DataFrame</dt><dd><p>A DataFrame containing all records from the specified table.</p>
</dd>
</dl>
</section>
<section id="id318">
<h4>Examples<a class="headerlink" href="#id318" title="Link to this heading"></a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">database_path</span> <span class="o">=</span> <span class="s1">&#39;your_database.sqlite&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table_name</span> <span class="o">=</span> <span class="s1">&#39;your_table&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddf</span> <span class="o">=</span> <span class="n">read_db_table</span><span class="p">(</span><span class="n">database_path</span><span class="p">,</span> <span class="n">table_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ddf</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id319">
<h4>Notes<a class="headerlink" href="#id319" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Establishes a connection to the SQLite database, executes <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> on the
specified table, loads the result into a DataFrame, and then closes the
connection.</p></li>
<li><p>Ensure that the database path and table name are correct.</p></li>
<li><p>This function retrieves <strong>all</strong> records; use with caution for very large
tables.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.read_with_query">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">read_with_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.read_with_query" title="Link to this definition"></a></dt>
<dd><p>Executes an SQL query on a specified SQLite database and returns the result as a
pandas DataFrame.</p>
<section id="id320">
<h4>Parameters<a class="headerlink" href="#id320" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>db<span class="classifier">str</span></dt><dd><p>Database file path or identifier to connect to.</p>
</dd>
<dt>query<span class="classifier">str</span></dt><dd><p>SQL query string to execute. Must be a valid <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p>
</dd>
</dl>
</section>
<section id="id321">
<h4>Returns<a class="headerlink" href="#id321" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>pandas.DataFrame</dt><dd><p>A DataFrame containing the results of the SQL query.</p>
</dd>
</dl>
</section>
<section id="id322">
<h4>Examples<a class="headerlink" href="#id322" title="Link to this heading"></a></h4>
<p>Define the database and the query</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">database_path</span> <span class="o">=</span> <span class="s1">&#39;your_database.sqlite&#39;</span>
<span class="n">sql_query</span> <span class="o">=</span> <span class="s1">&#39;SELECT * FROM your_table WHERE condition = values&#39;</span>

<span class="c1"># Get the query result as a DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">read_with_query</span><span class="p">(</span><span class="n">database_path</span><span class="p">,</span> <span class="n">sql_query</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id323">
<h4>Notes<a class="headerlink" href="#id323" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Opens a connection to the SQLite database, executes the given query,
loads the results into a DataFrame, and then closes the connection.</p></li>
<li><p>Ensure that the database path and query are correct and that the query
is a proper SQL <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p></li>
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> for the connection; confirm it is appropriate for your database.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API: <a class="reference internal" href="#apsimNGpy.core_utils.database_utils.read_db_table" title="apsimNGpy.core_utils.database_utils.read_db_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_db_table()</span></code></a></p>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.core_utils.database_utils.write_results_to_sql">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.core_utils.database_utils.</span></span><span class="sig-name descname"><span class="pre">write_results_to_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Union[str,</span> <span class="pre">Path]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'str'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Report'</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">&quot;Literal['fail',</span> <span class="pre">'replace',</span> <span class="pre">'append']&quot;</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'append'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'InsertFn</span> <span class="pre">|</span> <span class="pre">None'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_parent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'bool'</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="s"><span class="pre">'Callable'</span></span></span></span><a class="headerlink" href="#apsimNGpy.core_utils.database_utils.write_results_to_sql" title="Link to this definition"></a></dt>
<dd><p>Decorator factory: collect the wrapped function’s returned data and insert it or saves it into SQLite database.</p>
<p>After the wrapped function executes, its return value is normalized to a list of
<code class="docutils literal notranslate"><span class="pre">(table,</span> <span class="pre">DataFrame)</span></code> pairs via <code class="docutils literal notranslate"><span class="pre">_normalize_result</span></code> and inserted into <code class="docutils literal notranslate"><span class="pre">db_path</span></code> using
either the provided <code class="docutils literal notranslate"><span class="pre">insert_fn</span></code> or the default <code class="docutils literal notranslate"><span class="pre">_default_insert_fn</span></code> (which relies on
<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame.to_sql</span></code> + SQLAlchemy). The original return value is passed through
unchanged to the caller.</p>
<section id="accepted-return-shapes">
<h4>Accepted return shapes<a class="headerlink" href="#accepted-return-shapes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>                          -&gt; appended to <code class="docutils literal notranslate"><span class="pre">table</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(table_name:</span> <span class="pre">str,</span> <span class="pre">df:</span> <span class="pre">pd.DataFrame)</span></code>   -&gt; appended to <code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list[pd.DataFrame]</span></code>                    -&gt; each appended to <code class="docutils literal notranslate"><span class="pre">table</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list[(table_name,</span> <span class="pre">df)]</span></code>                -&gt; routed per pair</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{&quot;data&quot;:</span> <span class="pre">&lt;df|list[dict]|dict-of-cols&gt;,</span> <span class="pre">&quot;table&quot;:</span> <span class="pre">&quot;MyTable&quot;}</span></code> -&gt; to “MyTable”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{&quot;TblA&quot;:</span> <span class="pre">df_or_records,</span> <span class="pre">&quot;TblB&quot;:</span> <span class="pre">df2}</span></code>  -&gt; multiple tables</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list[dict]</span></code> or <code class="docutils literal notranslate"><span class="pre">dict-of-columns</span></code>       -&gt; coerced to DataFrame -&gt; appended to <code class="docutils literal notranslate"><span class="pre">table</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>                                  -&gt; no-op</p></li>
</ul>
</section>
<section id="id324">
<h4>Parameters<a class="headerlink" href="#id324" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>db_path<span class="classifier">str | pathlib.Path</span></dt><dd><p>Destination SQLite file. A <code class="docutils literal notranslate"><span class="pre">.db</span></code> suffix is enforced if missing. If <code class="docutils literal notranslate"><span class="pre">ensure_parent</span></code>
is True, parent directories are created.</p>
</dd>
<dt>table<span class="classifier">str, default “Report”</span></dt><dd><p>Default table name when the return shape does not carry one.</p>
</dd>
<dt>if_exists: {“fail”, “replace”, “append”}, default “append”</dt><dd><p>Passed to <code class="docutils literal notranslate"><span class="pre">to_sql</span></code> by the inserter. See panda docs for semantics.</p>
</dd>
<dt>insert_fn<span class="classifier">callable, optional</span></dt><dd><p>Custom inserter <code class="docutils literal notranslate"><span class="pre">(db_path,</span> <span class="pre">df,</span> <span class="pre">table,</span> <span class="pre">if_exists)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></code>. Use this to:
- reuse a single connection/transaction across multiple tables,
- enable SQLite WAL mode and retry on lock,
- control dtype mapping or target a different DBMS.</p>
</dd>
<dt>ensure_parent<span class="classifier">bool, default True</span></dt><dd><p>If True, create missing parent directories for <code class="docutils literal notranslate"><span class="pre">db_path</span></code>.</p>
</dd>
</dl>
</section>
<section id="id325">
<h4>Returns<a class="headerlink" href="#id325" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>Callable</dt><dd><p>A decorator that, when applied to a function, performs the persistence step
after the function returns and then yields the original result.</p>
</dd>
</dl>
</section>
<section id="id326">
<h4>Raises<a class="headerlink" href="#id326" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>TypeError</dt><dd><p>If the wrapped function’s result cannot be normalized by <code class="docutils literal notranslate"><span class="pre">_normalize_result</span></code>.</p>
</dd>
<dt>RuntimeError</dt><dd><p>If any insert operation fails (original exception is chained as <code class="docutils literal notranslate"><span class="pre">__cause__</span></code>).</p>
</dd>
<dt>OSError</dt><dd><p>On path or filesystem errors when creating the database directory/file.</p>
</dd>
</dl>
</section>
<section id="id327">
<h4>Side Effects<a class="headerlink" href="#id327" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Creates parent directories for <code class="docutils literal notranslate"><span class="pre">db_path</span></code> (when <code class="docutils literal notranslate"><span class="pre">ensure_parent=True</span></code>).</p></li>
<li><p>Creates/opens the SQLite database and writes one or more tables.</p></li>
<li><p><strong>Skips empty frames</strong>: pairs where <code class="docutils literal notranslate"><span class="pre">df</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">df.empty</span></code> are ignored.</p></li>
<li><p>May DROP + CREATE the table when <code class="docutils literal notranslate"><span class="pre">if_exists=&quot;replace&quot;</span></code>.</p></li>
</ul>
</section>
<section id="cautions">
<h4>Cautions<a class="headerlink" href="#cautions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a href="#id328"><span class="problematic" id="id329">**</span></a>SQLite concurrency: ** Concurrent writers can trigger “database is locked”.
Consider a custom <code class="docutils literal notranslate"><span class="pre">insert_fn</span></code> enabling WAL mode, retries, and transactional
batching for robustness.</p></li>
<li><p><a href="#id330"><span class="problematic" id="id331">**</span></a>Table name safety: ** Avoid propagating untrusted table names; identifier quoting
is driver-dependent.</p></li>
<li><p><strong>Schema drift:</strong> <code class="docutils literal notranslate"><span class="pre">to_sql</span></code> infers SQL schema from the DataFrame’s dtypes each call.
Ensure stable dtypes or manage schema explicitly in your <code class="docutils literal notranslate"><span class="pre">insert_fn</span></code>.</p></li>
<li><p><a href="#id332"><span class="problematic" id="id333">**</span></a>Timezones: ** Pandas may localize/naivify datetime on writing; verify round-trips
if timezone fidelity matters.</p></li>
<li><p><a href="#id334"><span class="problematic" id="id335">**</span></a>Performance: ** Creating a new engine/connection per insert is simple but not optimal.
For high-volume pipelines, supply an <code class="docutils literal notranslate"><span class="pre">insert_fn</span></code> that reuses a connection and commits
once per batch.</p></li>
</ul>
</section>
<section id="design-rationale">
<h4>Design rationale<a class="headerlink" href="#design-rationale" title="Link to this heading"></a></h4>
<p>Separates computation from persistence. The decorator is explicit about <em>where</em> data
goes (db path, table names) and flexible about <em>what</em> callers return, reducing boilerplate
in the business logic while still allowing power users to override insertion strategy.</p>
</section>
<section id="id336">
<h4>Examples<a class="headerlink" href="#id336" title="Link to this heading"></a></h4>
<p>Basic usage, single table with default appends:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@collect_returned_results</span><span class="p">(</span><span class="s2">&quot;outputs/results.db&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">run_analysis</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">df</span>  <span class="c1"># a DataFrame</span>
</pre></div>
</div>
<p>Multiple tables using a mapping shape:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@collect_returned_results</span><span class="p">(</span><span class="s2">&quot;outputs/results.db&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">summarize</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Summary&quot;</span><span class="p">:</span> <span class="n">df1</span><span class="p">,</span> <span class="s2">&quot;Metrics&quot;</span><span class="p">:</span> <span class="n">df2</span><span class="p">}</span>
</pre></div>
</div>
<p>Custom inserter enabling WAL mode and a single transaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">wal_insert</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">if_exists</span><span class="p">):</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">sqlite3</span>
    <span class="n">con</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">isolation_level</span><span class="o">=</span><span class="s2">&quot;DEFERRED&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">con</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;PRAGMA journal_mode=WAL;&quot;</span><span class="p">)</span>
        <span class="n">df</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">con</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="n">if_exists</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">con</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="kn">import</span> <span class="n">DataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core_utils.database_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">write_results_to_sql</span><span class="p">,</span> <span class="n">read_db_table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@write_results_to_sql</span><span class="p">(</span><span class="n">db_path</span><span class="o">=</span><span class="s2">&quot;db.db&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="s2">&quot;replace&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span><span class="w"> </span><span class="nf">get_report</span><span class="p">():</span>
<span class="gp">... </span>    <span class="c1"># Return a DataFrame to be written to SQLite</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">]})</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">get_report</span><span class="p">()</span>  <span class="c1"># executes and writes to db.db::Report</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">read_db_table</span><span class="p">(</span><span class="s2">&quot;db.db&quot;</span><span class="p">,</span> <span class="n">report_name</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go"> x  y</span>
<span class="go"> 2  4</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Related API:
<code class="xref py py-meth docutils literal notranslate"><span class="pre">save_tosql()</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">insert_data()</span></code></p>
</div>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-exceptions">
<h2>apsimNGpy.exceptions<a class="headerlink" href="#apsimngpy-exceptions" title="Link to this heading"></a></h2>
<section id="id337">
<h3>Classes<a class="headerlink" href="#id337" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimBinPathConfigError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ApsimBinPathConfigError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimBinPathConfigError" title="Link to this definition"></a></dt>
<dd><p>Raised when the APSIM bin path is misconfigured or incomplete.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimBinPathConfigError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimBinPathConfigError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimBinPathConfigError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimBinPathConfigError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimBinPathConfigError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimBinPathConfigError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNGpyError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ApsimNGpyError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNGpyError" title="Link to this definition"></a></dt>
<dd><p>Base class for all apsimNGpy-related exceptions. These errors are more descriptive than just rising a value error</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNGpyError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNGpyError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNGpyError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNGpyError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNGpyError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNGpyError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNotFoundError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ApsimNotFoundError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNotFoundError" title="Link to this definition"></a></dt>
<dd><p>Raised when the APSIM executable or directory is not found.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNotFoundError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNotFoundError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNotFoundError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNotFoundError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimNotFoundError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimNotFoundError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimRuntimeError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ApsimRuntimeError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimRuntimeError" title="Link to this definition"></a></dt>
<dd><p>occurs when an error occurs during running APSIM models with Models.exe or Models on Mac and linnux</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimRuntimeError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimRuntimeError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimRuntimeError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimRuntimeError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ApsimRuntimeError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ApsimRuntimeError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.CastCompilationError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">CastCompilationError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.CastCompilationError" title="Link to this definition"></a></dt>
<dd><p>Raised when the C# cast helper DLL fails to compile.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.CastCompilationError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.CastCompilationError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.CastCompilationError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.CastCompilationError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.CastCompilationError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.CastCompilationError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.EmptyDateFrameError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">EmptyDateFrameError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.EmptyDateFrameError" title="Link to this definition"></a></dt>
<dd><p>Raised when a DataFrame is unexpectedly empty.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.EmptyDateFrameError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.EmptyDateFrameError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.EmptyDateFrameError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.EmptyDateFrameError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.EmptyDateFrameError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.EmptyDateFrameError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ForgotToRunError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ForgotToRunError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ForgotToRunError" title="Link to this definition"></a></dt>
<dd><p>Raised when a required APSIM model run was skipped or forgotten.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ForgotToRunError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ForgotToRunError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ForgotToRunError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ForgotToRunError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ForgotToRunError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ForgotToRunError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.InvalidInputErrors">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">InvalidInputErrors</span></span><a class="headerlink" href="#apsimNGpy.exceptions.InvalidInputErrors" title="Link to this definition"></a></dt>
<dd><p>Raised when the input provided is invalid or improperly formatted.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.InvalidInputErrors.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.InvalidInputErrors.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.InvalidInputErrors.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.InvalidInputErrors.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.InvalidInputErrors.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.InvalidInputErrors.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ModelNotFoundError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">ModelNotFoundError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.ModelNotFoundError" title="Link to this definition"></a></dt>
<dd><p>Raised when a specified model  cannot be found.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ModelNotFoundError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ModelNotFoundError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ModelNotFoundError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ModelNotFoundError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.ModelNotFoundError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.ModelNotFoundError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.NodeNotFoundError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">NodeNotFoundError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.NodeNotFoundError" title="Link to this definition"></a></dt>
<dd><p>Raised when a specified model node cannot be found.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.NodeNotFoundError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.NodeNotFoundError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.NodeNotFoundError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.NodeNotFoundError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.NodeNotFoundError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.NodeNotFoundError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.TableNotFoundError">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.exceptions.</span></span><span class="sig-name descname"><span class="pre">TableNotFoundError</span></span><a class="headerlink" href="#apsimNGpy.exceptions.TableNotFoundError" title="Link to this definition"></a></dt>
<dd><p>the table was not found error.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.TableNotFoundError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.TableNotFoundError.with_traceback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.TableNotFoundError.add_note">
<span class="sig-name descname"><span class="pre">add_note</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.TableNotFoundError.add_note" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Exception.add_note(note) –
add a note to the exception</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.exceptions.TableNotFoundError.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.exceptions.TableNotFoundError.args" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">&lt;attribute</span> <span class="pre">'args'</span> <span class="pre">of</span> <span class="pre">'BaseException'</span> <span class="pre">objects&gt;</span></code></p>
</dd></dl>

</section>
</section>
<section id="apsimngpy-optimizer-moo">
<h2>apsimNGpy.optimizer.moo<a class="headerlink" href="#apsimngpy-optimizer-moo" title="Link to this heading"></a></h2>
<section id="id338">
<h3>Classes<a class="headerlink" href="#id338" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.optimizer.moo.</span></span><span class="sig-name descname"><span class="pre">MultiObjectiveProblem</span></span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem" title="Link to this definition"></a></dt>
<dd><section id="id339">
<h4>List of Public Attributes:<a class="headerlink" href="#id339" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">indicators</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">outcomes</span></code></p></li>
</ul>
<section id="id340">
<h5>List of Public Methods<a class="headerlink" href="#id340" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><a class="reference internal" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.add_control" title="apsimNGpy.optimizer.moo.MultiObjectiveProblem.add_control"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_control()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.is_mixed_type_vars" title="apsimNGpy.optimizer.moo.MultiObjectiveProblem.is_mixed_type_vars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_mixed_type_vars()</span></code></a></p></li>
<li><p><a class="reference internal" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.minimize" title="apsimNGpy.optimizer.moo.MultiObjectiveProblem.minimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">minimize()</span></code></a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apsim_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">apsimNGpy.core.cal.OptimizationBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objectives</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">decision_vars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="id341">
<h5>Parameters<a class="headerlink" href="#id341" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>apsim_runner<span class="classifier">apsimNGpy.core.cal.OptimizationBase</span></dt><dd><p>Instance to run APSIM simulations.</p>
</dd>
<dt>objectives<span class="classifier">list of callable.</span></dt><dd><p>List of functions that take simulation output (DataFrame) and return scalar objective values.</p>
</dd>
<dt>decision_vars<span class="classifier">list of dict, optional</span></dt><dd><p>Each dict must have: ‘path’, ‘bounds’, ‘v_type’, ‘kwargs’.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem.optimization_type">
<span class="sig-name descname"><span class="pre">optimization_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.optimization_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Must be implemented as a property in subclass</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem.is_mixed_type_vars">
<span class="sig-name descname"><span class="pre">is_mixed_type_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.is_mixed_type_vars" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Detect if decision vars contain types other than float or int.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.minimize" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Minimization of function of one or more variables, objectives and constraints. wraps around Pymoo</p>
</section>
<section id="id342">
<h5>Parameters<a class="headerlink" href="#id342" title="Link to this heading"></a></h5>
<dl>
<dt>kwargs<span class="classifier">dict</span></dt><dd><ul>
<li><dl class="simple">
<dt>problem: instance of <code class="docutils literal notranslate"><span class="pre">pymoo.core.problem.Problem</span></code></dt><dd><p>A problem object which is defined using pymoo.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>algorithm: instance of <code class="docutils literal notranslate"><span class="pre">pymoo.core.algorithm.Algorithm</span></code></dt><dd><p>The algorithm object that should be used for the optimization.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>termination: <code class="docutils literal notranslate"><span class="pre">pymoo.core.termination.Termination</span></code> or tuple default is None</dt><dd><p>Usually the termination criterion that is used to stop the algorithm.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>seed<span class="classifier">integer</span></dt><dd><p>The random seed to be used.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Whether output should be printed or not.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>display<span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></span></dt><dd><p>Each algorithm has a default display object for printouts. However, it can be overwritten if desired.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>callback<span class="classifier"><code class="docutils literal notranslate"><span class="pre">pymoo.core.callback.Callback</span></code></span></dt><dd><p>A callback object which is called each iteration of the algorithm.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>save_history<span class="classifier">bool</span></dt><dd><p>Whether the history should be stored or not.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><dl class="simple">
<dt>copy_algorithm<span class="classifier">bool</span></dt><dd><p>Whether the algorithm object should be copied before optimization.</p>
</dd>
</dl>
</li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.moo.MultiObjectiveProblem.add_control">
<span class="sig-name descname"><span class="pre">add_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.moo.MultiObjectiveProblem.add_control" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a single APSIM parameter to be optimized.</p>
</section>
<section id="id343">
<h5>Parameters<a class="headerlink" href="#id343" title="Link to this heading"></a></h5>
<dl>
<dt>path<span class="classifier">str</span></dt><dd><blockquote>
<div><p>APSIM component path.</p>
</div></blockquote>
<dl class="simple">
<dt>v_type<span class="classifier">type</span></dt><dd><p>The Python type of the variable. Should be either <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">float</span></code> for continous variable problem or
‘uniform’, ‘choice’,  ‘grid’,   ‘categorical’,   ‘qrandint’,  ‘quniform’ for mixed variable problem</p>
</dd>
</dl>
</dd>
<dt>start_value<span class="classifier">any (type determined by the variable type.</span></dt><dd><p>The initial value to use for the parameter in optimization routines. Only required for single objective optimizations</p>
</dd>
<dt>bounds<span class="classifier">tuple of (float, float), optional</span></dt><dd><p>Lower and upper bounds for the parameter (used in bounded optimization).
Must be a tuple like (min, max). If None, the variable is considered unbounded or categorical or the algorithm to be used do not support bounds</p>
</dd>
<dt>kwargs: dict</dt><dd><p>One of the key-value pairs must contain a value of ‘?’, indicating the parameter to be filled during optimization.
Keyword arguments are used because most APSIM models have unique parameter structures, and this approach allows
flexible specification of model-specific parameters. It is also possible to pass other parameters associated with the model in question to be changed on the fly.</p>
</dd>
</dl>
</section>
<section id="id344">
<h5>Returns<a class="headerlink" href="#id344" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self<span class="classifier">object</span></dt><dd><p>Returns self to support method chaining.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>Raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the provided arguments do not pass validation via <code class="docutils literal notranslate"><span class="pre">_evaluate_args</span></code>.</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This method is typically used before running optimization to define which
parameters should be tuned.</p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
 <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.optimizer</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiObjectiveProblem</span>
 <span class="n">runner</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>

<span class="n">_vars</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
 <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}</span>
 <span class="p">]</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="n">decision_vars</span><span class="o">=</span><span class="n">_vars</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
       <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">})</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
       <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]})</span>
</pre></div>
</div>
</section>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-optimizer-single">
<h2>apsimNGpy.optimizer.single<a class="headerlink" href="#apsimngpy-optimizer-single" title="Link to this heading"></a></h2>
<section id="id345">
<h3>Classes<a class="headerlink" href="#id345" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.optimizer.single.</span></span><span class="sig-name descname"><span class="pre">ContinuousVariable</span></span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable" title="Link to this definition"></a></dt>
<dd><p>Defines an optimization problem for continuous variables in APSIM simulations.</p>
<p>This class enables the user to configure and solve optimization problems involving continuous
control variables in APSIM models. It provides methods for setting up control variables,
applying bounds and starting values, inserting variable values into APSIM model configurations,
and running optimization routines using local solvers or differential evolution.</p>
<dl>
<dt>Inherits from:</dt><dd><p>AbstractProblem: A base class providing caching and model-editing functionality.</p>
</dd>
<dt>Parameters:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">(str):</span></code> The name or path of the APSIM template file.
.
<code class="docutils literal notranslate"><span class="pre">simulation</span> <span class="pre">(str</span> <span class="pre">or</span> <span class="pre">list,</span> <span class="pre">optional)</span></code>: The name(s) of the APSIM simulation(s) to target.</p>
<blockquote>
<div><p>Defaults to all simulations.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">decision_vars</span></code> (list, optional): A list of VarDesc instances defining variable metadata.</p>
<p><code class="docutils literal notranslate"><span class="pre">labels</span> <span class="pre">(list,</span> <span class="pre">optional)</span></code>: Variable labels for display and results tracking.</p>
<p><code class="docutils literal notranslate"><span class="pre">cache_size</span> <span class="pre">(int):</span></code> Maximum number of results to store in the evaluation cache.</p>
</dd>
<dt>Attributes:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">(str):</span></code> The APSIM model template file name.</p>
<p><code class="docutils literal notranslate"><span class="pre">simulation</span> <span class="pre">(str):</span></code> Target simulation(s).</p>
<p><code class="docutils literal notranslate"><span class="pre">decision_vars</span> <span class="pre">(list):</span></code> Defined control variables.</p>
<p><code class="docutils literal notranslate"><span class="pre">decission_vars</span> <span class="pre">(list):</span></code> List of VarDesc instances for optimization.</p>
<p><code class="docutils literal notranslate"><span class="pre">labels</span> <span class="pre">(list):</span> <span class="pre">Labels</span></code> for variables.</p>
<p><code class="docutils literal notranslate"><span class="pre">pbar</span> <span class="pre">(tqdm):</span></code> Progress bar instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">`cache</span> <span class="pre">(bool):</span></code> Whether to cache evaluation results.</p>
<p><code class="docutils literal notranslate"><span class="pre">`cache_size</span> <span class="pre">(int):</span></code> Size of the local cache.</p>
</dd>
<dt>Methods:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">add_control(...):</span></code> Add a new control variable to the optimization problem.</p>
<p><code class="docutils literal notranslate"><span class="pre">bounds:</span></code> Return the bounds for all control variables as a tuple.</p>
<p><code class="docutils literal notranslate"><span class="pre">starting_values():</span></code> Return the initial values for all control variables.</p>
<p><code class="docutils literal notranslate"><span class="pre">minimize_with_local_solver(...):</span></code> Optimize using <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">optimize_with_differential_evolution(...):</span></code> Optimize using <code class="docutils literal notranslate"><span class="pre">scipy.optimize.differential_evolution</span></code>.</p>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">Problem</span><span class="p">(</span><span class="n">ContVarProblem</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">Yield</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">simulation</span><span class="o">=</span><span class="s2">&quot;Sim&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span><span class="s2">&quot;Manager&quot;</span><span class="p">,</span> <span class="s2">&quot;Sow using a rule&quot;</span><span class="p">,</span> <span class="s2">&quot;Population&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">minimize_with_local_solver</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;Powell&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">x_vars</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apsim_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'apsimNGpy.core.apsim.ApsimModel'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cache_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objectives</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decision_vars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.minimize_with_a_local_solver">
<span class="sig-name descname"><span class="pre">minimize_with_a_local_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.minimize_with_a_local_solver" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Run a local optimization solver using <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code>.</p>
<p>This method wraps <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code> to solve APSIM optimization problems
defined using APSIM control variables and variable encodings. It tracks optimization progress via a progress bar,
and decodes results into user-friendly labeled dictionaries.</p>
<p>Optimization methods avail
able in <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code> include:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Gradient Required</p></th>
<th class="head"><p>Handles Bounds</p></th>
<th class="head"><p>Handles Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Nelder-Mead</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Simplex algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>Powell</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Direction set method</p></td>
</tr>
<tr class="row-even"><td><p>CG</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Conjugate Gradient</p></td>
</tr>
<tr class="row-odd"><td><p>BFGS</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Quasi-Newton</p></td>
</tr>
<tr class="row-even"><td><p>Newton-CG</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Newton’s method</p></td>
</tr>
<tr class="row-odd"><td><p>L-BFGS-B</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Limited memory BFGS</p></td>
</tr>
<tr class="row-even"><td><p>TNC</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Truncated Newton</p></td>
</tr>
<tr class="row-odd"><td><p>COBYLA</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>Constrained optimization by linear approx.</p></td>
</tr>
<tr class="row-even"><td><p>SLSQP</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Sequential Least Squares Programming</p></td>
</tr>
<tr class="row-odd"><td><p>trust-constr</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Trust-region constrained</p></td>
</tr>
<tr class="row-even"><td><p>dogleg</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Requires Hessian</p></td>
</tr>
<tr class="row-odd"><td><p>trust-ncg</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Newton-CG trust region</p></td>
</tr>
<tr class="row-even"><td><p>trust-exact</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Trust-region, exact Hessian</p></td>
</tr>
<tr class="row-odd"><td><p>trust-krylov</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Trust-region, Hessian-free</p></td>
</tr>
</tbody>
</table>
<p>Reference:</p>
<p><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize</a>.</p>
<p>Parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span>
</pre></div>
</div>
<blockquote>
<div><p>Arbitrary keyword arguments passed to <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code>, such as:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">(str)</span></code>: The optimization method to use.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span> <span class="pre">(dict)</span></code>: Solver-specific options like <code class="docutils literal notranslate"><span class="pre">disp</span></code>, <code class="docutils literal notranslate"><span class="pre">maxiter</span></code>, <code class="docutils literal notranslate"><span class="pre">gtol</span></code>, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bounds</span> <span class="pre">(list</span> <span class="pre">of</span> <span class="pre">tuple)</span></code>: Variable bounds; defaults to self.bounds if not provided.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x0</span> <span class="pre">(list):</span></code> Optional starting guess (will override default provided values with <code class="docutils literal notranslate"><span class="pre">add_control_var</span></code> starting values).</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>result (OptimizeResult):</dt><dd><p>The optimization result object with the following additional field:
- result.x_vars (dict): A dictionary of variable labels and optimized values.</p>
</dd>
</dl>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.optimizer.single</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContinuousVariable</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Problem</span><span class="p">(</span><span class="n">ContVarProblem</span><span class="p">):</span>

      <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">simulation</span><span class="o">=</span><span class="s1">&#39;Simulation&#39;</span><span class="p">):</span>
          <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">simulation</span><span class="p">)</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">simulation</span> <span class="o">=</span> <span class="n">simulation</span>
      <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
         <span class="k">return</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">Yield</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;Maize&quot;</span><span class="p">,</span> <span class="n">simulation</span><span class="o">=</span><span class="s2">&quot;Sim&quot;</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span><span class="s2">&quot;Manager&quot;</span><span class="p">,</span> <span class="s2">&quot;Sow using a rule&quot;</span><span class="p">,</span> <span class="s2">&quot;Population&quot;</span><span class="p">,</span> <span class="n">v_type</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
                      <span class="n">start_value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span><span class="s2">&quot;Manager&quot;</span><span class="p">,</span> <span class="s2">&quot;Sow using a rule&quot;</span><span class="p">,</span> <span class="s2">&quot;RowSpacing&quot;</span><span class="p">,</span> <span class="n">v_type</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">,</span>
                      <span class="n">start_value</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">1200</span><span class="p">])</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">minimize_with_local_solver</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;Powell&#39;</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;maxiter&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">x_vars</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;RowSpacing&#39;</span><span class="p">:</span> <span class="mi">800</span><span class="p">}</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.optimization_type">
<span class="sig-name descname"><span class="pre">optimization_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.optimization_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Must be implemented as a property in subclass</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.minimize_with_de">
<span class="sig-name descname"><span class="pre">minimize_with_de</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'best1bin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.5,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recombination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polish</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latinhypercube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'immediate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">integrality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.minimize_with_de" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>reference; <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.update_pbar">
<span class="sig-name descname"><span class="pre">update_pbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_by=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.update_pbar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Extends the tqdm progress bar by <code class="docutils literal notranslate"><span class="pre">extend_by</span></code> steps if current progress exceeds the known max.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>labels (list): List of variable labels used for tqdm description.
extend_by (int): Number of additional steps to extend the progress bar.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.ContinuousVariable.add_control">
<span class="sig-name descname"><span class="pre">add_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.ContinuousVariable.add_control" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a single APSIM parameter to be optimized.</p>
<section id="id346">
<h4>Parameters<a class="headerlink" href="#id346" title="Link to this heading"></a></h4>
<dl>
<dt>path<span class="classifier">str</span></dt><dd><blockquote>
<div><p>APSIM component path.</p>
</div></blockquote>
<dl class="simple">
<dt>v_type<span class="classifier">type</span></dt><dd><p>The Python type of the variable. Should be either <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">float</span></code> for continous variable problem or
‘uniform’, ‘choice’,  ‘grid’,   ‘categorical’,   ‘qrandint’,  ‘quniform’ for mixed variable problem</p>
</dd>
</dl>
</dd>
<dt>start_value<span class="classifier">any (type determined by the variable type.</span></dt><dd><p>The initial value to use for the parameter in optimization routines. Only required for single objective optimizations</p>
</dd>
<dt>bounds<span class="classifier">tuple of (float, float), optional</span></dt><dd><p>Lower and upper bounds for the parameter (used in bounded optimization).
Must be a tuple like (min, max). If None, the variable is considered unbounded or categorical or the algorithm to be used do not support bounds</p>
</dd>
<dt>kwargs: dict</dt><dd><p>One of the key-value pairs must contain a value of ‘?’, indicating the parameter to be filled during optimization.
Keyword arguments are used because most APSIM models have unique parameter structures, and this approach allows
flexible specification of model-specific parameters. It is also possible to pass other parameters associated with the model in question to be changed on the fly.</p>
</dd>
</dl>
</section>
<section id="id347">
<h4>Returns<a class="headerlink" href="#id347" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>self<span class="classifier">object</span></dt><dd><p>Returns self to support method chaining.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>Raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the provided arguments do not pass validation via <code class="docutils literal notranslate"><span class="pre">_evaluate_args</span></code>.</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This method is typically used before running optimization to define which
parameters should be tuned.</p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
 <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.optimizer</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiObjectiveProblem</span>
 <span class="n">runner</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>

<span class="n">_vars</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
 <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}</span>
 <span class="p">]</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="n">decision_vars</span><span class="o">=</span><span class="n">_vars</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
       <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">})</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
       <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]})</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.optimizer.single.</span></span><span class="sig-name descname"><span class="pre">MixedVariable</span></span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable" title="Link to this definition"></a></dt>
<dd><section id="id348">
<h4>List of Public Attributes:<a class="headerlink" href="#id348" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">bounds</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">indicators</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">labels</span></code></p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">outcomes</span></code></p></li>
</ul>
<section id="id349">
<h5>List of Public Methods<a class="headerlink" href="#id349" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_control()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">minimize_with_a_local_solver()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">minimize_with_alocal_solver()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">minimize_with_de()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_pbar()</span></code></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apsim_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'ApsimNGpy.Core.Model'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cache_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objectives</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decision_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Initialize self.  See help(type(self)) for accurate signature.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.minimize_with_alocal_solver">
<span class="sig-name descname"><span class="pre">minimize_with_alocal_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.minimize_with_alocal_solver" title="Link to this definition"></a></dt>
<dd><p>Run a local optimization solver (e.g., Powell, L-BFGS-B, etc.) on given defined problem.</p>
<p>This method wraps <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code> and handles mixed-variable encoding internally
using the <code class="docutils literal notranslate"><span class="pre">Objective</span></code> wrapper from <code class="docutils literal notranslate"><span class="pre">wrapdisc</span></code>. It supports any method supported by SciPy’s
<code class="docutils literal notranslate"><span class="pre">minimize</span></code> function and uses the encoded starting values and variable bounds. This decoding implies that you can optimize categorical variable such as start dates or
cultivar paramter with xy numerical values.</p>
<p>Progress is tracked using a progress bar, and results are automatically decoded and stored
in <code class="docutils literal notranslate"><span class="pre">self.outcomes</span></code>.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><dl class="simple">
<dt><a href="#id350"><span class="problematic" id="id351">**</span></a>kwargs: Keyword arguments passed directly to <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code>.</dt><dd><dl class="simple">
<dt>Important keys include:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">method</span> <span class="pre">(str)</span></code>: Optimization algorithm (e.g., ‘Powell’, ‘L-BFGS-B’).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span> <span class="pre">(dict)</span></code>: Dictionary of solver options like maxiter, disp, etc.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<p>scipy.optimize.minimize provide a number of optimization algorithms see table below or for details check their website:
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize</a></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Gradient Required</p></th>
<th class="head"><p>Handles Bounds</p></th>
<th class="head"><p>Handles Constraints</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Nelder-Mead</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Simplex algorithm</p></td>
</tr>
<tr class="row-odd"><td><p>Powell</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Direction set method</p></td>
</tr>
<tr class="row-even"><td><p>CG</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Conjugate Gradient</p></td>
</tr>
<tr class="row-odd"><td><p>BFGS</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Quasi-Newton</p></td>
</tr>
<tr class="row-even"><td><p>Newton-CG</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Newton’s method</p></td>
</tr>
<tr class="row-odd"><td><p>L-BFGS-B</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Limited memory BFGS</p></td>
</tr>
<tr class="row-even"><td><p>TNC</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Truncated Newton</p></td>
</tr>
<tr class="row-odd"><td><p>COBYLA</p></td>
<td><p>Local (Derivative-free)</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>Constrained optimization by linear approx.</p></td>
</tr>
<tr class="row-even"><td><p>SLSQP</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Sequential Least Squares Programming</p></td>
</tr>
<tr class="row-odd"><td><p>trust-constr</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Trust-region constrained</p></td>
</tr>
<tr class="row-even"><td><p>dogleg</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Requires Hessian</p></td>
</tr>
<tr class="row-odd"><td><p>trust-ncg</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Newton-CG trust region</p></td>
</tr>
<tr class="row-even"><td><p>trust-exact</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Trust-region, exact Hessian</p></td>
</tr>
<tr class="row-odd"><td><p>trust-krylov</p></td>
<td><p>Local (Gradient-based)</p></td>
<td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Trust-region, Hessian-free</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>result (OptimizeResult): The result of the optimization, with an additional</dt><dd><p><code class="docutils literal notranslate"><span class="pre">x_vars</span></code> attribute that provides a labeled dict of optimized
control variable values.</p>
</dd>
</dl>
</dd>
<dt>Raises:</dt><dd><p>Any exceptions raised by <code class="docutils literal notranslate"><span class="pre">scipy.optimize.minimize</span></code>.</p>
</dd>
</dl>
<p>The following example shows how to use this method, the evaluation is very basic, but you
can add a more advanced evaluation by adding a loss function e.g RMSE os NSE by comparing with the observed and predicted,
and changing the control variables:</p>
<dl class="simple">
<dt>class Problem(MixedVarProblem):</dt><dd><dl class="simple">
<dt>def __init__(self, model=None, simulation=’Simulation’):</dt><dd><p>super().__init__(model, simulation)
self.simulation = simulation</p>
</dd>
<dt>def evaluate(self, x, <a href="#id352"><span class="problematic" id="id353">**</span></a>kwargs):</dt><dd><p># All evlauations can be defined inside here, by taking into accound the fact that the results object returns a data frame
# Also, you can specify the database table or report name holding the <code class="docutils literal notranslate"><span class="pre">results</span></code>
return -self.run(verbose=False).results.Yield.mean() # A return is based on your objective definition, but as I said this could a <code class="docutils literal notranslate"><span class="pre">RRMSE</span></code> error or any other loss function</p>
</dd>
</dl>
</dd>
</dl>
<p># Ready to initialise the problem</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span>
    <span class="n">Amount</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
    <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
    <span class="n">v_type</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
    <span class="n">start_value</span> <span class="o">=</span><span class="mi">50</span>
 <span class="p">)</span>

<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="n">path</span><span class="o">=</span><span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span>
    <span class="n">Population</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">,</span>
    <span class="n">bounds</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
    <span class="n">v_type</span><span class="o">=</span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
    <span class="n">start_value</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.minimize_with_de">
<span class="sig-name descname"><span class="pre">minimize_with_de</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'best1bin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.5,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recombination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polish</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latinhypercube'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'immediate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">integrality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vectorized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.minimize_with_de" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Runs differential evolution on the wrapped objective function.
Reference: <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.optimization_type">
<span class="sig-name descname"><span class="pre">optimization_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.optimization_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Must be implemented as a property in subclass</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.update_pbar">
<span class="sig-name descname"><span class="pre">update_pbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_by=None)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.update_pbar" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Extends the tqdm progress bar by <code class="docutils literal notranslate"><span class="pre">extend_by</span></code> steps if current progress exceeds the known max.</p>
<dl class="simple">
<dt>Parameters:</dt><dd><p>labels (list): List of variable labels used for tqdm description.
extend_by (int): Number of additional steps to extend the progress bar.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.minimize_with_a_local_solver">
<span class="sig-name descname"><span class="pre">minimize_with_a_local_solver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.minimize_with_a_local_solver" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>To be implimneted in sub class</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.optimizer.single.MixedVariable.add_control">
<span class="sig-name descname"><span class="pre">add_control</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_value=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs)</span> <span class="pre">(inherited</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.optimizer.single.MixedVariable.add_control" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Adds a single APSIM parameter to be optimized.</p>
</section>
<section id="id354">
<h5>Parameters<a class="headerlink" href="#id354" title="Link to this heading"></a></h5>
<dl>
<dt>path<span class="classifier">str</span></dt><dd><blockquote>
<div><p>APSIM component path.</p>
</div></blockquote>
<dl class="simple">
<dt>v_type<span class="classifier">type</span></dt><dd><p>The Python type of the variable. Should be either <code class="docutils literal notranslate"><span class="pre">int</span></code> or <code class="docutils literal notranslate"><span class="pre">float</span></code> for continous variable problem or
‘uniform’, ‘choice’,  ‘grid’,   ‘categorical’,   ‘qrandint’,  ‘quniform’ for mixed variable problem</p>
</dd>
</dl>
</dd>
<dt>start_value<span class="classifier">any (type determined by the variable type.</span></dt><dd><p>The initial value to use for the parameter in optimization routines. Only required for single objective optimizations</p>
</dd>
<dt>bounds<span class="classifier">tuple of (float, float), optional</span></dt><dd><p>Lower and upper bounds for the parameter (used in bounded optimization).
Must be a tuple like (min, max). If None, the variable is considered unbounded or categorical or the algorithm to be used do not support bounds</p>
</dd>
<dt>kwargs: dict</dt><dd><p>One of the key-value pairs must contain a value of ‘?’, indicating the parameter to be filled during optimization.
Keyword arguments are used because most APSIM models have unique parameter structures, and this approach allows
flexible specification of model-specific parameters. It is also possible to pass other parameters associated with the model in question to be changed on the fly.</p>
</dd>
</dl>
</section>
<section id="id355">
<h5>Returns<a class="headerlink" href="#id355" title="Link to this heading"></a></h5>
<dl class="simple">
<dt>self<span class="classifier">object</span></dt><dd><p>Returns self to support method chaining.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>Raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code></dt><dd><p>If the provided arguments do not pass validation via <code class="docutils literal notranslate"><span class="pre">_evaluate_args</span></code>.</p>
</dd>
</dl>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This method is typically used before running optimization to define which
parameters should be tuned.</p></li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.apsim</span><span class="w"> </span><span class="kn">import</span> <span class="n">ApsimModel</span>
 <span class="kn">from</span><span class="w"> </span><span class="nn">apsimNGpy.core.optimizer</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiObjectiveProblem</span>
 <span class="n">runner</span> <span class="o">=</span> <span class="n">ApsimModel</span><span class="p">(</span><span class="s2">&quot;Maize&quot;</span><span class="p">)</span>

<span class="n">_vars</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
 <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]}</span>
 <span class="p">]</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="n">decision_vars</span><span class="o">=</span><span class="n">_vars</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">MultiObjectiveProblem</span><span class="p">(</span><span class="n">runner</span><span class="p">,</span> <span class="n">objectives</span><span class="o">=</span><span class="n">objectives</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Fertilise at sowing&#39;</span><span class="p">,</span> <span class="s1">&#39;Amount&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s2">&quot;bounds&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span>
       <span class="s2">&quot;v_type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">})</span>
<span class="n">problem</span><span class="o">.</span><span class="n">add_control</span><span class="p">(</span>
    <span class="o">**</span><span class="p">{</span><span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;.Simulations.Simulation.Field.Sow using a variable rule&#39;</span><span class="p">,</span> <span class="s1">&#39;Population&#39;</span><span class="p">:</span> <span class="s2">&quot;?&quot;</span><span class="p">,</span> <span class="s1">&#39;v_type&#39;</span><span class="p">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
       <span class="s1">&#39;bounds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">]})</span>
</pre></div>
</div>
</section>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-parallel-process">
<h2>apsimNGpy.parallel.process<a class="headerlink" href="#apsimngpy-parallel-process" title="Link to this heading"></a></h2>
<section id="id356">
<h3>Functions<a class="headerlink" href="#id356" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.parallel.process.custom_parallel">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.parallel.process.</span></span><span class="sig-name descname"><span class="pre">custom_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Iterable'</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.parallel.process.custom_parallel" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Run a function in parallel using threads or processes.</p>
<dl class="simple">
<dt>func<span class="classifier">callable</span></dt><dd><p>The function to run in parallel.</p>
</dd>
<dt>iterable<span class="classifier">iterable</span></dt><dd><p>An iterable of items to be processed by <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt><a href="#id357"><span class="problematic" id="id358">*</span></a>args</dt><dd><p>Additional positional arguments to pass to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
</dl>
<dl class="simple">
<dt>Any</dt><dd><p>The result of <code class="docutils literal notranslate"><span class="pre">func</span></code> for each item in <code class="docutils literal notranslate"><span class="pre">iterable</span></code>.</p>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>kwargs</dt><dd><dl class="simple">
<dt>use_thread<span class="classifier">bool, optional, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use threads; if <code class="docutils literal notranslate"><span class="pre">False</span></code>, use processes (recommended for CPU-bound work).</p>
</dd>
<dt>ncores<span class="classifier">int, optional</span></dt><dd><p>Number of worker threads/processes. Defaults to ~50% of available CPU cores.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional, default=True</span></dt><dd><p>Whether to display a progress indicator.</p>
</dd>
<dt>progress_message<span class="classifier">str, optional</span></dt><dd><p>Message shown alongside the progress indicator.
Defaults to <code class="docutils literal notranslate"><span class="pre">f&quot;Processing</span> <span class="pre">multiple</span> <span class="pre">jobs</span> <span class="pre">via</span> <span class="pre">{func.__name__},</span> <span class="pre">please</span> <span class="pre">wait!&quot;</span></code>.</p>
</dd>
<dt>void<span class="classifier">bool, optional, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, consume results internally (do not yield). Useful for
side-effect–only functions.</p>
</dd>
<dt>unit<span class="classifier">str, optional, default=”iteration”</span></dt><dd><p>Label for the progress indicator (cosmetic only).</p>
</dd>
</dl>
<p>Run with processes (CPU-bound):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">run_parallel</span><span class="p">(</span><span class="n">work</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">use_thread</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ncores</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>Run with threads (I/O-bound):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">run_parallel</span><span class="p">(</span><span class="n">download</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">use_thread</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.parallel.process.custom_parallel_chunks" title="apsimNGpy.parallel.process.custom_parallel_chunks"><code class="xref py py-func docutils literal notranslate"><span class="pre">custom_parallel_chunks()</span></code></a></p>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="apsimNGpy.parallel.process.custom_parallel_chunks">
<span class="sig-prename descclassname"><span class="pre">apsimNGpy.parallel.process.</span></span><span class="sig-name descname"><span class="pre">custom_parallel_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Callable[...,</span> <span class="pre">Any]'</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="s"><span class="pre">'Iterable[Iterable[Any]]'</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#apsimNGpy.parallel.process.custom_parallel_chunks" title="Link to this definition"></a></dt>
<dd><p>Run a function in parallel using threads or processes.
The iterable is automatically divided into chunks, and each chunk is submitted to worker processes or threads.</p>
<section id="id359">
<h4>Parameters<a class="headerlink" href="#id359" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>func<span class="classifier">callable</span></dt><dd><p>The function to run in parallel.</p>
</dd>
<dt>iterable<span class="classifier">iterable</span></dt><dd><p>An iterable of items that will be processed by <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
<dt><a href="#id360"><span class="problematic" id="id361">*</span></a>args</dt><dd><p>Additional positional arguments to pass to <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
</dl>
</section>
<section id="id362">
<h4>Yields<a class="headerlink" href="#id362" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>Any</dt><dd><p>The results of <code class="docutils literal notranslate"><span class="pre">func</span></code> for each item in the iterable.
If <code class="docutils literal notranslate"><span class="pre">func</span></code> returns <code class="docutils literal notranslate"><span class="pre">None</span></code>, the results will be a sequence of <code class="docutils literal notranslate"><span class="pre">None</span></code>.
Note: The function returns a generator, which must be consumed to retrieve results.</p>
</dd>
</dl>
</section>
<section id="other-parameters">
<h4>Other Parameters<a class="headerlink" href="#other-parameters" title="Link to this heading"></a></h4>
<dl class="simple">
<dt>use_thread<span class="classifier">bool, optional, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use threads for parallel execution;
if <code class="docutils literal notranslate"><span class="pre">False</span></code>, use processes (recommended for CPU-bound tasks).</p>
</dd>
<dt>ncores<span class="classifier">int, optional</span></dt><dd><p>Number of worker processes or threads to use.
Defaults to 50% of available CPU cores.</p>
</dd>
<dt>verbose<span class="classifier">bool, optional, default=True</span></dt><dd><p>Whether to display a progress bar.</p>
</dd>
<dt>progress_message<span class="classifier">str, optional</span></dt><dd><p>Message to display alongside the progress bar.
Defaults to <code class="docutils literal notranslate"><span class="pre">f&quot;Processing</span> <span class="pre">multiple</span> <span class="pre">jobs</span> <span class="pre">via</span> <span class="pre">{func.__name__},</span> <span class="pre">please</span> <span class="pre">wait!&quot;</span></code>.</p>
</dd>
<dt>void<span class="classifier">bool, optional, default=False</span></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, results are consumed internally (not yielded).
Useful for functions that operate with side effects and do not return results.</p>
</dd>
<dt>unit<span class="classifier">str, optional, default=”iteration”</span></dt><dd><p>Label for the progress bar unit (cosmetic only).</p>
</dd>
<dt>n_chunks<span class="classifier">int, optional</span></dt><dd><p>Number of chunks to divide the iterable into.
For example, if the iterable length is 100 and <code class="docutils literal notranslate"><span class="pre">n_chunks=10</span></code>, each chunk will have 10 items.</p>
</dd>
<dt>chunk_size<span class="classifier">int, optional</span></dt><dd><p>Size of each chunk.
If specified, <code class="docutils literal notranslate"><span class="pre">n_chunks</span></code> is determined automatically.
For example, if the iterable length is 100 and <code class="docutils literal notranslate"><span class="pre">chunk_size=10</span></code>, then <code class="docutils literal notranslate"><span class="pre">n_chunks=10</span></code>.</p>
</dd>
</dl>
</section>
<section id="id363">
<h4>Examples<a class="headerlink" href="#id363" title="Link to this heading"></a></h4>
<p>Run with processes (CPU-bound):
&gt;&gt;&gt; def worker():
… pass</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">run_parallel</span><span class="p">(</span><span class="n">work</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">use_thread</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ncores</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>Run with threads (I/O-bound):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">run_parallel</span><span class="p">(</span><span class="n">download</span><span class="p">,</span> <span class="n">urls</span><span class="p">,</span> <span class="n">use_thread</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#apsimNGpy.parallel.process.custom_parallel" title="apsimNGpy.parallel.process.custom_parallel"><code class="xref py py-func docutils literal notranslate"><span class="pre">custom_parallel()</span></code></a></p>
</div>
</section>
</dd></dl>

</section>
</section>
<section id="apsimngpy-validation-evaluator">
<h2>apsimNGpy.validation.evaluator<a class="headerlink" href="#apsimngpy-validation-evaluator" title="Link to this heading"></a></h2>
<p>Evaluate predicted vs. observed data using statistical and mathematical metrics.
For detailed metric definitions, see Archontoulis et al. (2015).</p>
<section id="id364">
<h3>Classes<a class="headerlink" href="#id364" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="apsimNGpy.validation.evaluator.Validate">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">apsimNGpy.validation.evaluator.</span></span><span class="sig-name descname"><span class="pre">Validate</span></span><a class="headerlink" href="#apsimNGpy.validation.evaluator.Validate" title="Link to this definition"></a></dt>
<dd><p>Compares predicted and observed values using various statistical metrics.</p>
<dl class="py method">
<dt class="sig sig-object py" id="apsimNGpy.validation.evaluator.Validate.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actual</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predicted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pandas.core.series.Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#apsimNGpy.validation.evaluator.Validate.__init__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Method generated by attrs for class Validate.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="apsimNGpy.validation.evaluator.Validate.METRICS">
<span class="sig-name descname"><span class="pre">METRICS</span></span><a class="headerlink" href="#apsimNGpy.validation.evaluator.Validate.METRICS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<p>Default: <code class="docutils literal notranslate"><span class="pre">['RMSE',</span> <span class="pre">'MAE',</span> <span class="pre">'MSE',</span> <span class="pre">'RRMSE',</span> <span class="pre">'bias',</span> <span class="pre">'ME',</span> <span class="pre">'WIA',</span> <span class="pre">'R2',</span> <span class="pre">'CCC',</span> <span class="pre">'slope']</span></code></p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plotting.html" class="btn btn-neutral float-left" title="Plotting and Visualizing Simulated Output" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Richard Magala.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>